import{appendToQueryString as t,getQueryString as e,parseWalletConnectUri as n,isBrowser as i,getLocation as o,detectEnv as r,getLocal as s,setLocal as c,removeLocal as a,getClientMeta as l}from"@deficonnect/utils";import"regenerator-runtime/runtime";import h from"@deficonnect/web3-provider";import u from"@deficonnect/core";import*as d from"@deficonnect/iso-crypto";import p from"qrcode";import{pubkeyType as f}from"@cosmjs/amino";import{fromBase64 as g,toBase64 as v}from"@cosmjs/encoding";import{TxBody as w,AuthInfo as m,TxRaw as y}from"cosmjs-types/cosmos/tx/v1beta1/tx";import{isTsProtoGeneratedType as x}from"@cosmjs/proto-signing";import{defaultRegistryTypes as b}from"@cosmjs/stargate";import{InjectedConnector as _}from"@web3-react/injected-connector";var C,E="object"==typeof Reflect?Reflect:null,S=E&&"function"==typeof E.apply?E.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};C=E&&"function"==typeof E.ownKeys?E.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var k=Number.isNaN||function(t){return t!=t};function L(){L.init.call(this)}var O=L;L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;var I,T=10;function N(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function F(t){return void 0===t._maxListeners?L.defaultMaxListeners:t._maxListeners}function A(t,e,n,i){var o,r,s;if(N(n),void 0===(r=t._events)?(r=t._events=Object.create(null),t._eventsCount=0):(void 0!==r.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),r=t._events),s=r[e]),void 0===s)s=r[e]=n,++t._eventsCount;else if("function"==typeof s?s=r[e]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(o=F(t))>0&&s.length>o&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=s.length,console&&console.warn&&console.warn(c)}return t}function M(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function R(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},o=M.bind(i);return o.listener=n,i.wrapFn=o,o}function B(t,e,n){var i=t._events;if(void 0===i)return[];var o=i[e];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(o):D(o,o.length)}function W(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function D(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}function j(t,e,n,i){if("function"==typeof t.on)i.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,function o(r){i.once&&t.removeEventListener(e,o),n(r)})}}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return T},set:function(t){if("number"!=typeof t||t<0||k(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");T=t}}),L.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||k(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},L.prototype.getMaxListeners=function(){return F(this)},L.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var r;if(e.length>0&&(r=e[0]),r instanceof Error)throw r;var s=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw s.context=r,s}var c=o[t];if(void 0===c)return!1;if("function"==typeof c)S(c,this,e);else{var a=c.length,l=D(c,a);for(n=0;n<a;++n)S(l[n],this,e)}return!0},L.prototype.on=L.prototype.addListener=function(t,e){return A(this,t,e,!1)},L.prototype.prependListener=function(t,e){return A(this,t,e,!0)},L.prototype.once=function(t,e){return N(e),this.on(t,R(this,t,e)),this},L.prototype.prependOnceListener=function(t,e){return N(e),this.prependListener(t,R(this,t,e)),this},L.prototype.off=L.prototype.removeListener=function(t,e){var n,i,o,r,s;if(N(e),void 0===(i=this._events))return this;if(void 0===(n=i[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(o=-1,r=n.length-1;r>=0;r--)if(n[r]===e||n[r].listener===e){s=n[r].listener,o=r;break}if(o<0)return this;0===o?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,o),1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,s||e)}return this},L.prototype.removeAllListeners=function(t){var e,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var o,r=Object.keys(n);for(i=0;i<r.length;++i)"removeListener"!==(o=r[i])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},L.prototype.listeners=function(t){return B(this,t,!0)},L.prototype.rawListeners=function(t){return B(this,t,!1)},L.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):W.call(t,e)},L.prototype.listenerCount=W,L.prototype.eventNames=function(){return this._eventsCount>0?C(this._events):[]},O.once=function(t,e){return new Promise(function(n,i){function o(n){t.removeListener(e,r),i(n)}function r(){"function"==typeof t.removeListener&&t.removeListener("error",o),n([].slice.call(arguments))}j(t,e,r,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&j(t,"error",e,{once:!0})}(t,o)})},function(t){t.Update="Web3ReactUpdate",t.Error="Web3ReactError",t.Deactivate="Web3ReactDeactivate"}(I||(I={}));var z=
/*#__PURE__*/
function(t){var e,n;function i(e){var n,i=(void 0===e?{}:e).supportedChainIds;return(n=t.call(this)||this).supportedChainIds=i,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=i.prototype;return o.emitUpdate=function(t){"production"!==process.env.NODE_ENV&&console.log("Emitting '"+I.Update+"' with payload",t),this.emit(I.Update,t)},o.emitError=function(t){"production"!==process.env.NODE_ENV&&console.log("Emitting '"+I.Error+"' with payload",t),this.emit(I.Error,t)},o.emitDeactivate=function(){"production"!==process.env.NODE_ENV&&console.log("Emitting '"+I.Deactivate+"'"),this.emit(I.Deactivate)},i}(O.EventEmitter);function U(){return U=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},U.apply(this,arguments)}const q=t=>t&&0!==t.length?t.split("?")[0]:t,P=(n,i)=>{if(!n||0===n.length)return n;const o=n.split("?"),r=t("?"+e(o[1]||""),i);return o[0]+"?"+r},V=(t,e)=>{const i=n(t),o=encodeURIComponent(P(decodeURIComponent(i.bridge),e));return`${i.protocol}:${i.handshakeTopic}@${i.version}?bridge=${o}&key=${i.key}`},$=(t,e)=>{const i=n(t),o=encodeURIComponent(q(decodeURIComponent(i.bridge)));return`${e}:${i.handshakeTopic}@${i.version}?bridge=${o}&key=${i.key}`},G=t=>$(t,"CWE"),H=t=>$(t,"wc"),Q=(t,e=20)=>{let n=t;return n=n.substr(0,e)+(n.length>e?"...":""),n};class Z{constructor(){this._eventEmitters=[],"undefined"!=typeof window&&void 0!==window.addEventListener&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(t,e){this._eventEmitters.push({event:t,callback:e})}trigger(t){let e=[];t&&(e=this._eventEmitters.filter(e=>e.event===t)),e.forEach(t=>{t.callback()})}}const K=void 0!==global.WebSocket?global.WebSocket:require("ws");class J{constructor(t){if(this.opts=t,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=t.protocol,this._version=t.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=t.subscriptions||[],this._netMonitor=t.netMonitor||new Z,!t.url||"string"!=typeof t.url)throw new Error("Missing or invalid WebSocket url");this._url=t.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(t){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(t){}get connecting(){return 0===this.readyState}set connected(t){}get connected(){return 1===this.readyState}set closing(t){}get closing(){return 2===this.readyState}set closed(t){}get closed(){return 3===this.readyState}open(){this._socketCreate()}close(){this._socketClose()}send(t,e,n){if(!e||"string"!=typeof e)throw new Error("Missing or invalid topic field");this._socketSend({topic:e,type:"pub",payload:t,silent:!!n})}subscribe(t){this._socketSend({topic:t,type:"sub",payload:"",silent:!0})}on(t,e){this._events.push({event:t,callback:e})}_socketCreate(){if(this._nextSocket)return;const n=function(n,s,c){var a,l;const h=(n.startsWith("https")?n.replace("https","wss"):n.startsWith("http")?n.replace("http","ws"):n).split("?"),u=i()?{protocol:s,version:c,env:"browser",host:(null===(a=o())||void 0===a?void 0:a.host)||""}:{protocol:s,version:c,env:(null===(l=r())||void 0===l?void 0:l.name)||""},d=t(e("?"+(h[1]||"")),u);return h[0]+"?"+d}(this._url,this._protocol,this._version);if(this._nextSocket=new K(n),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=t=>this._socketReceive(t),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=t=>this._socketError(t),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(t){const e=JSON.stringify(t);this._socket&&1===this._socket.readyState?this._socket.send(e):(this._setToQueue(t),this._socketCreate())}async _socketReceive(t){let e;try{e=JSON.parse(t.data)}catch(t){return}if(this._socketSend({topic:e.topic,type:"ack",payload:"",silent:!0}),this._socket&&1===this._socket.readyState){const t=this._events.filter(t=>"message"===t.event);t&&t.length&&t.forEach(t=>t.callback(e))}}_socketError(t){const e=this._events.filter(t=>"error"===t.event);e&&e.length&&e.forEach(e=>e.callback(t))}_queueSubscriptions(){this._subscriptions.forEach(t=>this._queue.push({topic:t,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(t){this._queue.push(t)}_pushQueue(){this._queue.forEach(t=>this._socketSend(t)),this._queue=[]}}class X{constructor(t){var e;this.connector=void 0,this.transport=void 0,this.sessionStorage=void 0;const{connectorOpts:i,sessionStorage:o,exists:r}=t;this.sessionStorage=o;const s=(null==i?void 0:i.session)||(null==o?void 0:o.getSession());let c,a,l=null!=(e=null==i?void 0:i.bridge)?e:null==s?void 0:s.bridge;if(!l&&null!=i&&i.uri&&(l=n(i.uri).bridge),r?c=r.transport:l&&(c=new J({protocol:"wc",version:3,url:l})),!c)throw new Error("bridge can not be null");if(r?a=r.connector:i&&(a=new u({cryptoLib:d,connectorOpts:i,sessionStorage:o,transport:c})),!a)throw new Error("connectorOpts can not be null");this.connector=a,this.transport=c,this.transport.subscribe(a.clientId)}clearSessionStorage(){var t;this.sessionStorage?this.sessionStorage.removeSession():null==(t=this.connector._sessionStorage)||t.removeSession()}}const Y=["svg","g","path","mask","defs","stop","linearGradient","filter","feFlood","feOffset","feGaussianBlur","feColorMatrix","feBlend"],tt=["floodOpacity"],et={onClick:"click"};function nt(t,e={},...n){if("function"==typeof t)return t(e);null===e&&(e={});const i=Y.includes(t)?(t=>{const e=document.createElementNS("http://www.w3.org/2000/svg",t);return"svg"===t&&e.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),e})(t):document.createElement(t);if(Object.keys(e).forEach(t=>{t in et?i.addEventListener(et[t],e[t]):tt.includes(t)?i.setAttribute(t.replace(/([A-Z])/g,"-$1").toLowerCase(),e[t]):i.setAttribute(t,e[t])}),"style"in e){const t=e.style;Object.keys(t).forEach(e=>{const n=t[e];if("number"==typeof n)i.style[e]=`${n}`;else{if("string"!=typeof n)throw new Error(`Expected "number" or "string" but received "${typeof n}"`);i.style[e]=n}})}return n.forEach(t=>{if("object"==typeof t)i.appendChild(t);else{if("string"!=typeof t)throw new Error(`Expected "object" or "string" but received "${typeof t}"`);i.appendChild(document.createTextNode(t))}}),i}function it(t){var e={exports:{}};return t(e,e.exports),e.exports}var ot=it(function(t,e){function n(t){let e;return"undefined"!=typeof window&&void 0!==window[t]&&(e=window[t]),e}function i(t){const e=n(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Object.defineProperty(e,"__esModule",{value:!0}),e.getLocalStorage=e.getLocalStorageOrThrow=e.getCrypto=e.getCryptoOrThrow=e.getLocation=e.getLocationOrThrow=e.getNavigator=e.getNavigatorOrThrow=e.getDocument=e.getDocumentOrThrow=e.getFromWindowOrThrow=e.getFromWindow=void 0,e.getFromWindow=n,e.getFromWindowOrThrow=i,e.getDocumentOrThrow=function(){return i("document")},e.getDocument=function(){return n("document")},e.getNavigatorOrThrow=function(){return i("navigator")},e.getNavigator=function(){return n("navigator")},e.getLocationOrThrow=function(){return i("location")},e.getLocation=function(){return n("location")},e.getCryptoOrThrow=function(){return i("crypto")},e.getCrypto=function(){return n("crypto")},e.getLocalStorageOrThrow=function(){return i("localStorage")},e.getLocalStorage=function(){return n("localStorage")}});it(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.getWindowMetadata=void 0,e.getWindowMetadata=function(){let t,e;try{t=ot.getDocumentOrThrow(),e=ot.getLocationOrThrow()}catch(t){return null}function n(...e){const n=t.getElementsByTagName("meta");for(let t=0;t<n.length;t++){const i=n[t],o=["itemprop","property","name"].map(t=>i.getAttribute(t)).filter(t=>!!t&&e.includes(t));if(o.length&&o){const t=i.getAttribute("content");if(t)return t}}return""}const i=function(){let e=n("name","og:site_name","og:title","twitter:title");return e||(e=t.title),e}();return{description:n("description","og:description","twitter:description","keywords"),url:e.origin,icons:function(){const n=t.getElementsByTagName("link"),i=[];for(let t=0;t<n.length;t++){const o=n[t],r=o.getAttribute("rel");if(r&&r.toLowerCase().indexOf("icon")>-1){const t=o.getAttribute("href");if(t)if(-1===t.toLowerCase().indexOf("https:")&&-1===t.toLowerCase().indexOf("http:")&&0!==t.indexOf("//")){let n=e.protocol+"//"+e.host;if(0===t.indexOf("/"))n+=t;else{const i=e.pathname.split("/");i.pop(),n+=i.join("/")+"/"+t}i.push(n)}else 0===t.indexOf("//")?i.push(e.protocol+t):i.push(t)}}return i}(),name:i}}});var rt=function(t,e,n){this.name=t,this.version=e,this.os=n,this.type="browser"},st=function(t){this.version=t,this.type="node",this.name="node",this.os=process.platform},ct=function(t,e,n,i){this.name=t,this.version=e,this.os=n,this.bot=i,this.type="bot-device"},at=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},lt=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},ht=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,ut=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],dt=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function pt(){const t="undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new lt:"undefined"!=typeof navigator?function(t){var e=function(t){return""!==t&&ut.reduce(function(e,n){var i=n[0];if(e)return e;var o=n[1].exec(t);return!!o&&[i,o]},!1)}(t);if(!e)return null;var n=e[0],i=e[1];if("searchbot"===n)return new at;var o=i[1]&&i[1].split(/[._]/).slice(0,3);o?o.length<3&&(o=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),o=0;for(e=0;e<n;e++)for(var r=arguments[e],s=0,c=r.length;s<c;s++,o++)i[o]=r[s];return i}(o,function(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}(3-o.length))):o=[];var r=o.join("."),s=function(t){for(var e=0,n=dt.length;e<n;e++){var i=dt[e],o=i[0];if(i[1].exec(t))return o}return null}(t),c=ht.exec(t);return c&&c[1]?new ct(n,r,s,c[1]):new rt(n,r,s)}(navigator.userAgent):"undefined"!=typeof process&&process.version?new st(process.version.slice(1)):null;return t&&t.os?t.os:void 0}function ft(){const t=pt();return!!t&&(t.toLowerCase().includes("ios")||t.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1)}const gt=ot.getLocalStorage;function vt(t){const e=t.href.split("?")[0];!function(t,e){const n="string"==typeof(o=e)?o:JSON.stringify(o),i=gt();var o;i&&i.setItem("WALLETCONNECT_DEEPLINK_CHOICE",n)}(0,Object.assign(Object.assign({},t),{href:e}))}function wt(t){return nt("svg",U({width:60,height:60,viewBox:"5 5 66 66",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),nt("g",{filter:"url(#prefix__filter0_d)"},nt("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42.054 20.5c4.016 0 6.023 0 8.185.683a8.495 8.495 0 015.078 5.078c.683 2.161.683 4.17.683 8.185v12.108c0 4.016 0 6.023-.683 8.185a8.494 8.494 0 01-5.078 5.077c-2.162.684-4.169.684-8.185.684H29.946c-4.016 0-6.024 0-8.185-.684a8.494 8.494 0 01-5.078-5.077C16 52.577 16 50.57 16 46.554V34.446c0-4.016 0-6.024.683-8.185a8.495 8.495 0 015.078-5.078c2.161-.683 4.169-.683 8.185-.683h12.108z",fill:"#fff"}),nt("mask",{id:"prefix__a",maskUnits:"userSpaceOnUse",x:16,y:20,width:40,height:41},nt("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M42.054 20.5c4.016 0 6.023 0 8.185.683a8.495 8.495 0 015.078 5.078c.683 2.161.683 4.17.683 8.185v12.108c0 4.016 0 6.023-.683 8.185a8.494 8.494 0 01-5.078 5.077c-2.162.684-4.169.684-8.185.684H29.946c-4.016 0-6.024 0-8.185-.684a8.494 8.494 0 01-5.078-5.077C16 52.577 16 50.57 16 46.554V34.446c0-4.016 0-6.024.683-8.185a8.495 8.495 0 015.078-5.078c2.161-.683 4.169-.683 8.185-.683h12.108z",fill:"#fff"})),nt("g",{mask:"url(#prefix__a)",fillRule:"evenodd",clipRule:"evenodd"},nt("path",{d:"M35.98 24.485l-14.042 8.01v16.023L35.98 56.53l14.043-8.012V32.496L35.98 24.485z",fill:"#FEFEFE"}),nt("path",{d:"M35.98 24.485l-14.042 8.01v16.023L35.98 56.53l14.043-8.012V32.496L35.98 24.485zm-5.544 6.927h11.051l1.333 5.567H29.154l1.282-5.567zm3.184 9.517l-1.205-3.11h7.156l-1.18 3.11.343 3.474-2.754.012h-2.728l.368-3.486zm3.515 7.16v-1.103l2.474-2.344v-3.7l3.236-2.081 3.693 2.746-5.026 8.652H39.52l-2.385-2.17zm-11.711-6.482l3.704-2.721 3.274 2.056v3.7l2.474 2.344v1.103l-2.385 2.195h-2.018l-5.05-8.677z",fill:"#002D72"}),nt("path",{d:"M41.512 50.259H39.52l-2.385-2.17v-1.103l2.474-2.345v-3.7l3.236-2.08 3.693 2.746-5.026 8.652zM35.98 24.485v6.927h5.507l1.333 5.567h-6.84v.84h3.591l-1.18 3.11.343 3.474-2.754.012V56.53l14.043-8.012V32.496L35.98 24.485z",fill:"url(#prefix__paint0_linear)",style:{mixBlendMode:"multiply"}}),nt("path",{d:"M34.876 48.09l-2.385 2.194h-2.018l-5.05-8.677 3.705-2.721 3.274 2.056v3.7l2.474 2.344v1.103zm-1.624-3.675l.368-3.486-1.205-3.11h3.565v-.84h-6.826l1.282-5.567h5.544v-6.927l-14.042 8.01v16.023L35.98 56.53V44.415h-2.728z",fill:"url(#prefix__paint1_linear)",style:{mixBlendMode:"multiply"}}))),nt("defs",null,nt("linearGradient",{id:"prefix__paint0_linear",x1:48.526,y1:53.073,x2:48.526,y2:27.863,gradientUnits:"userSpaceOnUse"},nt("stop",{stopColor:"#002D72"}),nt("stop",{offset:1,stopColor:"#002D72",stopOpacity:.01})),nt("linearGradient",{id:"prefix__paint1_linear",x1:34.483,y1:53.073,x2:34.483,y2:27.863,gradientUnits:"userSpaceOnUse"},nt("stop",{stopColor:"#002D72",stopOpacity:.01}),nt("stop",{offset:1,stopColor:"#002D72"})),nt("filter",{id:"prefix__filter0_d",x:-4,y:.5,width:80,height:80,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},nt("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),nt("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),nt("feOffset",null),nt("feGaussianBlur",{stdDeviation:10}),nt("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),nt("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow"}),nt("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))))}function mt(t){return nt("svg",U({width:20,height:21,viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),nt("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.586 2.167H2.361a.694.694 0 00-.694.694v6.606h1.389V3.556h5.53v-1.39zm2.828 1.389v-1.39h6.225c.384 0 .694.312.694.695v6.606h-1.388V3.556h-5.53zm0 13.889h5.53v-5.223h1.39v5.917c0 .383-.311.694-.695.694h-6.225v-1.388zm-8.358-5.223v5.223h5.53v1.388H2.361a.695.695 0 01-.694-.694v-5.917h1.389z",fill:"#0B1426"}),nt("path",{fill:"#0B1426",d:"M5.833 9.667h8.333v1.667H5.833z"}))}function yt(){return nt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"27",height:"32",fill:"none",viewBox:"0 0 27 32"},nt("path",{fill:"#828FA1",fillRule:"evenodd",d:"M0 8.56v15.237l13.024 7.62 13.021-7.62V8.56L13.024.941 0 8.561zm1.146 14.57V9.23L13.024 2.28 24.903 9.23V23.13l-11.879 6.95-11.878-6.95z",clipRule:"evenodd"}),nt("path",{fill:"#828FA1",fillRule:"evenodd",d:"M18.128 7.52H7.894l-1.186 5.287h12.653L18.128 7.52zM9.71 20.083V16.57l-3.032-1.953-3.43 2.584 4.676 8.24h1.868L12 23.357V22.31L9.71 20.083z",clipRule:"evenodd"}),nt("path",{fill:"#828FA1",fillRule:"evenodd",d:"M16.348 13.604H9.72l1.116 2.954-.34 3.31h2.526l2.55-.012-.318-3.298 1.093-2.954z",clipRule:"evenodd"}),nt("path",{fill:"#828FA1",fillRule:"evenodd",d:"M19.379 14.593l-2.996 1.977v3.513l-2.29 2.227v1.047l2.208 2.06h1.844l4.653-8.216-3.419-2.608z",clipRule:"evenodd"}))}function xt(){return nt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},nt("path",{fill:"#1199FA",fillRule:"evenodd",d:"M12 1.75C6.34 1.75 1.75 6.34 1.75 12S6.34 22.25 12 22.25 22.25 17.66 22.25 12 17.66 1.75 12 1.75zM.25 12C.25 5.51 5.51.25 12 .25S23.75 5.51 23.75 12 18.49 23.75 12 23.75.25 18.49.25 12z",clipRule:"evenodd"}),nt("path",{fill:"#1199FA",fillRule:"evenodd",d:"M12.434.607a.75.75 0 011.059-.073C16.748 3.37 18.75 7.474 18.75 12c0 4.622-1.998 8.732-5.268 11.475a.75.75 0 11-.964-1.15c2.93-2.457 4.732-6.147 4.732-10.325 0-4.073-1.799-7.77-4.743-10.334a.75.75 0 01-.072-1.059zM11.575.618a.75.75 0 01-.093 1.057C8.552 4.132 6.75 7.822 6.75 12c0 4.073 1.798 7.77 4.743 10.334a.75.75 0 01-.986 1.132C7.252 20.63 5.25 16.526 5.25 12c0-4.622 1.998-8.732 5.268-11.475a.75.75 0 011.057.093z",clipRule:"evenodd"}),nt("path",{fill:"#1199FA",fillRule:"evenodd",d:"M12 .25a.75.75 0 01.75.75v22a.75.75 0 01-1.5 0V1A.75.75 0 0112 .25z",clipRule:"evenodd"}),nt("path",{fill:"#1199FA",fillRule:"evenodd",d:"M1.25 8A.75.75 0 012 7.25h20a.75.75 0 010 1.5H2A.75.75 0 011.25 8zM1.25 16a.75.75 0 01.75-.75h20a.75.75 0 010 1.5H2a.75.75 0 01-.75-.75z",clipRule:"evenodd"}))}function bt(){return nt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"none",viewBox:"0 0 22 22"},nt("path",{stroke:"#1199FA",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M10.676 4.651l2.191-2.282c1.826-1.825 4.838-1.825 6.664 0 1.826 1.826 1.826 4.838 0 6.755l-4.2 4.2c-1.825 1.825-4.837 1.825-6.663 0-.274-.274-.822-1.005-1.095-1.37"}),nt("path",{stroke:"#1199FA",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M10.676 4.651l2.191-2.282c1.826-1.825 4.838-1.825 6.664 0 1.826 1.826 1.826 4.838 0 6.755l-4.2 4.2c-1.825 1.825-4.837 1.825-6.663 0-.274-.274-.822-1.005-1.095-1.37"}),nt("path",{stroke:"#1199FA",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M11.224 17.431l-2.191 2.282c-1.826 1.826-4.838 1.826-6.664 0-1.825-1.825-1.825-4.838 0-6.755l4.2-4.199c1.825-1.826 4.837-1.826 6.663 0 .274.274.822 1.004 1.096 1.37"}))}function _t(){return nt("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},nt("path",{fill:"#1199FA",fillRule:"evenodd",d:"M5.778 10.023c-.548 0-1.028.466-1.028 1.068v9.09c0 .603.48 1.069 1.028 1.069h12.444c.548 0 1.028-.466 1.028-1.068V11.09c0-.602-.48-1.068-1.028-1.068H5.778zM3.25 11.09c0-1.398 1.12-2.568 2.528-2.568h12.444c1.408 0 2.528 1.17 2.528 2.568v9.09c0 1.399-1.12 2.569-2.528 2.569H5.778c-1.408 0-2.528-1.17-2.528-2.568V11.09zM12 2.75c-2.059 0-3.694 1.648-3.694 3.795a.75.75 0 11-1.5 0C6.806 3.602 9.08 1.25 12 1.25s5.195 2.352 5.195 5.295a.75.75 0 01-1.5 0c0-2.147-1.636-3.795-3.695-3.795z",clipRule:"evenodd"}),nt("path",{fill:"#1199FA",fillRule:"evenodd",d:"M16.444 5.795a.75.75 0 01.75.75V8.91a.75.75 0 01-1.5 0V6.545a.75.75 0 01.75-.75zM7.556 5.795a.75.75 0 01.75.75v2.637a.75.75 0 11-1.5 0V6.545a.75.75 0 01.75-.75z",clipRule:"evenodd"}))}const Ct={overlay:{background:"rgba(12, 12, 15, 0.7)",display:"flex",position:"fixed",zIndex:2,left:0,top:0,width:"100%",height:"100%",overflow:"auto",justifyContent:"center",alignItems:"center",userSelect:"none"},container:{display:"flex",flexDirection:"row",padding:"80px",background:"linear-gradient(180deg, #021E3F 0%, #002A67 95.76%)",borderRadius:"16px",maxWidth:"1100px",overflow:"hidden"},containerLeft:{display:"flex",flexDirection:"column",marginRight:"40px",flexShrink:1,minWidth:"450px"},header:{display:"flex",alignItems:"center",flexDirection:"row"},headerLogo:{},headerText:{color:"#828FA1",margin:"10px"},headerTextDivide:{backgroundColor:"#828FA1",width:"1px",height:"32px"},title:{color:"#FFFFFF",fontWeight:600,fontSize:"28px",marginTop:"24px",marginBottom:"16px",maxWidth:"500px"},feature:{display:"flex",alignItems:"center",flexDirection:"row",marginTop:"24px"},featureIcon:{},featureText:{marginLeft:"16px",color:"#FFFFFF",fontWeight:600,fontSize:"16px"},installButton:{marginTop:"40px",height:"48px",background:"#1199FA",borderRadius:"8px",padding:"0px 36px",border:"0px solid white",fontWeight:600,fontSize:"18px",color:"#FFFFFF",alignSelf:"flex-start",cursor:"pointer",zIndex:1001},containerRight:{flexShrink:0,display:"flex",flexDirection:"column",justifyContent:"stretch",alignItems:"center",backgroundColor:"#F7F9FA",width:"360px",height:"497px",borderRadius:"16px",overflow:"hidden"},rightQRcode:{flexGrow:0,marginTop:"48px",width:"160px",height:"160px",filter:"drop-shadow(0px 0px 8px rgba(0, 0, 0, 0.16))",borderRadius:"8px"},rightTitle:{fontWeight:600,fontSize:"22px",color:"#323C52",margin:"32px 0px 8px 0px"},stretchContainer:{display:"flex",flex:1,flexGrow:1},rightStep:{container:{display:"flex",flexDirection:"row",marginTop:"8px",alignSelf:"flex-start",marginLeft:"46px"},dot:{},desc:{fontSize:"16px",color:"#5D667B"},camera:{margin:"0px 8px"}},terms:{container:{display:"flex",flexDirection:"row",alignSelf:"stretch",justifyContent:"center",marginBottom:"16px"},text:{fontSize:"10px",color:"#5D667B"},link:{fontSize:"10px",color:"#4399F3",margin:"0px 4px",cursor:"pointer"}}},Et={container:{display:"flex",flexDirection:"row",justifyContent:"stretch",alignItems:"center",alignSelf:"stretch",backgroundColor:"white"},logoIcon:{width:"30px",height:"30px",padding:"5px",backgroundColor:"white",filter:"drop-shadow(0px 0px 8px rgba(0, 0, 0, 0.16))",borderRadius:"6px"},textContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",flex:1},title:{fontWeight:600,fontSize:"14px",lineHeight:"150%",color:"#323C52"},desc:{fontWeight:500,fontSize:"10px",lineHeight:"150%",color:"#7B849B"},button:{width:"75px",height:"34px",background:"#1199FA",border:"0px solid white",borderRadius:"4px",fontWeight:600,fontSize:"12px",color:"#FFFFFF",marginRight:"12px",cursor:"pointer",zIndex:1001}},St={name:"Crypto.com DeFi Wallet",shortName:"DeFi Wallet",color:"rgb(17, 153, 250)",logo:"./logos/wallet-crypto-defi.png",universalLink:"https://wallet.crypto.com",deepLink:"cryptowallet:"},kt=(t,e)=>{if(ft())window.open(t);else{let n=!1;window.addEventListener("blur",()=>{n=!0}),window.addEventListener("visibilitychange",()=>{document.hidden&&(n=!0)}),window.location.href=t,setTimeout(()=>{n||window.open(e)},1500)}},Lt={open:async function(t,e,n){const i=G(t)+"&role=dapp";if(ft()){const t=function(t,e){const n=encodeURIComponent(t);return e.universalLink?`${e.universalLink}/wc?uri=${n}`:e.deepLink?`${e.deepLink}${e.deepLink.endsWith(":")?"//":"/"}wc?uri=${n}`:""}(i,St);return vt({name:"Crypto.com DeFi Wallet",href:t}),void kt(t,"https://bit.ly/3Bk4wzE")}if(function(){const t=pt();return!!t&&t.toLowerCase().includes("android")}()){const t=$(i,"cwe")+"&role=dapp";return vt({name:"Unknown",href:t}),void kt(t,"https://bit.ly/3Bk4wzE")}const o=document.body,r=document.createElement("div");r.id="cryptoconnect-extension",o.appendChild(r);try{const t=await new Promise(t=>p.toDataURL(i,(e,n)=>t(n))),n=nt(Ot,{qrUrl:t});o.appendChild(n);const s=()=>{var t,e;null==(t=n.parentElement)||t.removeChild(n),null==(e=r.parentElement)||e.removeChild(r),window.removeEventListener("InstallExtensionQRCodeModal_Event_close",s)};window.addEventListener("InstallExtensionQRCodeModal_Event_close",s),n.onclick=()=>{e(),s()}}catch(t){console.log(t)}},close:function(){window.dispatchEvent(new Event("InstallExtensionQRCodeModal_Event_close"))}},Ot=t=>{const{qrUrl:e}=t;return nt("div",{style:Ct.overlay},nt("div",{style:Ct.container,onClick:t=>null==t?void 0:t.stopPropagation()},nt("div",{style:Ct.containerLeft},nt("div",{style:Ct.header},nt(yt,null),nt("div",{style:Ct.headerText},"crypto.com"),nt("div",{style:Ct.headerTextDivide}),nt("div",{style:Ct.headerText},"WALLET EXTENSION")),nt("div",{style:Ct.title},"Access DApps on desktop by connecting DeFi Wallet to Wallet Extension"),nt("div",{style:Ct.feature},nt(bt,null),nt("div",{style:Ct.featureText},"Stable connection to DApps")),nt("div",{style:Ct.feature},nt(_t,null),nt("div",{style:Ct.featureText},"Secure signing via DeFi Wallet")),nt("div",{style:Ct.feature},nt(xt,null),nt("div",{style:Ct.featureText},"Smooth App navigation with DApp connection")),nt("button",{style:Ct.installButton,onClick:()=>{window.open("https://wallet.crypto.com/api/v1/extension/install")}},"Install DeFi Wallet Extension")),nt("div",{style:Ct.containerRight},nt("img",{style:Ct.rightQRcode,src:e,alt:"qrcode"}),nt("span",{style:Ct.rightTitle},"Scan to Connect"),nt("div",{style:Ct.rightStep.container},nt("div",{style:Ct.rightStep.desc},"• Open DeFi Wallet Mobile App")),nt("div",{style:Ct.rightStep.container},nt("div",{style:Ct.rightStep.desc},"• Tap"),nt(mt,{style:Ct.rightStep.camera}),nt("div",{style:Ct.rightStep.desc},"to switch on the camera")),nt("div",{style:Ct.rightStep.container},nt("div",{style:Ct.rightStep.desc},"• Scan the QR code above")),nt("div",{style:Ct.stretchContainer}),nt("div",{style:Ct.terms.container},nt("div",{style:Ct.terms.text},"Crypto.com DeFi Wallet "),nt("div",{style:Ct.terms.link,onClick:()=>{window.open("https://crypto.com/document/ncw_tnc")}},"Terms & Conditions"),nt("div",{style:Ct.terms.text},"and"),nt("div",{style:Ct.terms.link,onClick:()=>{window.open("https://crypto.com/privacy/ncw")}},"Privacy Notice")),nt(It,{onDownloadClick:()=>{window.open("https://bit.ly/3Bk4wzE")}}))))},It=t=>{const{onDownloadClick:e}=t;return nt("div",{style:Et.container},nt(wt,null),nt("div",{style:Et.textContainer},nt("div",{style:Et.title},"Crypto.com DeFi Wallet"),nt("div",{style:Et.desc},"Your Keys, Your Crypto.")),nt("button",{style:Et.button,onClick:e},"Download"))};var Tt=null;try{Tt=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}function Nt(t,e,n){this.low=0|t,this.high=0|e,this.unsigned=!!n}function Ft(t){return!0===(t&&t.__isLong__)}Object.defineProperty(Nt.prototype,"__isLong__",{value:!0}),Nt.isLong=Ft;var At={},Mt={};function Rt(t,e){var n,i,o;return e?(o=0<=(t>>>=0)&&t<256)&&(i=Mt[t])?i:(n=Wt(t,(0|t)<0?-1:0,!0),o&&(Mt[t]=n),n):(o=-128<=(t|=0)&&t<128)&&(i=At[t])?i:(n=Wt(t,t<0?-1:0,!1),o&&(At[t]=n),n)}function Bt(t,e){if(isNaN(t))return e?Gt:$t;if(e){if(t<0)return Gt;if(t>=qt)return Jt}else{if(t<=-Pt)return Xt;if(t+1>=Pt)return Kt}return t<0?Bt(-t,e).neg():Wt(t%Ut|0,t/Ut|0,e)}function Wt(t,e,n){return new Nt(t,e,n)}Nt.fromInt=Rt,Nt.fromNumber=Bt,Nt.fromBits=Wt;var Dt=Math.pow;function jt(t,e,n){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return $t;if("number"==typeof e?(n=e,e=!1):e=!!e,(n=n||10)<2||36<n)throw RangeError("radix");var i;if((i=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return jt(t.substring(1),e,n).neg();for(var o=Bt(Dt(n,8)),r=$t,s=0;s<t.length;s+=8){var c=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+c),n);if(c<8){var l=Bt(Dt(n,c));r=r.mul(l).add(Bt(a))}else r=(r=r.mul(o)).add(Bt(a))}return r.unsigned=e,r}function zt(t,e){return"number"==typeof t?Bt(t,e):"string"==typeof t?jt(t,e):Wt(t.low,t.high,"boolean"==typeof e?e:t.unsigned)}Nt.fromString=jt,Nt.fromValue=zt;var Ut=4294967296,qt=Ut*Ut,Pt=qt/2,Vt=Rt(1<<24),$t=Rt(0);Nt.ZERO=$t;var Gt=Rt(0,!0);Nt.UZERO=Gt;var Ht=Rt(1);Nt.ONE=Ht;var Qt=Rt(1,!0);Nt.UONE=Qt;var Zt=Rt(-1);Nt.NEG_ONE=Zt;var Kt=Wt(-1,2147483647,!1);Nt.MAX_VALUE=Kt;var Jt=Wt(-1,-1,!0);Nt.MAX_UNSIGNED_VALUE=Jt;var Xt=Wt(0,-2147483648,!1);Nt.MIN_VALUE=Xt;var Yt=Nt.prototype;Yt.toInt=function(){return this.unsigned?this.low>>>0:this.low},Yt.toNumber=function(){return this.unsigned?(this.high>>>0)*Ut+(this.low>>>0):this.high*Ut+(this.low>>>0)},Yt.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Xt)){var e=Bt(t),n=this.div(e),i=n.mul(e).sub(this);return n.toString(t)+i.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var o=Bt(Dt(t,6),this.unsigned),r=this,s="";;){var c=r.div(o),a=(r.sub(c.mul(o)).toInt()>>>0).toString(t);if((r=c).isZero())return a+s;for(;a.length<6;)a="0"+a;s=""+a+s}},Yt.getHighBits=function(){return this.high},Yt.getHighBitsUnsigned=function(){return this.high>>>0},Yt.getLowBits=function(){return this.low},Yt.getLowBitsUnsigned=function(){return this.low>>>0},Yt.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Xt)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},Yt.isZero=function(){return 0===this.high&&0===this.low},Yt.eqz=Yt.isZero,Yt.isNegative=function(){return!this.unsigned&&this.high<0},Yt.isPositive=function(){return this.unsigned||this.high>=0},Yt.isOdd=function(){return 1==(1&this.low)},Yt.isEven=function(){return 0==(1&this.low)},Yt.equals=function(t){return Ft(t)||(t=zt(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low},Yt.eq=Yt.equals,Yt.notEquals=function(t){return!this.eq(t)},Yt.neq=Yt.notEquals,Yt.ne=Yt.notEquals,Yt.lessThan=function(t){return this.comp(t)<0},Yt.lt=Yt.lessThan,Yt.lessThanOrEqual=function(t){return this.comp(t)<=0},Yt.lte=Yt.lessThanOrEqual,Yt.le=Yt.lessThanOrEqual,Yt.greaterThan=function(t){return this.comp(t)>0},Yt.gt=Yt.greaterThan,Yt.greaterThanOrEqual=function(t){return this.comp(t)>=0},Yt.gte=Yt.greaterThanOrEqual,Yt.ge=Yt.greaterThanOrEqual,Yt.compare=function(t){if(Ft(t)||(t=zt(t)),this.eq(t))return 0;var e=this.isNegative(),n=t.isNegative();return e&&!n?-1:!e&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Yt.comp=Yt.compare,Yt.negate=function(){return!this.unsigned&&this.eq(Xt)?Xt:this.not().add(Ht)},Yt.neg=Yt.negate,Yt.add=function(t){Ft(t)||(t=zt(t));var e=0,n=0,i=0,o=0;return i+=(o+=(65535&this.low)+(65535&t.low))>>>16,n+=(i+=(this.low>>>16)+(t.low>>>16))>>>16,e+=(n+=(65535&this.high)+(65535&t.high))>>>16,e+=(this.high>>>16)+(t.high>>>16),Wt((i&=65535)<<16|(o&=65535),(e&=65535)<<16|(n&=65535),this.unsigned)},Yt.subtract=function(t){return Ft(t)||(t=zt(t)),this.add(t.neg())},Yt.sub=Yt.subtract,Yt.multiply=function(t){if(this.isZero())return $t;if(Ft(t)||(t=zt(t)),Tt)return Wt(Tt.mul(this.low,this.high,t.low,t.high),Tt.get_high(),this.unsigned);if(t.isZero())return $t;if(this.eq(Xt))return t.isOdd()?Xt:$t;if(t.eq(Xt))return this.isOdd()?Xt:$t;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(Vt)&&t.lt(Vt))return Bt(this.toNumber()*t.toNumber(),this.unsigned);var e=65535&this.high,n=this.low>>>16,i=65535&this.low,o=65535&t.high,r=t.low>>>16,s=65535&t.low,c=0,a=0,l=0,h=0;return l+=(h+=i*s)>>>16,a+=(l+=n*s)>>>16,l&=65535,a+=(l+=i*r)>>>16,c+=(a+=e*s)>>>16,a&=65535,c+=(a+=n*r)>>>16,a&=65535,c+=(a+=i*o)>>>16,c+=(this.high>>>16)*s+e*r+n*o+i*(t.high>>>16),Wt((l&=65535)<<16|(h&=65535),(c&=65535)<<16|(a&=65535),this.unsigned)},Yt.mul=Yt.multiply,Yt.divide=function(t){if(Ft(t)||(t=zt(t)),t.isZero())throw Error("division by zero");var e,n,i;if(Tt)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?Wt((this.unsigned?Tt.div_u:Tt.div_s)(this.low,this.high,t.low,t.high),Tt.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Gt:$t;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Gt;if(t.gt(this.shru(1)))return Qt;i=Gt}else{if(this.eq(Xt))return t.eq(Ht)||t.eq(Zt)?Xt:t.eq(Xt)?Ht:(e=this.shr(1).div(t).shl(1)).eq($t)?t.isNegative()?Ht:Zt:(n=this.sub(t.mul(e)),i=e.add(n.div(t)));if(t.eq(Xt))return this.unsigned?Gt:$t;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();i=$t}for(n=this;n.gte(t);){e=Math.max(1,Math.floor(n.toNumber()/t.toNumber()));for(var o=Math.ceil(Math.log(e)/Math.LN2),r=o<=48?1:Dt(2,o-48),s=Bt(e),c=s.mul(t);c.isNegative()||c.gt(n);)c=(s=Bt(e-=r,this.unsigned)).mul(t);s.isZero()&&(s=Ht),i=i.add(s),n=n.sub(c)}return i},Yt.div=Yt.divide,Yt.modulo=function(t){return Ft(t)||(t=zt(t)),Tt?Wt((this.unsigned?Tt.rem_u:Tt.rem_s)(this.low,this.high,t.low,t.high),Tt.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Yt.mod=Yt.modulo,Yt.rem=Yt.modulo,Yt.not=function(){return Wt(~this.low,~this.high,this.unsigned)},Yt.and=function(t){return Ft(t)||(t=zt(t)),Wt(this.low&t.low,this.high&t.high,this.unsigned)},Yt.or=function(t){return Ft(t)||(t=zt(t)),Wt(this.low|t.low,this.high|t.high,this.unsigned)},Yt.xor=function(t){return Ft(t)||(t=zt(t)),Wt(this.low^t.low,this.high^t.high,this.unsigned)},Yt.shiftLeft=function(t){return Ft(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Wt(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Wt(0,this.low<<t-32,this.unsigned)},Yt.shl=Yt.shiftLeft,Yt.shiftRight=function(t){return Ft(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?Wt(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Wt(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},Yt.shr=Yt.shiftRight,Yt.shiftRightUnsigned=function(t){if(Ft(t)&&(t=t.toInt()),0==(t&=63))return this;var e=this.high;return t<32?Wt(this.low>>>t|e<<32-t,e>>>t,this.unsigned):Wt(32===t?e:e>>>t-32,0,this.unsigned)},Yt.shru=Yt.shiftRightUnsigned,Yt.shr_u=Yt.shiftRightUnsigned,Yt.toSigned=function(){return this.unsigned?Wt(this.low,this.high,!1):this},Yt.toUnsigned=function(){return this.unsigned?this:Wt(this.low,this.high,!0)},Yt.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Yt.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Yt.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,e>>>24,e>>>16&255,e>>>8&255,255&e]},Nt.fromBytes=function(t,e,n){return n?Nt.fromBytesLE(t,e):Nt.fromBytesBE(t,e)},Nt.fromBytesLE=function(t,e){return new Nt(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)},Nt.fromBytesBE=function(t,e){return new Nt(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)};const te=t=>{const e={};if(t instanceof Array)return t.map(t=>te(t));if(t&&"string"==typeof t.typeUrl&&"string"==typeof t.value)try{const e=function(t){var e;const n=null==(e=b.find(e=>e[0]===t))?void 0:e[1];if(n&&x(n))return n;throw new Error(`can not find ProtoGeneratedType for typeUrl:${t}`)}(t.typeUrl);return{typeUrl:t.typeUrl,value:te(e.toJSON(e.decode(g(t.value))))}}catch(e){return t}for(const n in t){const i=t[n];e[n]="object"!=typeof i?i:te(i)}return e};function ee(t){return void 0!==t.isDeFiCosmosProvider}class ne{constructor(t){var e=this;this.isDeFiCosmosProvider=!0,this.client=void 0,this.config=void 0,this.sendTransaction=async function(t){const{chainId:n,chainType:i}=e.client.connector.session;return e.client.connector.sendJSONRequest({method:"cosmos_sendTransaction",params:[t],session:{chainId:n,chainType:i,account:e.account}},{forcePushNotification:!0})},this.request=async function(t){},this.send=async function(t,e){},this.stop=async function(){},this.close=async function(){await e.client.connector.killSession(),await e.stop()};const{client:n}=t;this.config=t,this.client=n}get account(){var t;return null!=(t=this.client.connector.session.accounts[0])?t:""}get currentAccountInfo(){const t=Object.entries(this.client.connector.session.wallets[0].addresses).find(([t,e])=>e.address==this.account);return null==t?void 0:t[1]}get signer(){var t,e=this;const n=this.currentAccountInfo;if(!n||!n.pubkey)throw new Error("can not get the OfflineSigner, there is an unsupported address type");const i={address:n.address,algo:"secp256k1",pubkey:g(null!=(t=n.pubkey)?t:"")};return{getAccounts:async function(){return[i]},signDirect:async function(t,n){const o=await e.sendTransaction(((t,e)=>{const n=w.decode(e.bodyBytes),i=m.decode(e.authInfoBytes);return{signerAddress:t,signDoc:{chainId:e.chainId,accountNumber:e.accountNumber.toString(),body:te(w.toJSON(n)),authInfo:te(m.toJSON(i))}}})(t,n)),r=y.decode(g(o)),s=v(r.signatures[0]);return{signed:{bodyBytes:r.bodyBytes,authInfoBytes:r.authInfoBytes,chainId:n.chainId,accountNumber:n.accountNumber},signature:{pub_key:{type:f.secp256k1,value:i.pubkey},signature:s}}}}}async enable(){return this.client.connector.connected||await this.client.connector.connect({chainId:this.config.supportedChainIds[0],chainType:"cosmos"}),this.client.connector.accounts}}class ie{constructor({key:t="DeFiLink_session_storage_dapp",supportedChainIds:e}){this.key=void 0,this.supportedChainIds=void 0,this.getSession=()=>{const t=s(this.key);return(e=t)&&void 0!==e.bridge&&void 0!==e.chainId&&void 0!==e.chainType&&void 0!==e.wallets&&void 0!==e.wallets&&void 0!==e.wallets[0]&&void 0!==e.wallets[0].addresses&&void 0!==e.wallets[0].addresses.eth&&void 0!==e.accounts&&e.accounts.length>0&&this.supportedChainIds.includes(t.chainId)?t:null;var e},this.setSession=t=>(this.supportedChainIds.includes(t.chainId)&&c(this.key,t),t),this.removeSession=()=>{a(this.key)},this.key=t,this.supportedChainIds=e}}var oe;!function(t){t.Update="DeFiConnectorUpdate",t.Error="DeFiConnectorError",t.Deactivate="DeFiConnectorDeactivate"}(oe||(oe={}));const re=t=>"eth"===t||"cosmos"===t?t:"eth";class se extends z{constructor(t){super(),this.config=void 0,this.eventEmitters=[],this.connectorClient=void 0,this._provider=void 0,this.chainId="",this.chainType="eth",this.accounts=[],this.config=t}async getProvider(){return this.provider}async getChainId(){return this.chainId}async getAccount(){return this.accounts[0]}get _supportedChainIds(){var t,e,n,i;const o=null!=(t=null==(e=this.config.eth)?void 0:e.supportedChainIds.map(t=>t.toString()))?t:[],r=null!=(n=null==(i=this.config.cosmos)?void 0:i.supportedChainIds)?n:[];return o.concat(r)}async generateClient(){var t=this;let e;if(await async function(t=0){return new Promise(e=>{!function n(){t>0&&"function"!=typeof window.deficonnectClientGenerator?setTimeout(async function(){--t,n()},100):e(!0)}()})}(10),"function"==typeof window.deficonnectClientGenerator)e=await window.deficonnectClientGenerator(this.config),void 0===e.clearSessionStorage&&(e.clearSessionStorage=X.prototype.clearSessionStorage);else{var n;const t={bridge:P(null!=(n=this.config.bridge)?n:"https://wallet-connect.crypto.com/api/v1/ncwconnect/relay/ws",{role:"dapp",dapp_name:this.config.name}),qrcodeModal:Lt},i=new ie({supportedChainIds:this._supportedChainIds});e=new X({connectorOpts:t,sessionStorage:i})}return e.connector.on("disconnect",()=>{this.emitDeactivate()}),e.connector.on("session_update",async function(n,i){var o;if(n)return void t.emitError(n);if(null==i||!i.params[0])return;const{params:[{chainId:r,chainType:s,accounts:c}]=[]}=i;r&&s&&c&&(t.chainId=r,t.chainType=s,t.accounts=c,t.provider=await t.generateProvider({chainId:r,chainType:s,connectorClient:e,config:t.config}),await(null==(o=t.provider)?void 0:o.enable()),t.emitUpdate({account:c[0],chainType:s,chainId:r,provider:t.provider}))}),e}async generateProvider(t){const{chainId:e,chainType:n,connectorClient:i}=t;if("function"==typeof window.deficonnectProviderGenerator)return await window.deficonnectProviderGenerator({chainId:e,chainType:n,config:this.config,connectorClient:i});if("eth"===n)return new h(U({},this.config.eth,{connector:i.connector}));var o,r;if("cosmos"===n)return new ne({supportedChainIds:null!=(o=null==(r=this.config.cosmos)?void 0:r.supportedChainIds)?o:[],client:i});throw new Error("must provider eth or cosmos config")}async activate(){try{var t;let i=this.connectorClient;if(i||(i=await this.generateClient()),0==this.config.supprtedChainTypes.length)throw new Error("must provider supprtedNetworks");const o=this.config.supprtedChainTypes[0];let r="1";if("eth"===o){var e;if(null==this.config.eth)throw new Error("must provider eth config");r=`${null!=(e=this.config.eth.supportedChainIds[0])?e:1}`}if("cosmos"===o){var n;if(null==this.config.cosmos)throw new Error("must provider cosmos config");r=`${null!=(n=this.config.cosmos.supportedChainIds[0])?n:1}`}const{chainId:s,chainType:c,accounts:a}=await i.connector.connect({chainId:r,chainType:o});return this.chainId=s,this.chainType=re(c),this.accounts=a,this.provider=await this.generateProvider({chainId:s,chainType:c,connectorClient:i,config:this.config}),await(null==(t=this.provider)?void 0:t.enable()),this.connectorClient=i,{account:a[0],chainType:re(c),chainId:s,provider:this.provider}}catch(t){throw console.error("DeFiConnector activate error:",t),t}}getAddressList(t){const e=this.connectorClient;if(!e)throw new Error("you has not active this connector");return t.map(t=>({type:t,address:e.connector.session.wallets[0].addresses[t].address}))}async close(){var t;null==(t=this.connectorClient)||t.clearSessionStorage();try{var e;await(null==(e=this.provider)?void 0:e.close())}finally{var n;await(null==(n=this.connectorClient)?void 0:n.connector.killSession())}}async deactivate(){var t,e,n,i;null==(t=this.connectorClient)||t.clearSessionStorage(),"function"==typeof(null==(e=this.provider)?void 0:e.stop)&&(null==(i=this.provider)||i.stop()),await(null==(n=this.connectorClient)?void 0:n.connector.killSession()),this.emitDeactivate()}get provider(){return this._provider}set provider(t){this._provider=t}onEvent(t,e){const n={event:t,callback:e};return this.eventEmitters.push(n),()=>{this.eventEmitters=this.eventEmitters.filter(t=>t!==n)}}emitUpdate(t){this.eventEmitters.forEach(e=>{e.event===oe.Update&&e.callback(t,void 0)})}emitError(t){this.eventEmitters.forEach(e=>{e.event===oe.Error&&e.callback(void 0,t)})}emitDeactivate(){this.eventEmitters.forEach(t=>{t.event===oe.Deactivate&&t.callback(void 0,void 0)}),this.connectorClient=void 0}}const ce="URI_AVAILABLE";class ae extends Error{constructor(){super(),this.name=this.constructor.name,this.message="The user rejected the request."}}function le({supportedChainIds:t,rpc:e}){return t||(e?Object.keys(e).map(t=>Number(t)):void 0)}function he(t){try{const e=parseInt(null!=t?t:"0");return isNaN(e)?0:e}catch(t){return 0}}class ue extends z{constructor(t){var e,n,i;super({supportedChainIds:le(t)}),this.defiConnector=void 0,this._injectConnect=void 0;const o=l()||void 0;this.defiConnector=new se({name:null!=(e=null==o?void 0:o.name)?e:"",supprtedChainTypes:["eth"],bridge:t.bridge,eth:t}),this.defiConnector.onEvent(oe.Update,t=>{if(!t)return;const{chainId:e,provider:n,account:i}=t;this.emitUpdate({chainId:he(e),provider:n,account:i})}),this.defiConnector.onEvent(oe.Deactivate,()=>{this.emitDeactivate()}),null!=(n=navigator)&&null!=(i=n.userAgent)&&i.includes("DeFiWallet")&&window.ethereum&&(this._injectConnect=new _({supportedChainIds:t.supportedChainIds}))}async activate(){if(this._injectConnect)return await this._injectConnect.activate();const{chainId:t,provider:e,account:n}=await this.defiConnector.activate();return{chainId:he(t),provider:e,account:n}}async getProvider(){return this._injectConnect?await this._injectConnect.getProvider():this.defiConnector.provider}async getChainId(){return this._injectConnect?await this._injectConnect.getChainId():he(this.defiConnector.chainId)}async getAccount(){return this._injectConnect?await this._injectConnect.getAccount():(await this.getProvider()).send("eth_accounts").then(t=>t[0])}close(){return this.defiConnector.close()}deactivate(){if(this._injectConnect)return this._injectConnect.deactivate();this.defiConnector.deactivate()}}export{se as DeFiConnector,X as DeFiConnectorClient,oe as DeFiConnectorUpdateEvent,ne as DeFiCosmosProvider,ue as DeFiWeb3Connector,ce as URI_AVAILABLE,ae as UserRejectedRequestError,P as addUrlParams,G as formatToCWEURI,H as formatToWCURI,V as formatUriAddUrlParams,ee as isDeFiCosmosProvider,Q as limitWords,q as removeAllUrlParams,$ as replaceUriProtocol};
//# sourceMappingURL=index.modern.js.map
