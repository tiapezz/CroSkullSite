{"version":3,"file":"index.modern.js","sources":["../node_modules/events/events.js","../node_modules/@web3-react/types/dist/types.esm.js","../node_modules/@web3-react/abstract-connector/dist/abstract-connector.esm.js","../src/lib/tools/url-tools.ts","../node_modules/@deficonnect/socket-transport/dist/esm/network.js","../node_modules/@deficonnect/socket-transport/dist/esm/index.js","../src/lib/DeFiConnectorClient.ts","../src/lib/CustomCreateElement.ts","../node_modules/@walletconnect/window-getters/dist/cjs/index.js","../node_modules/@walletconnect/window-metadata/dist/cjs/index.js","../node_modules/detect-browser/es/index.js","../node_modules/@deficonnect/browser-utils/dist/esm/browser.js","../node_modules/@deficonnect/browser-utils/dist/esm/mobile.js","../node_modules/@deficonnect/browser-utils/dist/esm/local.js","../node_modules/@walletconnect/safe-json/dist/esm/index.js","../src/lib/assets/defi-link-icon-light.tsx","../src/lib/assets/connect-step-camera-icon.tsx","../src/lib/assets/defi-link-icon.tsx","../src/lib/assets/feature-globe-icon.tsx","../src/lib/assets/feature-link-icon.tsx","../src/lib/assets/feature-lock-icon.tsx","../src/lib/InstallExtensionModal.styles.ts","../src/lib/InstallExtensionModal.tsx","../node_modules/long/src/long.js","../src/lib/tools/cosmos-msg-tool.ts","../src/lib/connector/DeFiCosmosProvider.ts","../src/lib/SessionStorage.ts","../src/lib/connector/DeFiConnector.ts","../src/lib/connector/DeFiWeb3Connector.ts"],"sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function errorListener(err) {\n      emitter.removeListener(name, resolver);\n      reject(err);\n    }\n\n    function resolver() {\n      if (typeof emitter.removeListener === 'function') {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n\n    eventTargetAgnosticAddListener(emitter, name, resolver, { once: true });\n    if (name !== 'error') {\n      addErrorHandlerIfEventEmitter(emitter, errorListener, { once: true });\n    }\n  });\n}\n\nfunction addErrorHandlerIfEventEmitter(emitter, handler, flags) {\n  if (typeof emitter.on === 'function') {\n    eventTargetAgnosticAddListener(emitter, 'error', handler, flags);\n  }\n}\n\nfunction eventTargetAgnosticAddListener(emitter, name, listener, flags) {\n  if (typeof emitter.on === 'function') {\n    if (flags.once) {\n      emitter.once(name, listener);\n    } else {\n      emitter.on(name, listener);\n    }\n  } else if (typeof emitter.addEventListener === 'function') {\n    // EventTarget does not have `error` event semantics like Node\n    // EventEmitters, we do not listen for `error` events here.\n    emitter.addEventListener(name, function wrapListener(arg) {\n      // IE does not have builtin `{ once: true }` support so we\n      // have to do it manually.\n      if (flags.once) {\n        emitter.removeEventListener(name, wrapListener);\n      }\n      listener(arg);\n    });\n  } else {\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof emitter);\n  }\n}\n","var ConnectorEvent;\n\n(function (ConnectorEvent) {\n  ConnectorEvent[\"Update\"] = \"Web3ReactUpdate\";\n  ConnectorEvent[\"Error\"] = \"Web3ReactError\";\n  ConnectorEvent[\"Deactivate\"] = \"Web3ReactDeactivate\";\n})(ConnectorEvent || (ConnectorEvent = {}));\n\nexport { ConnectorEvent };\n//# sourceMappingURL=types.esm.js.map\n","import { EventEmitter } from 'events';\nimport { ConnectorEvent } from '@web3-react/types';\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar AbstractConnector =\n/*#__PURE__*/\nfunction (_EventEmitter) {\n  _inheritsLoose(AbstractConnector, _EventEmitter);\n\n  function AbstractConnector(_temp) {\n    var _this;\n\n    var _ref = _temp === void 0 ? {} : _temp,\n        supportedChainIds = _ref.supportedChainIds;\n\n    _this = _EventEmitter.call(this) || this;\n    _this.supportedChainIds = supportedChainIds;\n    return _this;\n  }\n\n  var _proto = AbstractConnector.prototype;\n\n  _proto.emitUpdate = function emitUpdate(update) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.log(\"Emitting '\" + ConnectorEvent.Update + \"' with payload\", update);\n    }\n\n    this.emit(ConnectorEvent.Update, update);\n  };\n\n  _proto.emitError = function emitError(error) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.log(\"Emitting '\" + ConnectorEvent.Error + \"' with payload\", error);\n    }\n\n    this.emit(ConnectorEvent.Error, error);\n  };\n\n  _proto.emitDeactivate = function emitDeactivate() {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.log(\"Emitting '\" + ConnectorEvent.Deactivate + \"'\");\n    }\n\n    this.emit(ConnectorEvent.Deactivate);\n  };\n\n  return AbstractConnector;\n}(EventEmitter);\n\nexport { AbstractConnector };\n//# sourceMappingURL=abstract-connector.esm.js.map\n","import { IParseURIResult } from '@deficonnect/types'\nimport { appendToQueryString, getQueryString, parseWalletConnectUri } from '@deficonnect/utils'\n\nexport const removeAllUrlParams = (url: string): string => {\n  if (!url || url.length === 0) {\n    return url\n  }\n  const splitUrl = url.split('?')\n  return splitUrl[0]\n}\n\nexport const addUrlParams = (url: string, params: any): string => {\n  if (!url || url.length === 0) {\n    return url\n  }\n  const splitUrl = url.split('?')\n  const queryString = appendToQueryString('?' + getQueryString(splitUrl[1] || ''), params)\n  return splitUrl[0] + '?' + queryString\n}\n\nexport const formatUriAddUrlParams = (uri: string, params: any): string => {\n  const result: IParseURIResult = parseWalletConnectUri(uri)\n  const bridge = encodeURIComponent(addUrlParams(decodeURIComponent(result.bridge), params))\n  return `${result.protocol}:${result.handshakeTopic}@${result.version}?bridge=${bridge}&key=${result.key}`\n}\n\nexport const replaceUriProtocol = (uri: string, protocol: string): string => {\n  const result: IParseURIResult = parseWalletConnectUri(uri)\n  const bridge = encodeURIComponent(removeAllUrlParams(decodeURIComponent(result.bridge)))\n  return `${protocol}:${result.handshakeTopic}@${result.version}?bridge=${bridge}&key=${result.key}`\n}\n\nexport const formatToCWEURI = (uri: string): string => {\n  return replaceUriProtocol(uri, 'CWE')\n}\n\nexport const formatToWCURI = (uri: string): string => {\n  return replaceUriProtocol(uri, 'wc')\n}\n\nexport const limitWords = (txt: string, length = 20): string => {\n  let str = txt\n  str = str.substr(0, length) + (str.length > length ? '...' : '')\n  return str\n}\n","class NetworkMonitor {\n    constructor() {\n        this._eventEmitters = [];\n        if (typeof window !== \"undefined\" && typeof window.addEventListener !== \"undefined\") {\n            window.addEventListener(\"online\", () => this.trigger(\"online\"));\n            window.addEventListener(\"offline\", () => this.trigger(\"offline\"));\n        }\n    }\n    on(event, callback) {\n        this._eventEmitters.push({\n            event,\n            callback,\n        });\n    }\n    trigger(event) {\n        let eventEmitters = [];\n        if (event) {\n            eventEmitters = this._eventEmitters.filter((eventEmitter) => eventEmitter.event === event);\n        }\n        eventEmitters.forEach((eventEmitter) => {\n            eventEmitter.callback();\n        });\n    }\n}\nexport default NetworkMonitor;\n//# sourceMappingURL=network.js.map","import { isBrowser, getLocation, getQueryString, detectEnv, appendToQueryString, } from \"@deficonnect/utils\";\nimport NetworkMonitor from \"./network\";\nconst WS = typeof global.WebSocket !== \"undefined\" ? global.WebSocket : require(\"ws\");\nclass SocketTransport {\n    constructor(opts) {\n        this.opts = opts;\n        this._queue = [];\n        this._events = [];\n        this._subscriptions = [];\n        this._protocol = opts.protocol;\n        this._version = opts.version;\n        this._url = \"\";\n        this._netMonitor = null;\n        this._socket = null;\n        this._nextSocket = null;\n        this._subscriptions = opts.subscriptions || [];\n        this._netMonitor = opts.netMonitor || new NetworkMonitor();\n        if (!opts.url || typeof opts.url !== \"string\") {\n            throw new Error(\"Missing or invalid WebSocket url\");\n        }\n        this._url = opts.url;\n        this._netMonitor.on(\"online\", () => this._socketCreate());\n    }\n    set readyState(value) {\n    }\n    get readyState() {\n        return this._socket ? this._socket.readyState : -1;\n    }\n    set connecting(value) {\n    }\n    get connecting() {\n        return this.readyState === 0;\n    }\n    set connected(value) {\n    }\n    get connected() {\n        return this.readyState === 1;\n    }\n    set closing(value) {\n    }\n    get closing() {\n        return this.readyState === 2;\n    }\n    set closed(value) {\n    }\n    get closed() {\n        return this.readyState === 3;\n    }\n    open() {\n        this._socketCreate();\n    }\n    close() {\n        this._socketClose();\n    }\n    send(message, topic, silent) {\n        if (!topic || typeof topic !== \"string\") {\n            throw new Error(\"Missing or invalid topic field\");\n        }\n        this._socketSend({\n            topic: topic,\n            type: \"pub\",\n            payload: message,\n            silent: !!silent,\n        });\n    }\n    subscribe(topic) {\n        this._socketSend({\n            topic: topic,\n            type: \"sub\",\n            payload: \"\",\n            silent: true,\n        });\n    }\n    on(event, callback) {\n        this._events.push({ event, callback });\n    }\n    _socketCreate() {\n        if (this._nextSocket) {\n            return;\n        }\n        const url = getWebSocketUrl(this._url, this._protocol, this._version);\n        this._nextSocket = new WS(url);\n        if (!this._nextSocket) {\n            throw new Error(\"Failed to create socket\");\n        }\n        this._nextSocket.onmessage = (event) => this._socketReceive(event);\n        this._nextSocket.onopen = () => this._socketOpen();\n        this._nextSocket.onerror = (event) => this._socketError(event);\n        this._nextSocket.onclose = () => {\n            setTimeout(() => {\n                this._nextSocket = null;\n                this._socketCreate();\n            }, 1000);\n            return;\n        };\n    }\n    _socketOpen() {\n        this._socketClose();\n        this._socket = this._nextSocket;\n        this._nextSocket = null;\n        this._queueSubscriptions();\n        this._pushQueue();\n    }\n    _socketClose() {\n        if (this._socket) {\n            this._socket.onclose = () => {\n            };\n            this._socket.close();\n        }\n    }\n    _socketSend(socketMessage) {\n        const message = JSON.stringify(socketMessage);\n        if (this._socket && this._socket.readyState === 1) {\n            this._socket.send(message);\n        }\n        else {\n            this._setToQueue(socketMessage);\n            this._socketCreate();\n        }\n    }\n    async _socketReceive(event) {\n        let socketMessage;\n        try {\n            socketMessage = JSON.parse(event.data);\n        }\n        catch (error) {\n            return;\n        }\n        this._socketSend({\n            topic: socketMessage.topic,\n            type: \"ack\",\n            payload: \"\",\n            silent: true,\n        });\n        if (this._socket && this._socket.readyState === 1) {\n            const events = this._events.filter(event => event.event === \"message\");\n            if (events && events.length) {\n                events.forEach(event => event.callback(socketMessage));\n            }\n        }\n    }\n    _socketError(e) {\n        const events = this._events.filter(event => event.event === \"error\");\n        if (events && events.length) {\n            events.forEach(event => event.callback(e));\n        }\n    }\n    _queueSubscriptions() {\n        const subscriptions = this._subscriptions;\n        subscriptions.forEach((topic) => this._queue.push({\n            topic: topic,\n            type: \"sub\",\n            payload: \"\",\n            silent: true,\n        }));\n        this._subscriptions = this.opts.subscriptions || [];\n    }\n    _setToQueue(socketMessage) {\n        this._queue.push(socketMessage);\n    }\n    _pushQueue() {\n        const queue = this._queue;\n        queue.forEach((socketMessage) => this._socketSend(socketMessage));\n        this._queue = [];\n    }\n}\nfunction getWebSocketUrl(_url, protocol, version) {\n    var _a, _b;\n    const url = _url.startsWith(\"https\")\n        ? _url.replace(\"https\", \"wss\")\n        : _url.startsWith(\"http\")\n            ? _url.replace(\"http\", \"ws\")\n            : _url;\n    const splitUrl = url.split(\"?\");\n    const params = isBrowser()\n        ? {\n            protocol,\n            version,\n            env: \"browser\",\n            host: ((_a = getLocation()) === null || _a === void 0 ? void 0 : _a.host) || \"\",\n        }\n        : {\n            protocol,\n            version,\n            env: ((_b = detectEnv()) === null || _b === void 0 ? void 0 : _b.name) || \"\",\n        };\n    const queryString = appendToQueryString(getQueryString(\"?\" + (splitUrl[1] || \"\")), params);\n    return splitUrl[0] + \"?\" + queryString;\n}\nexport default SocketTransport;\n//# sourceMappingURL=index.js.map","import Connector from '@deficonnect/core'\nimport { IWalletConnectOptions, ISessionStorage, IConnector } from '@deficonnect/types'\nimport * as cryptoLib from '@deficonnect/iso-crypto'\nimport SocketTransport from '@deficonnect/socket-transport'\nimport { parseWalletConnectUri } from '@deficonnect/utils'\nimport { ITransportLib } from '@deficonnect/types'\n\ninterface DeFiExistsConnectorClientParams {\n  connector: IConnector\n  transport: DeFiTransportLib\n}\nexport interface DeFiConnectorClientParams {\n  connectorOpts?: IWalletConnectOptions\n  sessionStorage?: ISessionStorage\n  exists?: DeFiExistsConnectorClientParams\n}\n\nexport interface DeFiTransportLib extends ITransportLib {\n  connected: boolean\n}\n\nexport class DeFiConnectorClient {\n  connector: IConnector\n  transport: DeFiTransportLib\n  sessionStorage?: ISessionStorage\n  constructor(params: DeFiConnectorClientParams) {\n    const { connectorOpts, sessionStorage, exists } = params\n    this.sessionStorage = sessionStorage\n    const session = connectorOpts?.session || sessionStorage?.getSession()\n    let bridge = connectorOpts?.bridge ?? session?.bridge\n    if (!bridge && connectorOpts?.uri) {\n      bridge = parseWalletConnectUri(connectorOpts.uri).bridge\n    }\n    let transport: DeFiTransportLib | undefined\n    if (!!exists) {\n      transport = exists.transport\n    } else if (!!bridge) {\n      transport = new SocketTransport({\n        protocol: 'wc',\n        version: 3,\n        url: bridge,\n      })\n    }\n    if (!transport) {\n      throw new Error('bridge can not be null')\n    }\n    let connector: IConnector | undefined\n    if (!!exists) {\n      connector = exists.connector\n    } else if (!!connectorOpts) {\n      connector = new Connector({\n        cryptoLib,\n        connectorOpts,\n        sessionStorage,\n        transport: transport,\n      })\n    }\n    if (!connector) {\n      throw new Error('connectorOpts can not be null')\n    }\n    this.connector = connector\n    this.transport = transport\n    this.transport.subscribe(connector.clientId)\n  }\n\n  clearSessionStorage() {\n    if (this.sessionStorage) {\n      this.sessionStorage.removeSession()\n    } else {\n      const connector = this.connector as any\n      connector._sessionStorage?.removeSession()\n    }\n  }\n}\n","const SvgTags:string[] = [\n  'svg',\n  'g',\n  'path',\n  'mask',\n  'defs',\n  'stop',\n  'linearGradient',\n  'filter',\n  'feFlood',\n  'feOffset',\n  'feGaussianBlur',\n  'feColorMatrix',\n  'feBlend',\n];\n\nconst NeedUnderlineOfAttrName:string[] = [\n  'floodOpacity',\n];\n\nconst EVENT_HANDLERS = {\n  onClick: 'click',\n}\n\nconst makeSVG = (tag: string):SVGElement => {\n  const ns = 'http://www.w3.org/2000/svg'\n  const xlinkns = 'http://www.w3.org/1999/xlink'\n  const el = document.createElementNS(ns, tag)\n  if(tag === 'svg') {\n    el.setAttribute('xmlns:xlink', xlinkns)\n  }\n  return el\n}\n\nexport function createElement(tagName:any, props:{ style?: any } = {}, ...childNodes:[]):HTMLElement {\n  if (typeof tagName === 'function') {\n    return tagName(props);\n  }\n  if (props === null) {\n    props = {}\n  }\n  const el = SvgTags.includes(tagName) ? makeSVG(tagName) : document.createElement(tagName)\n  Object.keys(props).forEach(prop => {\n    if (prop in EVENT_HANDLERS) {\n      el.addEventListener(EVENT_HANDLERS[prop], props[prop])\n    } else {\n      if(NeedUnderlineOfAttrName.includes(prop)) {\n        el.setAttribute(prop.replace(/([A-Z])/g, \"-$1\").toLowerCase(), props[prop])\n      } else {\n        el.setAttribute(prop, props[prop])\n      }\n    }\n  })\n  if ('style' in props) {\n    const styles = props.style\n    Object.keys(styles).forEach(prop => {\n      const value = styles[prop]\n      if (typeof value === 'number') {\n        el.style[prop] = `${value}`\n      } else if (typeof value === 'string') {\n        el.style[prop] = value\n      } else {\n        throw new Error(`Expected \"number\" or \"string\" but received \"${typeof value}\"`)\n      }\n    })\n  }\n  childNodes.forEach(childNode => {\n    if (typeof childNode === 'object') {\n      el.appendChild(childNode)\n    } else if (typeof childNode === 'string') {\n      el.appendChild(document.createTextNode(childNode))\n    } else {\n      throw new Error(`Expected \"object\" or \"string\" but received \"${typeof childNode}\"`)\n    }\n  })\n  return el\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getLocalStorage = exports.getLocalStorageOrThrow = exports.getCrypto = exports.getCryptoOrThrow = exports.getLocation = exports.getLocationOrThrow = exports.getNavigator = exports.getNavigatorOrThrow = exports.getDocument = exports.getDocumentOrThrow = exports.getFromWindowOrThrow = exports.getFromWindow = void 0;\nfunction getFromWindow(name) {\n    let res = undefined;\n    if (typeof window !== \"undefined\" && typeof window[name] !== \"undefined\") {\n        res = window[name];\n    }\n    return res;\n}\nexports.getFromWindow = getFromWindow;\nfunction getFromWindowOrThrow(name) {\n    const res = getFromWindow(name);\n    if (!res) {\n        throw new Error(`${name} is not defined in Window`);\n    }\n    return res;\n}\nexports.getFromWindowOrThrow = getFromWindowOrThrow;\nfunction getDocumentOrThrow() {\n    return getFromWindowOrThrow(\"document\");\n}\nexports.getDocumentOrThrow = getDocumentOrThrow;\nfunction getDocument() {\n    return getFromWindow(\"document\");\n}\nexports.getDocument = getDocument;\nfunction getNavigatorOrThrow() {\n    return getFromWindowOrThrow(\"navigator\");\n}\nexports.getNavigatorOrThrow = getNavigatorOrThrow;\nfunction getNavigator() {\n    return getFromWindow(\"navigator\");\n}\nexports.getNavigator = getNavigator;\nfunction getLocationOrThrow() {\n    return getFromWindowOrThrow(\"location\");\n}\nexports.getLocationOrThrow = getLocationOrThrow;\nfunction getLocation() {\n    return getFromWindow(\"location\");\n}\nexports.getLocation = getLocation;\nfunction getCryptoOrThrow() {\n    return getFromWindowOrThrow(\"crypto\");\n}\nexports.getCryptoOrThrow = getCryptoOrThrow;\nfunction getCrypto() {\n    return getFromWindow(\"crypto\");\n}\nexports.getCrypto = getCrypto;\nfunction getLocalStorageOrThrow() {\n    return getFromWindowOrThrow(\"localStorage\");\n}\nexports.getLocalStorageOrThrow = getLocalStorageOrThrow;\nfunction getLocalStorage() {\n    return getFromWindow(\"localStorage\");\n}\nexports.getLocalStorage = getLocalStorage;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getWindowMetadata = void 0;\nconst window_getters_1 = require(\"@walletconnect/window-getters\");\nfunction getWindowMetadata() {\n    let doc;\n    let loc;\n    try {\n        doc = window_getters_1.getDocumentOrThrow();\n        loc = window_getters_1.getLocationOrThrow();\n    }\n    catch (e) {\n        return null;\n    }\n    function getIcons() {\n        const links = doc.getElementsByTagName(\"link\");\n        const icons = [];\n        for (let i = 0; i < links.length; i++) {\n            const link = links[i];\n            const rel = link.getAttribute(\"rel\");\n            if (rel) {\n                if (rel.toLowerCase().indexOf(\"icon\") > -1) {\n                    const href = link.getAttribute(\"href\");\n                    if (href) {\n                        if (href.toLowerCase().indexOf(\"https:\") === -1 &&\n                            href.toLowerCase().indexOf(\"http:\") === -1 &&\n                            href.indexOf(\"//\") !== 0) {\n                            let absoluteHref = loc.protocol + \"//\" + loc.host;\n                            if (href.indexOf(\"/\") === 0) {\n                                absoluteHref += href;\n                            }\n                            else {\n                                const path = loc.pathname.split(\"/\");\n                                path.pop();\n                                const finalPath = path.join(\"/\");\n                                absoluteHref += finalPath + \"/\" + href;\n                            }\n                            icons.push(absoluteHref);\n                        }\n                        else if (href.indexOf(\"//\") === 0) {\n                            const absoluteUrl = loc.protocol + href;\n                            icons.push(absoluteUrl);\n                        }\n                        else {\n                            icons.push(href);\n                        }\n                    }\n                }\n            }\n        }\n        return icons;\n    }\n    function getWindowMetadataOfAny(...args) {\n        const metaTags = doc.getElementsByTagName(\"meta\");\n        for (let i = 0; i < metaTags.length; i++) {\n            const tag = metaTags[i];\n            const attributes = [\"itemprop\", \"property\", \"name\"]\n                .map((target) => tag.getAttribute(target))\n                .filter((attr) => {\n                if (attr) {\n                    return args.includes(attr);\n                }\n                return false;\n            });\n            if (attributes.length && attributes) {\n                const content = tag.getAttribute(\"content\");\n                if (content) {\n                    return content;\n                }\n            }\n        }\n        return \"\";\n    }\n    function getName() {\n        let name = getWindowMetadataOfAny(\"name\", \"og:site_name\", \"og:title\", \"twitter:title\");\n        if (!name) {\n            name = doc.title;\n        }\n        return name;\n    }\n    function getDescription() {\n        const description = getWindowMetadataOfAny(\"description\", \"og:description\", \"twitter:description\", \"keywords\");\n        return description;\n    }\n    const name = getName();\n    const description = getDescription();\n    const url = loc.origin;\n    const icons = getIcons();\n    const meta = {\n        description,\n        url,\n        icons,\n        name,\n    };\n    return meta;\n}\nexports.getWindowMetadata = getWindowMetadata;\n//# sourceMappingURL=index.js.map","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FBAV\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    var versionParts = match[1] && match[1].split(/[._]/).slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArrays(versionParts, createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length));\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n","import * as windowMetadata from \"@walletconnect/window-metadata\";\nimport * as windowGetters from \"@walletconnect/window-getters\";\nimport { detect, } from \"detect-browser\";\nexport function detectEnv(userAgent) {\n    return detect(userAgent);\n}\nexport function detectOS() {\n    const env = detectEnv();\n    return env && env.os ? env.os : undefined;\n}\nexport function isAndroid() {\n    const os = detectOS();\n    return os ? os.toLowerCase().includes(\"android\") : false;\n}\nexport function isIOS() {\n    const os = detectOS();\n    return os\n        ? os.toLowerCase().includes(\"ios\") ||\n            (os.toLowerCase().includes(\"mac\") && navigator.maxTouchPoints > 1)\n        : false;\n}\nexport function isMobile() {\n    const os = detectOS();\n    return os ? isAndroid() || isIOS() : false;\n}\nexport function isNode() {\n    const env = detectEnv();\n    const result = env && env.name ? env.name.toLowerCase() === \"node\" : false;\n    return result;\n}\nexport function isBrowser() {\n    const result = !isNode() && !!getNavigator();\n    return result;\n}\nexport const getFromWindow = windowGetters.getFromWindow;\nexport const getFromWindowOrThrow = windowGetters.getFromWindowOrThrow;\nexport const getDocumentOrThrow = windowGetters.getDocumentOrThrow;\nexport const getDocument = windowGetters.getDocument;\nexport const getNavigatorOrThrow = windowGetters.getNavigatorOrThrow;\nexport const getNavigator = windowGetters.getNavigator;\nexport const getLocationOrThrow = windowGetters.getLocationOrThrow;\nexport const getLocation = windowGetters.getLocation;\nexport const getCryptoOrThrow = windowGetters.getCryptoOrThrow;\nexport const getCrypto = windowGetters.getCrypto;\nexport const getLocalStorageOrThrow = windowGetters.getLocalStorageOrThrow;\nexport const getLocalStorage = windowGetters.getLocalStorage;\nexport function getClientMeta() {\n    return windowMetadata.getWindowMetadata();\n}\n//# sourceMappingURL=browser.js.map","import { setLocal } from \"./local\";\nexport const mobileLinkChoiceKey = \"WALLETCONNECT_DEEPLINK_CHOICE\";\nexport function formatIOSMobile(uri, entry) {\n    const encodedUri = encodeURIComponent(uri);\n    return entry.universalLink\n        ? `${entry.universalLink}/wc?uri=${encodedUri}`\n        : entry.deepLink\n            ? `${entry.deepLink}${entry.deepLink.endsWith(\":\") ? \"//\" : \"/\"}wc?uri=${encodedUri}`\n            : \"\";\n}\nexport function saveMobileLinkInfo(data) {\n    const focusUri = data.href.split(\"?\")[0];\n    setLocal(mobileLinkChoiceKey, Object.assign(Object.assign({}, data), { href: focusUri }));\n}\nexport function getMobileRegistryEntry(registry, name) {\n    return registry.filter((entry) => entry.name.toLowerCase().includes(name.toLowerCase()))[0];\n}\nexport function getMobileLinkRegistry(registry, whitelist) {\n    let links = registry;\n    if (whitelist) {\n        links = whitelist.map((name) => getMobileRegistryEntry(registry, name)).filter(Boolean);\n    }\n    return links;\n}\n//# sourceMappingURL=mobile.js.map","import { safeJsonParse, safeJsonStringify } from \"./json\";\nimport { getLocalStorage } from \"./browser\";\nexport function setLocal(key, data) {\n    const raw = safeJsonStringify(data);\n    const local = getLocalStorage();\n    if (local) {\n        local.setItem(key, raw);\n    }\n}\nexport function getLocal(key) {\n    let data = null;\n    let raw = null;\n    const local = getLocalStorage();\n    if (local) {\n        raw = local.getItem(key);\n    }\n    data = raw ? safeJsonParse(raw) : raw;\n    return data;\n}\nexport function removeLocal(key) {\n    const local = getLocalStorage();\n    if (local) {\n        local.removeItem(key);\n    }\n}\n//# sourceMappingURL=local.js.map","export function safeJsonParse(value) {\n    if (typeof value !== \"string\") {\n        throw new Error(`Cannot safe json parse value of type ${typeof value}`);\n    }\n    try {\n        return JSON.parse(value);\n    }\n    catch (_a) {\n        return value;\n    }\n}\nexport function safeJsonStringify(value) {\n    return typeof value === \"string\" ? value : JSON.stringify(value);\n}\n//# sourceMappingURL=index.js.map","import { createElement as CurtomCreateElement } from '../CustomCreateElement'\n\nfunction DeFiLinkIconLight(props: {}): JSX.Element {\n  return (\n    <svg width={60} height={60} viewBox=\"5 5 66 66\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\n      <g filter=\"url(#prefix__filter0_d)\">\n        <path\n          fillRule=\"evenodd\"\n          clipRule=\"evenodd\"\n          d=\"M42.054 20.5c4.016 0 6.023 0 8.185.683a8.495 8.495 0 015.078 5.078c.683 2.161.683 4.17.683 8.185v12.108c0 4.016 0 6.023-.683 8.185a8.494 8.494 0 01-5.078 5.077c-2.162.684-4.169.684-8.185.684H29.946c-4.016 0-6.024 0-8.185-.684a8.494 8.494 0 01-5.078-5.077C16 52.577 16 50.57 16 46.554V34.446c0-4.016 0-6.024.683-8.185a8.495 8.495 0 015.078-5.078c2.161-.683 4.169-.683 8.185-.683h12.108z\"\n          fill=\"#fff\"\n        />\n        <mask id=\"prefix__a\" maskUnits=\"userSpaceOnUse\" x={16} y={20} width={40} height={41}>\n          <path\n            fillRule=\"evenodd\"\n            clipRule=\"evenodd\"\n            d=\"M42.054 20.5c4.016 0 6.023 0 8.185.683a8.495 8.495 0 015.078 5.078c.683 2.161.683 4.17.683 8.185v12.108c0 4.016 0 6.023-.683 8.185a8.494 8.494 0 01-5.078 5.077c-2.162.684-4.169.684-8.185.684H29.946c-4.016 0-6.024 0-8.185-.684a8.494 8.494 0 01-5.078-5.077C16 52.577 16 50.57 16 46.554V34.446c0-4.016 0-6.024.683-8.185a8.495 8.495 0 015.078-5.078c2.161-.683 4.169-.683 8.185-.683h12.108z\"\n            fill=\"#fff\"\n          />\n        </mask>\n        <g mask=\"url(#prefix__a)\" fillRule=\"evenodd\" clipRule=\"evenodd\">\n          <path d=\"M35.98 24.485l-14.042 8.01v16.023L35.98 56.53l14.043-8.012V32.496L35.98 24.485z\" fill=\"#FEFEFE\" />\n          <path\n            d=\"M35.98 24.485l-14.042 8.01v16.023L35.98 56.53l14.043-8.012V32.496L35.98 24.485zm-5.544 6.927h11.051l1.333 5.567H29.154l1.282-5.567zm3.184 9.517l-1.205-3.11h7.156l-1.18 3.11.343 3.474-2.754.012h-2.728l.368-3.486zm3.515 7.16v-1.103l2.474-2.344v-3.7l3.236-2.081 3.693 2.746-5.026 8.652H39.52l-2.385-2.17zm-11.711-6.482l3.704-2.721 3.274 2.056v3.7l2.474 2.344v1.103l-2.385 2.195h-2.018l-5.05-8.677z\"\n            fill=\"#002D72\"\n          />\n          <path\n            d=\"M41.512 50.259H39.52l-2.385-2.17v-1.103l2.474-2.345v-3.7l3.236-2.08 3.693 2.746-5.026 8.652zM35.98 24.485v6.927h5.507l1.333 5.567h-6.84v.84h3.591l-1.18 3.11.343 3.474-2.754.012V56.53l14.043-8.012V32.496L35.98 24.485z\"\n            fill=\"url(#prefix__paint0_linear)\"\n            style={{\n              mixBlendMode: 'multiply',\n            }}\n          />\n          <path\n            d=\"M34.876 48.09l-2.385 2.194h-2.018l-5.05-8.677 3.705-2.721 3.274 2.056v3.7l2.474 2.344v1.103zm-1.624-3.675l.368-3.486-1.205-3.11h3.565v-.84h-6.826l1.282-5.567h5.544v-6.927l-14.042 8.01v16.023L35.98 56.53V44.415h-2.728z\"\n            fill=\"url(#prefix__paint1_linear)\"\n            style={{\n              mixBlendMode: 'multiply',\n            }}\n          />\n        </g>\n      </g>\n      <defs>\n        <linearGradient\n          id=\"prefix__paint0_linear\"\n          x1={48.526}\n          y1={53.073}\n          x2={48.526}\n          y2={27.863}\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop stopColor=\"#002D72\" />\n          <stop offset={1} stopColor=\"#002D72\" stopOpacity={0.01} />\n        </linearGradient>\n        <linearGradient\n          id=\"prefix__paint1_linear\"\n          x1={34.483}\n          y1={53.073}\n          x2={34.483}\n          y2={27.863}\n          gradientUnits=\"userSpaceOnUse\"\n        >\n          <stop stopColor=\"#002D72\" stopOpacity={0.01} />\n          <stop offset={1} stopColor=\"#002D72\" />\n        </linearGradient>\n        <filter\n          id=\"prefix__filter0_d\"\n          x={-4}\n          y={0.5}\n          width={80}\n          height={80}\n          filterUnits=\"userSpaceOnUse\"\n          colorInterpolationFilters=\"sRGB\"\n        >\n          <feFlood floodOpacity={0} result=\"BackgroundImageFix\" />\n          <feColorMatrix in=\"SourceAlpha\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\" result=\"hardAlpha\" />\n          <feOffset />\n          <feGaussianBlur stdDeviation={10} />\n          <feColorMatrix values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0\" />\n          <feBlend in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\" />\n          <feBlend in=\"SourceGraphic\" in2=\"effect1_dropShadow\" result=\"shape\" />\n        </filter>\n      </defs>\n    </svg>\n  )\n}\n\nexport default DeFiLinkIconLight\n","import { createElement as CurtomCreateElement } from '../CustomCreateElement'\n\nfunction ConnectStepCameraIcon(props: { style?: {} }): JSX.Element {\n  return (\n    <svg width={20} height={21} viewBox=\"0 0 20 21\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" {...props}>\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M8.586 2.167H2.361a.694.694 0 00-.694.694v6.606h1.389V3.556h5.53v-1.39zm2.828 1.389v-1.39h6.225c.384 0 .694.312.694.695v6.606h-1.388V3.556h-5.53zm0 13.889h5.53v-5.223h1.39v5.917c0 .383-.311.694-.695.694h-6.225v-1.388zm-8.358-5.223v5.223h5.53v1.388H2.361a.695.695 0 01-.694-.694v-5.917h1.389z\"\n        fill=\"#0B1426\"\n      />\n      <path fill=\"#0B1426\" d=\"M5.833 9.667h8.333v1.667H5.833z\" />\n    </svg>\n  )\n}\n\nexport default ConnectStepCameraIcon\n","import { createElement as CurtomCreateElement } from '../CustomCreateElement'\n\nfunction Icon(): JSX.Element {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"27\" height=\"32\" fill=\"none\" viewBox=\"0 0 27 32\">\n      <path\n        fill=\"#828FA1\"\n        fillRule=\"evenodd\"\n        d=\"M0 8.56v15.237l13.024 7.62 13.021-7.62V8.56L13.024.941 0 8.561zm1.146 14.57V9.23L13.024 2.28 24.903 9.23V23.13l-11.879 6.95-11.878-6.95z\"\n        clipRule=\"evenodd\"\n      />\n      <path\n        fill=\"#828FA1\"\n        fillRule=\"evenodd\"\n        d=\"M18.128 7.52H7.894l-1.186 5.287h12.653L18.128 7.52zM9.71 20.083V16.57l-3.032-1.953-3.43 2.584 4.676 8.24h1.868L12 23.357V22.31L9.71 20.083z\"\n        clipRule=\"evenodd\"\n      />\n      <path\n        fill=\"#828FA1\"\n        fillRule=\"evenodd\"\n        d=\"M16.348 13.604H9.72l1.116 2.954-.34 3.31h2.526l2.55-.012-.318-3.298 1.093-2.954z\"\n        clipRule=\"evenodd\"\n      />\n      <path\n        fill=\"#828FA1\"\n        fillRule=\"evenodd\"\n        d=\"M19.379 14.593l-2.996 1.977v3.513l-2.29 2.227v1.047l2.208 2.06h1.844l4.653-8.216-3.419-2.608z\"\n        clipRule=\"evenodd\"\n      />\n    </svg>\n  )\n}\n\nexport default Icon\n","import { createElement as CurtomCreateElement } from '../CustomCreateElement'\n\nfunction FeatureGlobeIcon(): JSX.Element {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\">\n      <path\n        fill=\"#1199FA\"\n        fillRule=\"evenodd\"\n        d=\"M12 1.75C6.34 1.75 1.75 6.34 1.75 12S6.34 22.25 12 22.25 22.25 17.66 22.25 12 17.66 1.75 12 1.75zM.25 12C.25 5.51 5.51.25 12 .25S23.75 5.51 23.75 12 18.49 23.75 12 23.75.25 18.49.25 12z\"\n        clipRule=\"evenodd\"\n      />\n      <path\n        fill=\"#1199FA\"\n        fillRule=\"evenodd\"\n        d=\"M12.434.607a.75.75 0 011.059-.073C16.748 3.37 18.75 7.474 18.75 12c0 4.622-1.998 8.732-5.268 11.475a.75.75 0 11-.964-1.15c2.93-2.457 4.732-6.147 4.732-10.325 0-4.073-1.799-7.77-4.743-10.334a.75.75 0 01-.072-1.059zM11.575.618a.75.75 0 01-.093 1.057C8.552 4.132 6.75 7.822 6.75 12c0 4.073 1.798 7.77 4.743 10.334a.75.75 0 01-.986 1.132C7.252 20.63 5.25 16.526 5.25 12c0-4.622 1.998-8.732 5.268-11.475a.75.75 0 011.057.093z\"\n        clipRule=\"evenodd\"\n      />\n      <path\n        fill=\"#1199FA\"\n        fillRule=\"evenodd\"\n        d=\"M12 .25a.75.75 0 01.75.75v22a.75.75 0 01-1.5 0V1A.75.75 0 0112 .25z\"\n        clipRule=\"evenodd\"\n      />\n      <path\n        fill=\"#1199FA\"\n        fillRule=\"evenodd\"\n        d=\"M1.25 8A.75.75 0 012 7.25h20a.75.75 0 010 1.5H2A.75.75 0 011.25 8zM1.25 16a.75.75 0 01.75-.75h20a.75.75 0 010 1.5H2a.75.75 0 01-.75-.75z\"\n        clipRule=\"evenodd\"\n      />\n    </svg>\n  )\n}\n\nexport default FeatureGlobeIcon\n","import { createElement as CurtomCreateElement } from '../CustomCreateElement'\n\nfunction Icon(): JSX.Element {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"22\" height=\"22\" fill=\"none\" viewBox=\"0 0 22 22\">\n      <path\n        stroke=\"#1199FA\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        strokeWidth=\"1.5\"\n        d=\"M10.676 4.651l2.191-2.282c1.826-1.825 4.838-1.825 6.664 0 1.826 1.826 1.826 4.838 0 6.755l-4.2 4.2c-1.825 1.825-4.837 1.825-6.663 0-.274-.274-.822-1.005-1.095-1.37\"\n      />\n      <path\n        stroke=\"#1199FA\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        strokeWidth=\"1.5\"\n        d=\"M10.676 4.651l2.191-2.282c1.826-1.825 4.838-1.825 6.664 0 1.826 1.826 1.826 4.838 0 6.755l-4.2 4.2c-1.825 1.825-4.837 1.825-6.663 0-.274-.274-.822-1.005-1.095-1.37\"\n      />\n      <path\n        stroke=\"#1199FA\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        strokeWidth=\"1.5\"\n        d=\"M11.224 17.431l-2.191 2.282c-1.826 1.826-4.838 1.826-6.664 0-1.825-1.825-1.825-4.838 0-6.755l4.2-4.199c1.825-1.826 4.837-1.826 6.663 0 .274.274.822 1.004 1.096 1.37\"\n      />\n    </svg>\n  )\n}\n\nexport default Icon\n","import { createElement as CurtomCreateElement } from '../CustomCreateElement'\n\nfunction Icon(): JSX.Element {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\">\n      <path\n        fill=\"#1199FA\"\n        fillRule=\"evenodd\"\n        d=\"M5.778 10.023c-.548 0-1.028.466-1.028 1.068v9.09c0 .603.48 1.069 1.028 1.069h12.444c.548 0 1.028-.466 1.028-1.068V11.09c0-.602-.48-1.068-1.028-1.068H5.778zM3.25 11.09c0-1.398 1.12-2.568 2.528-2.568h12.444c1.408 0 2.528 1.17 2.528 2.568v9.09c0 1.399-1.12 2.569-2.528 2.569H5.778c-1.408 0-2.528-1.17-2.528-2.568V11.09zM12 2.75c-2.059 0-3.694 1.648-3.694 3.795a.75.75 0 11-1.5 0C6.806 3.602 9.08 1.25 12 1.25s5.195 2.352 5.195 5.295a.75.75 0 01-1.5 0c0-2.147-1.636-3.795-3.695-3.795z\"\n        clipRule=\"evenodd\"\n      />\n      <path\n        fill=\"#1199FA\"\n        fillRule=\"evenodd\"\n        d=\"M16.444 5.795a.75.75 0 01.75.75V8.91a.75.75 0 01-1.5 0V6.545a.75.75 0 01.75-.75zM7.556 5.795a.75.75 0 01.75.75v2.637a.75.75 0 11-1.5 0V6.545a.75.75 0 01.75-.75z\"\n        clipRule=\"evenodd\"\n      />\n    </svg>\n  )\n}\n\nexport default Icon\n","import * as CSS from 'csstype'\ntype CSSProperties = CSS.Properties<string | number>\n\nexport const styles: {\n  overlay: CSSProperties\n  container: CSSProperties\n  containerLeft: CSSProperties\n  containerRight: CSSProperties\n  header: CSSProperties\n  headerLogo: CSSProperties\n  headerText: CSSProperties\n  headerTextDivide: CSSProperties\n  title: CSSProperties\n  feature: CSSProperties\n  featureIcon: CSSProperties\n  featureText: CSSProperties\n  installButton: CSSProperties\n  rightQRcode: CSSProperties\n  rightTitle: CSSProperties\n  stretchContainer: CSSProperties\n  terms: {\n    container: CSSProperties\n    text: CSSProperties\n    link: CSSProperties\n  }\n  rightStep: {\n    container: CSSProperties\n    dot: CSSProperties\n    desc: CSSProperties\n    camera: CSSProperties\n  }\n} = {\n  overlay: {\n    background: 'rgba(12, 12, 15, 0.7)',\n    display: 'flex',\n    position: 'fixed',\n    zIndex: 2,\n    left: 0,\n    top: 0,\n    width: '100%',\n    height: '100%',\n    overflow: 'auto',\n    justifyContent: 'center',\n    alignItems: 'center',\n    userSelect: 'none',\n  },\n  container: {\n    display: 'flex',\n    flexDirection: 'row',\n    padding: '80px',\n    background: 'linear-gradient(180deg, #021E3F 0%, #002A67 95.76%)',\n    borderRadius: '16px',\n    maxWidth: '1100px',\n    overflow: 'hidden',\n  },\n  containerLeft: {\n    display: 'flex',\n    flexDirection: 'column',\n    marginRight: '40px',\n    flexShrink: 1,\n    minWidth: '450px',\n  },\n  header: {\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'row',\n  },\n  headerLogo: {},\n  headerText: {\n    color: '#828FA1',\n    margin: '10px',\n  },\n  headerTextDivide: {\n    backgroundColor: '#828FA1',\n    width: '1px',\n    height: '32px',\n  },\n  title: {\n    color: '#FFFFFF',\n    fontWeight: 600,\n    fontSize: '28px',\n    marginTop: '24px',\n    marginBottom: '16px',\n    maxWidth: '500px',\n  },\n  feature: {\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'row',\n    marginTop: '24px',\n  },\n  featureIcon: {},\n  featureText: {\n    marginLeft: '16px',\n    color: '#FFFFFF',\n    fontWeight: 600,\n    fontSize: '16px',\n  },\n  installButton: {\n    marginTop: '40px',\n    height: '48px',\n    background: '#1199FA',\n    borderRadius: '8px',\n    padding: '0px 36px',\n    border: '0px solid white',\n    fontWeight: 600,\n    fontSize: '18px',\n    color: '#FFFFFF',\n    alignSelf: 'flex-start',\n    cursor: 'pointer',\n    zIndex: 1001,\n  },\n  containerRight: {\n    flexShrink: 0,\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'stretch',\n    alignItems: 'center',\n    backgroundColor: '#F7F9FA',\n    width: '360px',\n    height: '497px',\n    borderRadius: '16px',\n    overflow: 'hidden',\n  },\n  rightQRcode: {\n    flexGrow: 0,\n    marginTop: '48px',\n    width: '160px',\n    height: '160px',\n    filter: 'drop-shadow(0px 0px 8px rgba(0, 0, 0, 0.16))',\n    borderRadius: '8px',\n  },\n  rightTitle: {\n    fontWeight: 600,\n    fontSize: '22px',\n    color: '#323C52',\n    margin: '32px 0px 8px 0px',\n  },\n  stretchContainer: {\n    display: 'flex',\n    flex: 1,\n    flexGrow: 1,\n  },\n  rightStep: {\n    container: {\n      display: 'flex',\n      flexDirection: 'row',\n      marginTop: '8px',\n      alignSelf: 'flex-start',\n      marginLeft: '46px',\n    },\n    dot: {},\n    desc: {\n      fontSize: '16px',\n      color: '#5D667B',\n    },\n    camera: {\n      margin: '0px 8px',\n    },\n  },\n  terms: {\n    container: {\n      display: 'flex',\n      flexDirection: 'row',\n      alignSelf: 'stretch',\n      justifyContent: 'center',\n      marginBottom: '16px',\n    },\n    text: {\n      fontSize: '10px',\n      color: '#5D667B',\n    },\n    link: {\n      fontSize: '10px',\n      color: '#4399F3',\n      margin: '0px 4px',\n      cursor: 'pointer',\n    },\n  },\n}\n\nexport const BannerStyles: {\n  container: CSSProperties\n  logoIcon: CSSProperties\n  textContainer: CSSProperties\n  title: CSSProperties\n  desc: CSSProperties\n  button: CSSProperties\n} = {\n  container: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'stretch',\n    alignItems: 'center',\n    alignSelf: 'stretch',\n    backgroundColor: 'white',\n  },\n  logoIcon: {\n    width: '30px',\n    height: '30px',\n    padding: '5px',\n    backgroundColor: 'white',\n    filter: 'drop-shadow(0px 0px 8px rgba(0, 0, 0, 0.16))',\n    borderRadius: '6px',\n  },\n  textContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'flex-start',\n    flex: 1,\n  },\n  title: {\n    fontWeight: 600,\n    fontSize: '14px',\n    lineHeight: '150%',\n    color: '#323C52',\n  },\n  desc: {\n    fontWeight: 500,\n    fontSize: '10px',\n    lineHeight: '150%',\n    color: '#7B849B',\n  },\n  button: {\n    width: '75px',\n    height: '34px',\n    background: '#1199FA',\n    border: '0px solid white',\n    borderRadius: '4px',\n    fontWeight: 600,\n    fontSize: '12px',\n    color: '#FFFFFF',\n    marginRight: '12px',\n    cursor: 'pointer',\n    zIndex: 1001,\n  },\n}\n","import { createElement as CurtomCreateElement } from './CustomCreateElement'\nimport { IQRCodeModal } from '@deficonnect/types'\nimport { formatIOSMobile, isAndroid, isIOS, saveMobileLinkInfo } from '@deficonnect/browser-utils'\nimport DeFiLinkIconLight from './assets/defi-link-icon-light'\nimport ConnectStepCameraIcon from './assets/connect-step-camera-icon'\nimport LogoIcon from './assets/defi-link-icon'\nimport FeatureGlobeIcon from './assets/feature-globe-icon'\nimport FeatureLinkIcon from './assets/feature-link-icon'\nimport FeatureLockIcon from './assets/feature-lock-icon'\nimport { formatToCWEURI, replaceUriProtocol } from './tools/url-tools'\nimport QRCode from 'qrcode'\nimport { styles, BannerStyles } from './InstallExtensionModal.styles'\n\nconst iOSRegistryEntry = {\n  name: 'Crypto.com DeFi Wallet',\n  shortName: 'DeFi Wallet',\n  color: 'rgb(17, 153, 250)',\n  logo: './logos/wallet-crypto-defi.png',\n  universalLink: 'https://wallet.crypto.com',\n  deepLink: 'cryptowallet:',\n}\n\nconst openDeeplinkOrInstall = (deepLink: string, installURL: string): void => {\n  if (isIOS()) {\n    window.open(deepLink)\n  } else {\n    let isBlur = false\n    window.addEventListener('blur', () => {\n      isBlur = true\n    })\n    window.addEventListener('visibilitychange', () => {\n      if (document.hidden) {\n        isBlur = true\n      }\n    })\n    window.location.href = deepLink\n    setTimeout(() => {\n      if (isBlur) return\n      window.open(installURL)\n    }, 1500)\n  }\n}\n\nconst downloadAppURL = 'https://bit.ly/3Bk4wzE'\nexport const InstallExtensionQRCodeModal: IQRCodeModal = {\n  open: async function (uri: string, cb: Function, opts) {\n    const CWEURI = formatToCWEURI(uri) + '&role=dapp'\n    if (isIOS()) {\n      const singleLinkHref = formatIOSMobile(CWEURI, iOSRegistryEntry)\n      saveMobileLinkInfo({ name: 'Crypto.com DeFi Wallet', href: singleLinkHref })\n      openDeeplinkOrInstall(singleLinkHref, downloadAppURL)\n      return\n    }\n    if (isAndroid()) {\n      const lowercaseURI = replaceUriProtocol(CWEURI, 'cwe') + '&role=dapp'\n      saveMobileLinkInfo({\n        name: 'Unknown',\n        href: lowercaseURI, // adnroid side only support lowercase\n      })\n      openDeeplinkOrInstall(lowercaseURI, downloadAppURL)\n      return\n    }\n\n    const body = document.body\n    const popup = document.createElement('div')\n    popup.id = 'cryptoconnect-extension'\n    body.appendChild(popup)\n    try {\n      const url = await new Promise<string>((resolve) => QRCode.toDataURL(CWEURI, (_err, url: string) => resolve(url)))\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const overlay: any = <InstallExtensionModal qrUrl={url} />\n      body.appendChild(overlay)\n      const closeModal = (): void => {\n        overlay.parentElement?.removeChild(overlay)\n        popup.parentElement?.removeChild(popup)\n        window.removeEventListener('InstallExtensionQRCodeModal_Event_close', closeModal)\n      }\n      window.addEventListener('InstallExtensionQRCodeModal_Event_close', closeModal)\n      const closeModalClick = (): void => {\n        cb()\n        closeModal()\n      }\n      overlay.onclick = closeModalClick\n    } catch (error) {\n      console.log(error)\n    }\n  },\n  close: function () {\n    window.dispatchEvent(new Event('InstallExtensionQRCodeModal_Event_close'))\n  },\n}\n\ninterface InstallExtensionModalProps {\n  qrUrl: string\n}\nexport const InstallExtensionModal = (props: InstallExtensionModalProps): JSX.Element => {\n  const { qrUrl } = props\n  const onInstallButtonClick = (): void => {\n    window.open('https://wallet.crypto.com/api/v1/extension/install')\n  }\n  const onTermsClick = (): void => {\n    window.open('https://crypto.com/document/ncw_tnc')\n  }\n  const onPrivacyClick = (): void => {\n    window.open('https://crypto.com/privacy/ncw')\n  }\n  const onDownloadClick = (): void => {\n    window.open('https://bit.ly/3Bk4wzE')\n  }\n  const stopPropagation = (event: { stopPropagation: () => void }): void => event?.stopPropagation()\n  return (\n    <div style={styles.overlay}>\n      <div style={styles.container} onClick={stopPropagation}>\n        <div style={styles.containerLeft}>\n          <div style={styles.header}>\n            <LogoIcon />\n            <div style={styles.headerText}>crypto.com</div>\n            <div style={styles.headerTextDivide} />\n            <div style={styles.headerText}>WALLET EXTENSION</div>\n          </div>\n          <div style={styles.title}>Access DApps on desktop by connecting DeFi Wallet to Wallet Extension</div>\n          <div style={styles.feature}>\n            <FeatureLinkIcon />\n            <div style={styles.featureText}>Stable connection to DApps</div>\n          </div>\n          <div style={styles.feature}>\n            <FeatureLockIcon />\n            <div style={styles.featureText}>Secure signing via DeFi Wallet</div>\n          </div>\n          <div style={styles.feature}>\n            <FeatureGlobeIcon />\n            <div style={styles.featureText}>Smooth App navigation with DApp connection</div>\n          </div>\n          <button style={styles.installButton} onClick={onInstallButtonClick}>\n            Install DeFi Wallet Extension\n          </button>\n        </div>\n        <div style={styles.containerRight}>\n          <img style={styles.rightQRcode} src={qrUrl} alt=\"qrcode\" />\n          <span style={styles.rightTitle}>Scan to Connect</span>\n          <div style={styles.rightStep.container}>\n            <div style={styles.rightStep.desc}> Open DeFi Wallet Mobile App</div>\n          </div>\n          <div style={styles.rightStep.container}>\n            <div style={styles.rightStep.desc}> Tap</div>\n            <ConnectStepCameraIcon style={styles.rightStep.camera} />\n            <div style={styles.rightStep.desc}>to switch on the camera</div>\n          </div>\n          <div style={styles.rightStep.container}>\n            <div style={styles.rightStep.desc}> Scan the QR code above</div>\n          </div>\n          <div style={styles.stretchContainer} />\n          <div style={styles.terms.container}>\n            <div style={styles.terms.text}>Crypto.com DeFi Wallet </div>\n            <div style={styles.terms.link} onClick={onTermsClick}>\n              Terms & Conditions\n            </div>\n            <div style={styles.terms.text}>and</div>\n            <div style={styles.terms.link} onClick={onPrivacyClick}>\n              Privacy Notice\n            </div>\n          </div>\n          <DownloadAppBanner onDownloadClick={onDownloadClick} />\n        </div>\n      </div>\n    </div>\n  )\n}\n\ninterface DownloadAppBannerProps {\n  onDownloadClick: () => void\n}\nconst DownloadAppBanner = (props: DownloadAppBannerProps): JSX.Element => {\n  const { onDownloadClick } = props\n  return (\n    <div style={BannerStyles.container}>\n      <DeFiLinkIconLight />\n      <div style={BannerStyles.textContainer}>\n        <div style={BannerStyles.title}>Crypto.com DeFi Wallet</div>\n        <div style={BannerStyles.desc}>Your Keys, Your Crypto.</div>\n      </div>\n      <button style={BannerStyles.button} onClick={onDownloadClick}>\n        Download\n      </button>\n    </div>\n  )\n}\n","module.exports = Long;\r\n\r\n/**\r\n * wasm optimizations, to do native i64 multiplication and divide\r\n */\r\nvar wasm = null;\r\n\r\ntry {\r\n  wasm = new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([\r\n    0, 97, 115, 109, 1, 0, 0, 0, 1, 13, 2, 96, 0, 1, 127, 96, 4, 127, 127, 127, 127, 1, 127, 3, 7, 6, 0, 1, 1, 1, 1, 1, 6, 6, 1, 127, 1, 65, 0, 11, 7, 50, 6, 3, 109, 117, 108, 0, 1, 5, 100, 105, 118, 95, 115, 0, 2, 5, 100, 105, 118, 95, 117, 0, 3, 5, 114, 101, 109, 95, 115, 0, 4, 5, 114, 101, 109, 95, 117, 0, 5, 8, 103, 101, 116, 95, 104, 105, 103, 104, 0, 0, 10, 191, 1, 6, 4, 0, 35, 0, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 126, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 127, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 128, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 129, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 130, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11\r\n  ])), {}).exports;\r\n} catch (e) {\r\n  // no wasm support :(\r\n}\r\n\r\n/**\r\n * Constructs a 64 bit two's-complement integer, given its low and high 32 bit values as *signed* integers.\r\n *  See the from* functions below for more convenient ways of constructing Longs.\r\n * @exports Long\r\n * @class A Long class for representing a 64 bit two's-complement integer value.\r\n * @param {number} low The low (signed) 32 bits of the long\r\n * @param {number} high The high (signed) 32 bits of the long\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @constructor\r\n */\r\nfunction Long(low, high, unsigned) {\r\n\r\n    /**\r\n     * The low 32 bits as a signed value.\r\n     * @type {number}\r\n     */\r\n    this.low = low | 0;\r\n\r\n    /**\r\n     * The high 32 bits as a signed value.\r\n     * @type {number}\r\n     */\r\n    this.high = high | 0;\r\n\r\n    /**\r\n     * Whether unsigned or not.\r\n     * @type {boolean}\r\n     */\r\n    this.unsigned = !!unsigned;\r\n}\r\n\r\n// The internal representation of a long is the two given signed, 32-bit values.\r\n// We use 32-bit pieces because these are the size of integers on which\r\n// Javascript performs bit-operations.  For operations like addition and\r\n// multiplication, we split each number into 16 bit pieces, which can easily be\r\n// multiplied within Javascript's floating-point representation without overflow\r\n// or change in sign.\r\n//\r\n// In the algorithms below, we frequently reduce the negative case to the\r\n// positive case by negating the input(s) and then post-processing the result.\r\n// Note that we must ALWAYS check specially whether those values are MIN_VALUE\r\n// (-2^63) because -MIN_VALUE == MIN_VALUE (since 2^63 cannot be represented as\r\n// a positive number, it overflows back into a negative).  Not handling this\r\n// case would often result in infinite recursion.\r\n//\r\n// Common constant values ZERO, ONE, NEG_ONE, etc. are defined below the from*\r\n// methods on which they depend.\r\n\r\n/**\r\n * An indicator used to reliably determine if an object is a Long or not.\r\n * @type {boolean}\r\n * @const\r\n * @private\r\n */\r\nLong.prototype.__isLong__;\r\n\r\nObject.defineProperty(Long.prototype, \"__isLong__\", { value: true });\r\n\r\n/**\r\n * @function\r\n * @param {*} obj Object\r\n * @returns {boolean}\r\n * @inner\r\n */\r\nfunction isLong(obj) {\r\n    return (obj && obj[\"__isLong__\"]) === true;\r\n}\r\n\r\n/**\r\n * Tests if the specified object is a Long.\r\n * @function\r\n * @param {*} obj Object\r\n * @returns {boolean}\r\n */\r\nLong.isLong = isLong;\r\n\r\n/**\r\n * A cache of the Long representations of small integer values.\r\n * @type {!Object}\r\n * @inner\r\n */\r\nvar INT_CACHE = {};\r\n\r\n/**\r\n * A cache of the Long representations of small unsigned integer values.\r\n * @type {!Object}\r\n * @inner\r\n */\r\nvar UINT_CACHE = {};\r\n\r\n/**\r\n * @param {number} value\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromInt(value, unsigned) {\r\n    var obj, cachedObj, cache;\r\n    if (unsigned) {\r\n        value >>>= 0;\r\n        if (cache = (0 <= value && value < 256)) {\r\n            cachedObj = UINT_CACHE[value];\r\n            if (cachedObj)\r\n                return cachedObj;\r\n        }\r\n        obj = fromBits(value, (value | 0) < 0 ? -1 : 0, true);\r\n        if (cache)\r\n            UINT_CACHE[value] = obj;\r\n        return obj;\r\n    } else {\r\n        value |= 0;\r\n        if (cache = (-128 <= value && value < 128)) {\r\n            cachedObj = INT_CACHE[value];\r\n            if (cachedObj)\r\n                return cachedObj;\r\n        }\r\n        obj = fromBits(value, value < 0 ? -1 : 0, false);\r\n        if (cache)\r\n            INT_CACHE[value] = obj;\r\n        return obj;\r\n    }\r\n}\r\n\r\n/**\r\n * Returns a Long representing the given 32 bit integer value.\r\n * @function\r\n * @param {number} value The 32 bit integer in question\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromInt = fromInt;\r\n\r\n/**\r\n * @param {number} value\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromNumber(value, unsigned) {\r\n    if (isNaN(value))\r\n        return unsigned ? UZERO : ZERO;\r\n    if (unsigned) {\r\n        if (value < 0)\r\n            return UZERO;\r\n        if (value >= TWO_PWR_64_DBL)\r\n            return MAX_UNSIGNED_VALUE;\r\n    } else {\r\n        if (value <= -TWO_PWR_63_DBL)\r\n            return MIN_VALUE;\r\n        if (value + 1 >= TWO_PWR_63_DBL)\r\n            return MAX_VALUE;\r\n    }\r\n    if (value < 0)\r\n        return fromNumber(-value, unsigned).neg();\r\n    return fromBits((value % TWO_PWR_32_DBL) | 0, (value / TWO_PWR_32_DBL) | 0, unsigned);\r\n}\r\n\r\n/**\r\n * Returns a Long representing the given value, provided that it is a finite number. Otherwise, zero is returned.\r\n * @function\r\n * @param {number} value The number in question\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromNumber = fromNumber;\r\n\r\n/**\r\n * @param {number} lowBits\r\n * @param {number} highBits\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromBits(lowBits, highBits, unsigned) {\r\n    return new Long(lowBits, highBits, unsigned);\r\n}\r\n\r\n/**\r\n * Returns a Long representing the 64 bit integer that comes by concatenating the given low and high bits. Each is\r\n *  assumed to use 32 bits.\r\n * @function\r\n * @param {number} lowBits The low 32 bits\r\n * @param {number} highBits The high 32 bits\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromBits = fromBits;\r\n\r\n/**\r\n * @function\r\n * @param {number} base\r\n * @param {number} exponent\r\n * @returns {number}\r\n * @inner\r\n */\r\nvar pow_dbl = Math.pow; // Used 4 times (4*8 to 15+4)\r\n\r\n/**\r\n * @param {string} str\r\n * @param {(boolean|number)=} unsigned\r\n * @param {number=} radix\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromString(str, unsigned, radix) {\r\n    if (str.length === 0)\r\n        throw Error('empty string');\r\n    if (str === \"NaN\" || str === \"Infinity\" || str === \"+Infinity\" || str === \"-Infinity\")\r\n        return ZERO;\r\n    if (typeof unsigned === 'number') {\r\n        // For goog.math.long compatibility\r\n        radix = unsigned,\r\n        unsigned = false;\r\n    } else {\r\n        unsigned = !! unsigned;\r\n    }\r\n    radix = radix || 10;\r\n    if (radix < 2 || 36 < radix)\r\n        throw RangeError('radix');\r\n\r\n    var p;\r\n    if ((p = str.indexOf('-')) > 0)\r\n        throw Error('interior hyphen');\r\n    else if (p === 0) {\r\n        return fromString(str.substring(1), unsigned, radix).neg();\r\n    }\r\n\r\n    // Do several (8) digits each time through the loop, so as to\r\n    // minimize the calls to the very expensive emulated div.\r\n    var radixToPower = fromNumber(pow_dbl(radix, 8));\r\n\r\n    var result = ZERO;\r\n    for (var i = 0; i < str.length; i += 8) {\r\n        var size = Math.min(8, str.length - i),\r\n            value = parseInt(str.substring(i, i + size), radix);\r\n        if (size < 8) {\r\n            var power = fromNumber(pow_dbl(radix, size));\r\n            result = result.mul(power).add(fromNumber(value));\r\n        } else {\r\n            result = result.mul(radixToPower);\r\n            result = result.add(fromNumber(value));\r\n        }\r\n    }\r\n    result.unsigned = unsigned;\r\n    return result;\r\n}\r\n\r\n/**\r\n * Returns a Long representation of the given string, written using the specified radix.\r\n * @function\r\n * @param {string} str The textual representation of the Long\r\n * @param {(boolean|number)=} unsigned Whether unsigned or not, defaults to signed\r\n * @param {number=} radix The radix in which the text is written (2-36), defaults to 10\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromString = fromString;\r\n\r\n/**\r\n * @function\r\n * @param {!Long|number|string|!{low: number, high: number, unsigned: boolean}} val\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromValue(val, unsigned) {\r\n    if (typeof val === 'number')\r\n        return fromNumber(val, unsigned);\r\n    if (typeof val === 'string')\r\n        return fromString(val, unsigned);\r\n    // Throws for non-objects, converts non-instanceof Long:\r\n    return fromBits(val.low, val.high, typeof unsigned === 'boolean' ? unsigned : val.unsigned);\r\n}\r\n\r\n/**\r\n * Converts the specified value to a Long using the appropriate from* function for its type.\r\n * @function\r\n * @param {!Long|number|string|!{low: number, high: number, unsigned: boolean}} val Value\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long}\r\n */\r\nLong.fromValue = fromValue;\r\n\r\n// NOTE: the compiler should inline these constant values below and then remove these variables, so there should be\r\n// no runtime penalty for these.\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_16_DBL = 1 << 16;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_24_DBL = 1 << 24;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_32_DBL = TWO_PWR_16_DBL * TWO_PWR_16_DBL;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_64_DBL = TWO_PWR_32_DBL * TWO_PWR_32_DBL;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_63_DBL = TWO_PWR_64_DBL / 2;\r\n\r\n/**\r\n * @type {!Long}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_24 = fromInt(TWO_PWR_24_DBL);\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar ZERO = fromInt(0);\r\n\r\n/**\r\n * Signed zero.\r\n * @type {!Long}\r\n */\r\nLong.ZERO = ZERO;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar UZERO = fromInt(0, true);\r\n\r\n/**\r\n * Unsigned zero.\r\n * @type {!Long}\r\n */\r\nLong.UZERO = UZERO;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar ONE = fromInt(1);\r\n\r\n/**\r\n * Signed one.\r\n * @type {!Long}\r\n */\r\nLong.ONE = ONE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar UONE = fromInt(1, true);\r\n\r\n/**\r\n * Unsigned one.\r\n * @type {!Long}\r\n */\r\nLong.UONE = UONE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar NEG_ONE = fromInt(-1);\r\n\r\n/**\r\n * Signed negative one.\r\n * @type {!Long}\r\n */\r\nLong.NEG_ONE = NEG_ONE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar MAX_VALUE = fromBits(0xFFFFFFFF|0, 0x7FFFFFFF|0, false);\r\n\r\n/**\r\n * Maximum signed value.\r\n * @type {!Long}\r\n */\r\nLong.MAX_VALUE = MAX_VALUE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar MAX_UNSIGNED_VALUE = fromBits(0xFFFFFFFF|0, 0xFFFFFFFF|0, true);\r\n\r\n/**\r\n * Maximum unsigned value.\r\n * @type {!Long}\r\n */\r\nLong.MAX_UNSIGNED_VALUE = MAX_UNSIGNED_VALUE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar MIN_VALUE = fromBits(0, 0x80000000|0, false);\r\n\r\n/**\r\n * Minimum signed value.\r\n * @type {!Long}\r\n */\r\nLong.MIN_VALUE = MIN_VALUE;\r\n\r\n/**\r\n * @alias Long.prototype\r\n * @inner\r\n */\r\nvar LongPrototype = Long.prototype;\r\n\r\n/**\r\n * Converts the Long to a 32 bit integer, assuming it is a 32 bit integer.\r\n * @returns {number}\r\n */\r\nLongPrototype.toInt = function toInt() {\r\n    return this.unsigned ? this.low >>> 0 : this.low;\r\n};\r\n\r\n/**\r\n * Converts the Long to a the nearest floating-point representation of this value (double, 53 bit mantissa).\r\n * @returns {number}\r\n */\r\nLongPrototype.toNumber = function toNumber() {\r\n    if (this.unsigned)\r\n        return ((this.high >>> 0) * TWO_PWR_32_DBL) + (this.low >>> 0);\r\n    return this.high * TWO_PWR_32_DBL + (this.low >>> 0);\r\n};\r\n\r\n/**\r\n * Converts the Long to a string written in the specified radix.\r\n * @param {number=} radix Radix (2-36), defaults to 10\r\n * @returns {string}\r\n * @override\r\n * @throws {RangeError} If `radix` is out of range\r\n */\r\nLongPrototype.toString = function toString(radix) {\r\n    radix = radix || 10;\r\n    if (radix < 2 || 36 < radix)\r\n        throw RangeError('radix');\r\n    if (this.isZero())\r\n        return '0';\r\n    if (this.isNegative()) { // Unsigned Longs are never negative\r\n        if (this.eq(MIN_VALUE)) {\r\n            // We need to change the Long value before it can be negated, so we remove\r\n            // the bottom-most digit in this base and then recurse to do the rest.\r\n            var radixLong = fromNumber(radix),\r\n                div = this.div(radixLong),\r\n                rem1 = div.mul(radixLong).sub(this);\r\n            return div.toString(radix) + rem1.toInt().toString(radix);\r\n        } else\r\n            return '-' + this.neg().toString(radix);\r\n    }\r\n\r\n    // Do several (6) digits each time through the loop, so as to\r\n    // minimize the calls to the very expensive emulated div.\r\n    var radixToPower = fromNumber(pow_dbl(radix, 6), this.unsigned),\r\n        rem = this;\r\n    var result = '';\r\n    while (true) {\r\n        var remDiv = rem.div(radixToPower),\r\n            intval = rem.sub(remDiv.mul(radixToPower)).toInt() >>> 0,\r\n            digits = intval.toString(radix);\r\n        rem = remDiv;\r\n        if (rem.isZero())\r\n            return digits + result;\r\n        else {\r\n            while (digits.length < 6)\r\n                digits = '0' + digits;\r\n            result = '' + digits + result;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Gets the high 32 bits as a signed integer.\r\n * @returns {number} Signed high bits\r\n */\r\nLongPrototype.getHighBits = function getHighBits() {\r\n    return this.high;\r\n};\r\n\r\n/**\r\n * Gets the high 32 bits as an unsigned integer.\r\n * @returns {number} Unsigned high bits\r\n */\r\nLongPrototype.getHighBitsUnsigned = function getHighBitsUnsigned() {\r\n    return this.high >>> 0;\r\n};\r\n\r\n/**\r\n * Gets the low 32 bits as a signed integer.\r\n * @returns {number} Signed low bits\r\n */\r\nLongPrototype.getLowBits = function getLowBits() {\r\n    return this.low;\r\n};\r\n\r\n/**\r\n * Gets the low 32 bits as an unsigned integer.\r\n * @returns {number} Unsigned low bits\r\n */\r\nLongPrototype.getLowBitsUnsigned = function getLowBitsUnsigned() {\r\n    return this.low >>> 0;\r\n};\r\n\r\n/**\r\n * Gets the number of bits needed to represent the absolute value of this Long.\r\n * @returns {number}\r\n */\r\nLongPrototype.getNumBitsAbs = function getNumBitsAbs() {\r\n    if (this.isNegative()) // Unsigned Longs are never negative\r\n        return this.eq(MIN_VALUE) ? 64 : this.neg().getNumBitsAbs();\r\n    var val = this.high != 0 ? this.high : this.low;\r\n    for (var bit = 31; bit > 0; bit--)\r\n        if ((val & (1 << bit)) != 0)\r\n            break;\r\n    return this.high != 0 ? bit + 33 : bit + 1;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals zero.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isZero = function isZero() {\r\n    return this.high === 0 && this.low === 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals zero. This is an alias of {@link Long#isZero}.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.eqz = LongPrototype.isZero;\r\n\r\n/**\r\n * Tests if this Long's value is negative.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isNegative = function isNegative() {\r\n    return !this.unsigned && this.high < 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is positive.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isPositive = function isPositive() {\r\n    return this.unsigned || this.high >= 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is odd.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isOdd = function isOdd() {\r\n    return (this.low & 1) === 1;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is even.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isEven = function isEven() {\r\n    return (this.low & 1) === 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.equals = function equals(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    if (this.unsigned !== other.unsigned && (this.high >>> 31) === 1 && (other.high >>> 31) === 1)\r\n        return false;\r\n    return this.high === other.high && this.low === other.low;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals the specified's. This is an alias of {@link Long#equals}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.eq = LongPrototype.equals;\r\n\r\n/**\r\n * Tests if this Long's value differs from the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.notEquals = function notEquals(other) {\r\n    return !this.eq(/* validates */ other);\r\n};\r\n\r\n/**\r\n * Tests if this Long's value differs from the specified's. This is an alias of {@link Long#notEquals}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.neq = LongPrototype.notEquals;\r\n\r\n/**\r\n * Tests if this Long's value differs from the specified's. This is an alias of {@link Long#notEquals}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.ne = LongPrototype.notEquals;\r\n\r\n/**\r\n * Tests if this Long's value is less than the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lessThan = function lessThan(other) {\r\n    return this.comp(/* validates */ other) < 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is less than the specified's. This is an alias of {@link Long#lessThan}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lt = LongPrototype.lessThan;\r\n\r\n/**\r\n * Tests if this Long's value is less than or equal the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lessThanOrEqual = function lessThanOrEqual(other) {\r\n    return this.comp(/* validates */ other) <= 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is less than or equal the specified's. This is an alias of {@link Long#lessThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lte = LongPrototype.lessThanOrEqual;\r\n\r\n/**\r\n * Tests if this Long's value is less than or equal the specified's. This is an alias of {@link Long#lessThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.le = LongPrototype.lessThanOrEqual;\r\n\r\n/**\r\n * Tests if this Long's value is greater than the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.greaterThan = function greaterThan(other) {\r\n    return this.comp(/* validates */ other) > 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is greater than the specified's. This is an alias of {@link Long#greaterThan}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.gt = LongPrototype.greaterThan;\r\n\r\n/**\r\n * Tests if this Long's value is greater than or equal the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.greaterThanOrEqual = function greaterThanOrEqual(other) {\r\n    return this.comp(/* validates */ other) >= 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is greater than or equal the specified's. This is an alias of {@link Long#greaterThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.gte = LongPrototype.greaterThanOrEqual;\r\n\r\n/**\r\n * Tests if this Long's value is greater than or equal the specified's. This is an alias of {@link Long#greaterThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.ge = LongPrototype.greaterThanOrEqual;\r\n\r\n/**\r\n * Compares this Long's value with the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {number} 0 if they are the same, 1 if the this is greater and -1\r\n *  if the given one is greater\r\n */\r\nLongPrototype.compare = function compare(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    if (this.eq(other))\r\n        return 0;\r\n    var thisNeg = this.isNegative(),\r\n        otherNeg = other.isNegative();\r\n    if (thisNeg && !otherNeg)\r\n        return -1;\r\n    if (!thisNeg && otherNeg)\r\n        return 1;\r\n    // At this point the sign bits are the same\r\n    if (!this.unsigned)\r\n        return this.sub(other).isNegative() ? -1 : 1;\r\n    // Both are positive if at least one is unsigned\r\n    return (other.high >>> 0) > (this.high >>> 0) || (other.high === this.high && (other.low >>> 0) > (this.low >>> 0)) ? -1 : 1;\r\n};\r\n\r\n/**\r\n * Compares this Long's value with the specified's. This is an alias of {@link Long#compare}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {number} 0 if they are the same, 1 if the this is greater and -1\r\n *  if the given one is greater\r\n */\r\nLongPrototype.comp = LongPrototype.compare;\r\n\r\n/**\r\n * Negates this Long's value.\r\n * @returns {!Long} Negated Long\r\n */\r\nLongPrototype.negate = function negate() {\r\n    if (!this.unsigned && this.eq(MIN_VALUE))\r\n        return MIN_VALUE;\r\n    return this.not().add(ONE);\r\n};\r\n\r\n/**\r\n * Negates this Long's value. This is an alias of {@link Long#negate}.\r\n * @function\r\n * @returns {!Long} Negated Long\r\n */\r\nLongPrototype.neg = LongPrototype.negate;\r\n\r\n/**\r\n * Returns the sum of this and the specified Long.\r\n * @param {!Long|number|string} addend Addend\r\n * @returns {!Long} Sum\r\n */\r\nLongPrototype.add = function add(addend) {\r\n    if (!isLong(addend))\r\n        addend = fromValue(addend);\r\n\r\n    // Divide each number into 4 chunks of 16 bits, and then sum the chunks.\r\n\r\n    var a48 = this.high >>> 16;\r\n    var a32 = this.high & 0xFFFF;\r\n    var a16 = this.low >>> 16;\r\n    var a00 = this.low & 0xFFFF;\r\n\r\n    var b48 = addend.high >>> 16;\r\n    var b32 = addend.high & 0xFFFF;\r\n    var b16 = addend.low >>> 16;\r\n    var b00 = addend.low & 0xFFFF;\r\n\r\n    var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\r\n    c00 += a00 + b00;\r\n    c16 += c00 >>> 16;\r\n    c00 &= 0xFFFF;\r\n    c16 += a16 + b16;\r\n    c32 += c16 >>> 16;\r\n    c16 &= 0xFFFF;\r\n    c32 += a32 + b32;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c48 += a48 + b48;\r\n    c48 &= 0xFFFF;\r\n    return fromBits((c16 << 16) | c00, (c48 << 16) | c32, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the difference of this and the specified Long.\r\n * @param {!Long|number|string} subtrahend Subtrahend\r\n * @returns {!Long} Difference\r\n */\r\nLongPrototype.subtract = function subtract(subtrahend) {\r\n    if (!isLong(subtrahend))\r\n        subtrahend = fromValue(subtrahend);\r\n    return this.add(subtrahend.neg());\r\n};\r\n\r\n/**\r\n * Returns the difference of this and the specified Long. This is an alias of {@link Long#subtract}.\r\n * @function\r\n * @param {!Long|number|string} subtrahend Subtrahend\r\n * @returns {!Long} Difference\r\n */\r\nLongPrototype.sub = LongPrototype.subtract;\r\n\r\n/**\r\n * Returns the product of this and the specified Long.\r\n * @param {!Long|number|string} multiplier Multiplier\r\n * @returns {!Long} Product\r\n */\r\nLongPrototype.multiply = function multiply(multiplier) {\r\n    if (this.isZero())\r\n        return ZERO;\r\n    if (!isLong(multiplier))\r\n        multiplier = fromValue(multiplier);\r\n\r\n    // use wasm support if present\r\n    if (wasm) {\r\n        var low = wasm.mul(this.low,\r\n                           this.high,\r\n                           multiplier.low,\r\n                           multiplier.high);\r\n        return fromBits(low, wasm.get_high(), this.unsigned);\r\n    }\r\n\r\n    if (multiplier.isZero())\r\n        return ZERO;\r\n    if (this.eq(MIN_VALUE))\r\n        return multiplier.isOdd() ? MIN_VALUE : ZERO;\r\n    if (multiplier.eq(MIN_VALUE))\r\n        return this.isOdd() ? MIN_VALUE : ZERO;\r\n\r\n    if (this.isNegative()) {\r\n        if (multiplier.isNegative())\r\n            return this.neg().mul(multiplier.neg());\r\n        else\r\n            return this.neg().mul(multiplier).neg();\r\n    } else if (multiplier.isNegative())\r\n        return this.mul(multiplier.neg()).neg();\r\n\r\n    // If both longs are small, use float multiplication\r\n    if (this.lt(TWO_PWR_24) && multiplier.lt(TWO_PWR_24))\r\n        return fromNumber(this.toNumber() * multiplier.toNumber(), this.unsigned);\r\n\r\n    // Divide each long into 4 chunks of 16 bits, and then add up 4x4 products.\r\n    // We can skip products that would overflow.\r\n\r\n    var a48 = this.high >>> 16;\r\n    var a32 = this.high & 0xFFFF;\r\n    var a16 = this.low >>> 16;\r\n    var a00 = this.low & 0xFFFF;\r\n\r\n    var b48 = multiplier.high >>> 16;\r\n    var b32 = multiplier.high & 0xFFFF;\r\n    var b16 = multiplier.low >>> 16;\r\n    var b00 = multiplier.low & 0xFFFF;\r\n\r\n    var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\r\n    c00 += a00 * b00;\r\n    c16 += c00 >>> 16;\r\n    c00 &= 0xFFFF;\r\n    c16 += a16 * b00;\r\n    c32 += c16 >>> 16;\r\n    c16 &= 0xFFFF;\r\n    c16 += a00 * b16;\r\n    c32 += c16 >>> 16;\r\n    c16 &= 0xFFFF;\r\n    c32 += a32 * b00;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c32 += a16 * b16;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c32 += a00 * b32;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;\r\n    c48 &= 0xFFFF;\r\n    return fromBits((c16 << 16) | c00, (c48 << 16) | c32, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the product of this and the specified Long. This is an alias of {@link Long#multiply}.\r\n * @function\r\n * @param {!Long|number|string} multiplier Multiplier\r\n * @returns {!Long} Product\r\n */\r\nLongPrototype.mul = LongPrototype.multiply;\r\n\r\n/**\r\n * Returns this Long divided by the specified. The result is signed if this Long is signed or\r\n *  unsigned if this Long is unsigned.\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Quotient\r\n */\r\nLongPrototype.divide = function divide(divisor) {\r\n    if (!isLong(divisor))\r\n        divisor = fromValue(divisor);\r\n    if (divisor.isZero())\r\n        throw Error('division by zero');\r\n\r\n    // use wasm support if present\r\n    if (wasm) {\r\n        // guard against signed division overflow: the largest\r\n        // negative number / -1 would be 1 larger than the largest\r\n        // positive number, due to two's complement.\r\n        if (!this.unsigned &&\r\n            this.high === -0x80000000 &&\r\n            divisor.low === -1 && divisor.high === -1) {\r\n            // be consistent with non-wasm code path\r\n            return this;\r\n        }\r\n        var low = (this.unsigned ? wasm.div_u : wasm.div_s)(\r\n            this.low,\r\n            this.high,\r\n            divisor.low,\r\n            divisor.high\r\n        );\r\n        return fromBits(low, wasm.get_high(), this.unsigned);\r\n    }\r\n\r\n    if (this.isZero())\r\n        return this.unsigned ? UZERO : ZERO;\r\n    var approx, rem, res;\r\n    if (!this.unsigned) {\r\n        // This section is only relevant for signed longs and is derived from the\r\n        // closure library as a whole.\r\n        if (this.eq(MIN_VALUE)) {\r\n            if (divisor.eq(ONE) || divisor.eq(NEG_ONE))\r\n                return MIN_VALUE;  // recall that -MIN_VALUE == MIN_VALUE\r\n            else if (divisor.eq(MIN_VALUE))\r\n                return ONE;\r\n            else {\r\n                // At this point, we have |other| >= 2, so |this/other| < |MIN_VALUE|.\r\n                var halfThis = this.shr(1);\r\n                approx = halfThis.div(divisor).shl(1);\r\n                if (approx.eq(ZERO)) {\r\n                    return divisor.isNegative() ? ONE : NEG_ONE;\r\n                } else {\r\n                    rem = this.sub(divisor.mul(approx));\r\n                    res = approx.add(rem.div(divisor));\r\n                    return res;\r\n                }\r\n            }\r\n        } else if (divisor.eq(MIN_VALUE))\r\n            return this.unsigned ? UZERO : ZERO;\r\n        if (this.isNegative()) {\r\n            if (divisor.isNegative())\r\n                return this.neg().div(divisor.neg());\r\n            return this.neg().div(divisor).neg();\r\n        } else if (divisor.isNegative())\r\n            return this.div(divisor.neg()).neg();\r\n        res = ZERO;\r\n    } else {\r\n        // The algorithm below has not been made for unsigned longs. It's therefore\r\n        // required to take special care of the MSB prior to running it.\r\n        if (!divisor.unsigned)\r\n            divisor = divisor.toUnsigned();\r\n        if (divisor.gt(this))\r\n            return UZERO;\r\n        if (divisor.gt(this.shru(1))) // 15 >>> 1 = 7 ; with divisor = 8 ; true\r\n            return UONE;\r\n        res = UZERO;\r\n    }\r\n\r\n    // Repeat the following until the remainder is less than other:  find a\r\n    // floating-point that approximates remainder / other *from below*, add this\r\n    // into the result, and subtract it from the remainder.  It is critical that\r\n    // the approximate value is less than or equal to the real value so that the\r\n    // remainder never becomes negative.\r\n    rem = this;\r\n    while (rem.gte(divisor)) {\r\n        // Approximate the result of division. This may be a little greater or\r\n        // smaller than the actual value.\r\n        approx = Math.max(1, Math.floor(rem.toNumber() / divisor.toNumber()));\r\n\r\n        // We will tweak the approximate result by changing it in the 48-th digit or\r\n        // the smallest non-fractional digit, whichever is larger.\r\n        var log2 = Math.ceil(Math.log(approx) / Math.LN2),\r\n            delta = (log2 <= 48) ? 1 : pow_dbl(2, log2 - 48),\r\n\r\n        // Decrease the approximation until it is smaller than the remainder.  Note\r\n        // that if it is too large, the product overflows and is negative.\r\n            approxRes = fromNumber(approx),\r\n            approxRem = approxRes.mul(divisor);\r\n        while (approxRem.isNegative() || approxRem.gt(rem)) {\r\n            approx -= delta;\r\n            approxRes = fromNumber(approx, this.unsigned);\r\n            approxRem = approxRes.mul(divisor);\r\n        }\r\n\r\n        // We know the answer can't be zero... and actually, zero would cause\r\n        // infinite recursion since we would make no progress.\r\n        if (approxRes.isZero())\r\n            approxRes = ONE;\r\n\r\n        res = res.add(approxRes);\r\n        rem = rem.sub(approxRem);\r\n    }\r\n    return res;\r\n};\r\n\r\n/**\r\n * Returns this Long divided by the specified. This is an alias of {@link Long#divide}.\r\n * @function\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Quotient\r\n */\r\nLongPrototype.div = LongPrototype.divide;\r\n\r\n/**\r\n * Returns this Long modulo the specified.\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Remainder\r\n */\r\nLongPrototype.modulo = function modulo(divisor) {\r\n    if (!isLong(divisor))\r\n        divisor = fromValue(divisor);\r\n\r\n    // use wasm support if present\r\n    if (wasm) {\r\n        var low = (this.unsigned ? wasm.rem_u : wasm.rem_s)(\r\n            this.low,\r\n            this.high,\r\n            divisor.low,\r\n            divisor.high\r\n        );\r\n        return fromBits(low, wasm.get_high(), this.unsigned);\r\n    }\r\n\r\n    return this.sub(this.div(divisor).mul(divisor));\r\n};\r\n\r\n/**\r\n * Returns this Long modulo the specified. This is an alias of {@link Long#modulo}.\r\n * @function\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Remainder\r\n */\r\nLongPrototype.mod = LongPrototype.modulo;\r\n\r\n/**\r\n * Returns this Long modulo the specified. This is an alias of {@link Long#modulo}.\r\n * @function\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Remainder\r\n */\r\nLongPrototype.rem = LongPrototype.modulo;\r\n\r\n/**\r\n * Returns the bitwise NOT of this Long.\r\n * @returns {!Long}\r\n */\r\nLongPrototype.not = function not() {\r\n    return fromBits(~this.low, ~this.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the bitwise AND of this Long and the specified.\r\n * @param {!Long|number|string} other Other Long\r\n * @returns {!Long}\r\n */\r\nLongPrototype.and = function and(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    return fromBits(this.low & other.low, this.high & other.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the bitwise OR of this Long and the specified.\r\n * @param {!Long|number|string} other Other Long\r\n * @returns {!Long}\r\n */\r\nLongPrototype.or = function or(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    return fromBits(this.low | other.low, this.high | other.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the bitwise XOR of this Long and the given one.\r\n * @param {!Long|number|string} other Other Long\r\n * @returns {!Long}\r\n */\r\nLongPrototype.xor = function xor(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    return fromBits(this.low ^ other.low, this.high ^ other.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns this Long with bits shifted to the left by the given amount.\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shiftLeft = function shiftLeft(numBits) {\r\n    if (isLong(numBits))\r\n        numBits = numBits.toInt();\r\n    if ((numBits &= 63) === 0)\r\n        return this;\r\n    else if (numBits < 32)\r\n        return fromBits(this.low << numBits, (this.high << numBits) | (this.low >>> (32 - numBits)), this.unsigned);\r\n    else\r\n        return fromBits(0, this.low << (numBits - 32), this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns this Long with bits shifted to the left by the given amount. This is an alias of {@link Long#shiftLeft}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shl = LongPrototype.shiftLeft;\r\n\r\n/**\r\n * Returns this Long with bits arithmetically shifted to the right by the given amount.\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shiftRight = function shiftRight(numBits) {\r\n    if (isLong(numBits))\r\n        numBits = numBits.toInt();\r\n    if ((numBits &= 63) === 0)\r\n        return this;\r\n    else if (numBits < 32)\r\n        return fromBits((this.low >>> numBits) | (this.high << (32 - numBits)), this.high >> numBits, this.unsigned);\r\n    else\r\n        return fromBits(this.high >> (numBits - 32), this.high >= 0 ? 0 : -1, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns this Long with bits arithmetically shifted to the right by the given amount. This is an alias of {@link Long#shiftRight}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shr = LongPrototype.shiftRight;\r\n\r\n/**\r\n * Returns this Long with bits logically shifted to the right by the given amount.\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shiftRightUnsigned = function shiftRightUnsigned(numBits) {\r\n    if (isLong(numBits))\r\n        numBits = numBits.toInt();\r\n    numBits &= 63;\r\n    if (numBits === 0)\r\n        return this;\r\n    else {\r\n        var high = this.high;\r\n        if (numBits < 32) {\r\n            var low = this.low;\r\n            return fromBits((low >>> numBits) | (high << (32 - numBits)), high >>> numBits, this.unsigned);\r\n        } else if (numBits === 32)\r\n            return fromBits(high, 0, this.unsigned);\r\n        else\r\n            return fromBits(high >>> (numBits - 32), 0, this.unsigned);\r\n    }\r\n};\r\n\r\n/**\r\n * Returns this Long with bits logically shifted to the right by the given amount. This is an alias of {@link Long#shiftRightUnsigned}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shru = LongPrototype.shiftRightUnsigned;\r\n\r\n/**\r\n * Returns this Long with bits logically shifted to the right by the given amount. This is an alias of {@link Long#shiftRightUnsigned}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shr_u = LongPrototype.shiftRightUnsigned;\r\n\r\n/**\r\n * Converts this Long to signed.\r\n * @returns {!Long} Signed long\r\n */\r\nLongPrototype.toSigned = function toSigned() {\r\n    if (!this.unsigned)\r\n        return this;\r\n    return fromBits(this.low, this.high, false);\r\n};\r\n\r\n/**\r\n * Converts this Long to unsigned.\r\n * @returns {!Long} Unsigned long\r\n */\r\nLongPrototype.toUnsigned = function toUnsigned() {\r\n    if (this.unsigned)\r\n        return this;\r\n    return fromBits(this.low, this.high, true);\r\n};\r\n\r\n/**\r\n * Converts this Long to its byte representation.\r\n * @param {boolean=} le Whether little or big endian, defaults to big endian\r\n * @returns {!Array.<number>} Byte representation\r\n */\r\nLongPrototype.toBytes = function toBytes(le) {\r\n    return le ? this.toBytesLE() : this.toBytesBE();\r\n};\r\n\r\n/**\r\n * Converts this Long to its little endian byte representation.\r\n * @returns {!Array.<number>} Little endian byte representation\r\n */\r\nLongPrototype.toBytesLE = function toBytesLE() {\r\n    var hi = this.high,\r\n        lo = this.low;\r\n    return [\r\n        lo        & 0xff,\r\n        lo >>>  8 & 0xff,\r\n        lo >>> 16 & 0xff,\r\n        lo >>> 24       ,\r\n        hi        & 0xff,\r\n        hi >>>  8 & 0xff,\r\n        hi >>> 16 & 0xff,\r\n        hi >>> 24\r\n    ];\r\n};\r\n\r\n/**\r\n * Converts this Long to its big endian byte representation.\r\n * @returns {!Array.<number>} Big endian byte representation\r\n */\r\nLongPrototype.toBytesBE = function toBytesBE() {\r\n    var hi = this.high,\r\n        lo = this.low;\r\n    return [\r\n        hi >>> 24       ,\r\n        hi >>> 16 & 0xff,\r\n        hi >>>  8 & 0xff,\r\n        hi        & 0xff,\r\n        lo >>> 24       ,\r\n        lo >>> 16 & 0xff,\r\n        lo >>>  8 & 0xff,\r\n        lo        & 0xff\r\n    ];\r\n};\r\n\r\n/**\r\n * Creates a Long from its byte representation.\r\n * @param {!Array.<number>} bytes Byte representation\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @param {boolean=} le Whether little or big endian, defaults to big endian\r\n * @returns {Long} The corresponding Long value\r\n */\r\nLong.fromBytes = function fromBytes(bytes, unsigned, le) {\r\n    return le ? Long.fromBytesLE(bytes, unsigned) : Long.fromBytesBE(bytes, unsigned);\r\n};\r\n\r\n/**\r\n * Creates a Long from its little endian byte representation.\r\n * @param {!Array.<number>} bytes Little endian byte representation\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {Long} The corresponding Long value\r\n */\r\nLong.fromBytesLE = function fromBytesLE(bytes, unsigned) {\r\n    return new Long(\r\n        bytes[0]       |\r\n        bytes[1] <<  8 |\r\n        bytes[2] << 16 |\r\n        bytes[3] << 24,\r\n        bytes[4]       |\r\n        bytes[5] <<  8 |\r\n        bytes[6] << 16 |\r\n        bytes[7] << 24,\r\n        unsigned\r\n    );\r\n};\r\n\r\n/**\r\n * Creates a Long from its big endian byte representation.\r\n * @param {!Array.<number>} bytes Big endian byte representation\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {Long} The corresponding Long value\r\n */\r\nLong.fromBytesBE = function fromBytesBE(bytes, unsigned) {\r\n    return new Long(\r\n        bytes[4] << 24 |\r\n        bytes[5] << 16 |\r\n        bytes[6] <<  8 |\r\n        bytes[7],\r\n        bytes[0] << 24 |\r\n        bytes[1] << 16 |\r\n        bytes[2] <<  8 |\r\n        bytes[3],\r\n        unsigned\r\n    );\r\n};\r\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { AuthInfo, SignDoc, TxBody } from 'cosmjs-types/cosmos/tx/v1beta1/tx'\nimport { fromBase64, toBase64 } from '@cosmjs/encoding'\nimport { DirectSignResponse, isTsProtoGeneratedType, TsProtoGeneratedType } from '@cosmjs/proto-signing'\nimport { defaultRegistryTypes } from '@cosmjs/stargate'\nimport Long from 'long'\nimport { CosmosSignRequestJSON, CosmosSignResponseJSON } from '../connector/CosmosTypes'\n\nfunction queryPrototypeFromUrl(typeUrl: string): TsProtoGeneratedType {\n  const ProtobufType = defaultRegistryTypes.find((item) => item[0] === typeUrl)?.[1]\n  if (ProtobufType && isTsProtoGeneratedType(ProtobufType)) {\n    return ProtobufType\n  }\n  throw new Error(`can not find ProtoGeneratedType for typeUrl:${typeUrl}`)\n}\n\nexport const transformProtoToJSON = (object: any): any => {\n  const result = {}\n  if (object instanceof Array) {\n    return object.map((item) => transformProtoToJSON(item))\n  }\n  if (object && typeof object.typeUrl === 'string' && typeof object.value === 'string') {\n    try {\n      const ProtobufType = queryPrototypeFromUrl(object.typeUrl)\n      return {\n        typeUrl: object.typeUrl,\n        value: transformProtoToJSON(ProtobufType.toJSON(ProtobufType.decode(fromBase64(object.value)))),\n      }\n    } catch (error) {\n      return object\n    }\n  }\n  for (const key in object) {\n    const value = object[key]\n    if (typeof value == 'object') {\n      result[key] = transformProtoToJSON(value)\n      continue\n    }\n    result[key] = value\n  }\n  return result\n}\n\nexport const transformJSONtoProto = (object: any): any => {\n  const result = {}\n  if (object instanceof Array) {\n    return object.map((item) => transformJSONtoProto(item))\n  }\n  if (object && typeof object.typeUrl === 'string' && typeof object.value === 'object') {\n    try {\n      const ProtobufType = queryPrototypeFromUrl(object.typeUrl)\n      const JSONValue = transformJSONtoProto(object.value)\n      const newValue = ProtobufType.encode(ProtobufType.fromJSON(JSONValue)).finish()\n      return {\n        typeUrl: object.typeUrl,\n        value: toBase64(newValue),\n      }\n    } catch (error) {\n      return object\n    }\n  }\n  for (const key in object) {\n    const value = object[key]\n    if (typeof value == 'object') {\n      result[key] = transformJSONtoProto(value)\n      continue\n    }\n    result[key] = value\n  }\n  return result\n}\n\nexport const decodeToSignRequestJSON = (signerAddress: string, signDoc: SignDoc): CosmosSignRequestJSON => {\n  const txBody = TxBody.decode(signDoc.bodyBytes)\n  const authInfo = AuthInfo.decode(signDoc.authInfoBytes)\n  return {\n    signerAddress,\n    signDoc: {\n      chainId: signDoc.chainId,\n      accountNumber: signDoc.accountNumber.toString(),\n      body: transformProtoToJSON(TxBody.toJSON(txBody)),\n      authInfo: transformProtoToJSON(AuthInfo.toJSON(authInfo)),\n    },\n  }\n}\n\nexport const encodeJSONToSignResponse = (respJSON: CosmosSignResponseJSON): DirectSignResponse => {\n  return {\n    signed: {\n      chainId: respJSON.signed.chainId,\n      accountNumber: Long.fromString(respJSON.signed.accountNumber),\n      bodyBytes: TxBody.encode(TxBody.fromJSON(transformJSONtoProto(respJSON.signed.body))).finish(),\n      authInfoBytes: AuthInfo.encode(AuthInfo.fromJSON(transformJSONtoProto(respJSON.signed.authInfo))).finish(),\n    },\n    signature: respJSON.signature,\n  }\n}\n","/* eslint-disable @typescript-eslint/camelcase */\nimport { pubkeyType } from '@cosmjs/amino'\nimport { fromBase64, toBase64 } from '@cosmjs/encoding'\nimport { AccountData, DirectSignResponse, OfflineDirectSigner } from '@cosmjs/proto-signing'\nimport { IWalletConnectSessionWalletAdress } from '@deficonnect/types'\nimport { SignDoc, TxRaw } from 'cosmjs-types/cosmos/tx/v1beta1/tx'\nimport { DeFiConnectorClient } from '../DeFiConnectorClient'\nimport { decodeToSignRequestJSON } from '../tools/cosmos-msg-tool'\nimport { DeFiCosmosConnectorArguments } from './DeFiConnector'\n\nexport interface DeFiCosmosProviderArguments extends DeFiCosmosConnectorArguments {\n  client: DeFiConnectorClient\n}\n\nexport function isDeFiCosmosProvider(object: any): object is DeFiCosmosProvider {\n  return typeof object.isDeFiCosmosProvider !== 'undefined'\n}\n\nexport class DeFiCosmosProvider {\n  protected isDeFiCosmosProvider = true\n  public client: DeFiConnectorClient\n  public config: DeFiCosmosProviderArguments\n  constructor(config: DeFiCosmosProviderArguments) {\n    const { client } = config\n    this.config = config\n    this.client = client\n  }\n  get account(): string {\n    return this.client.connector.session.accounts[0] ?? ''\n  }\n  get currentAccountInfo(): IWalletConnectSessionWalletAdress | undefined {\n    const addresses = this.client.connector.session.wallets[0].addresses\n    const result = Object.entries(addresses).find(([key, value]) => {\n      return value.address == this.account\n    })\n    return result?.[1]\n  }\n\n  get signer(): OfflineDirectSigner {\n    const currentAccountInfo = this.currentAccountInfo\n    if (!currentAccountInfo || !currentAccountInfo.pubkey) {\n      throw new Error('can not get the OfflineSigner, there is an unsupported address type')\n    }\n    const accountData: AccountData = {\n      address: currentAccountInfo.address,\n      algo: 'secp256k1',\n      pubkey: fromBase64(currentAccountInfo.pubkey ?? ''),\n    }\n    return {\n      getAccounts: async (): Promise<AccountData[]> => [accountData],\n      signDirect: async (signerAddress: string, signDoc: SignDoc): Promise<DirectSignResponse> => {\n        const signResult = await this.sendTransaction(decodeToSignRequestJSON(signerAddress, signDoc))\n        const tx = TxRaw.decode(fromBase64(signResult))\n        const signature = toBase64(tx.signatures[0])\n        return {\n          signed: {\n            bodyBytes: tx.bodyBytes,\n            authInfoBytes: tx.authInfoBytes,\n            chainId: signDoc.chainId,\n            accountNumber: signDoc.accountNumber,\n          },\n          signature: {\n            pub_key: {\n              type: pubkeyType.secp256k1,\n              value: accountData.pubkey,\n            },\n            signature,\n          },\n        }\n      },\n    }\n  }\n\n  async enable(): Promise<string[]> {\n    if (this.client.connector.connected) {\n      return this.client.connector.accounts\n    }\n    await this.client.connector.connect({\n      chainId: this.config.supportedChainIds[0],\n      chainType: 'cosmos',\n    })\n    return this.client.connector.accounts\n  }\n\n  sendTransaction = async (payload: any): Promise<any> => {\n    const { chainId, chainType } = this.client.connector.session\n    const account = this.account\n    return this.client.connector.sendJSONRequest(\n      {\n        method: 'cosmos_sendTransaction',\n        params: [payload],\n        session: {\n          chainId: chainId as string,\n          chainType: chainType as string,\n          account,\n        },\n      },\n      {\n        forcePushNotification: true,\n      }\n    )\n  }\n\n  request = async (payload: any): Promise<any> => {\n    return undefined\n  }\n  send = async (payload: any, callback?: any): Promise<any> => {\n    return undefined\n  }\n  stop = async (): Promise<void> => {\n    // stop http requet, such as block heigh?\n  }\n  close = async (): Promise<void> => {\n    await this.client.connector.killSession()\n    await this.stop()\n  }\n}\n","import { ISessionStorage, IWalletConnectSession } from '@deficonnect/types'\nimport { getLocal, setLocal, removeLocal } from '@deficonnect/utils'\n\nconst defaultKey = 'DeFiLink_session_storage_dapp'\n\nfunction isWalletConnectSession(object: any): object is IWalletConnectSession {\n  return (\n    object &&\n    typeof object.bridge !== 'undefined' &&\n    typeof object.chainId !== 'undefined' &&\n    typeof object.chainType !== 'undefined' &&\n    typeof object.wallets !== 'undefined' &&\n    typeof object.wallets !== 'undefined' &&\n    typeof object.wallets[0] !== 'undefined' &&\n    typeof object.wallets[0].addresses !== 'undefined' &&\n    typeof object.wallets[0].addresses.eth !== 'undefined' &&\n    typeof object.accounts !== 'undefined' &&\n    object.accounts.length > 0\n  )\n}\n\ninterface DefaultSessionStorageParams {\n  key?: string\n  supportedChainIds: string[]\n}\n\nexport class DefaultSessionStorage implements ISessionStorage {\n  key: string\n  supportedChainIds: string[]\n  constructor({ key = defaultKey, supportedChainIds }: DefaultSessionStorageParams) {\n    this.key = key\n    this.supportedChainIds = supportedChainIds\n  }\n\n  getSession = (): IWalletConnectSession | null => {\n    const session = getLocal(this.key)\n    if (isWalletConnectSession(session) && this.supportedChainIds.includes(session.chainId)) {\n      return session\n    }\n    return null\n  }\n\n  setSession = (session: IWalletConnectSession): IWalletConnectSession => {\n    if (this.supportedChainIds.includes(session.chainId)) {\n      setLocal(this.key, session)\n    }\n    return session\n  }\n\n  removeSession = () => {\n    removeLocal(this.key)\n  }\n}\n","/* eslint-disable @typescript-eslint/camelcase */\nimport 'regenerator-runtime/runtime'\nimport { IWalletConnectOptions } from '@deficonnect/types'\nimport Web3Provider from '@deficonnect/web3-provider'\nimport { AbstractConnector } from '@web3-react/abstract-connector'\nimport { addUrlParams } from '../tools/url-tools'\nimport { DeFiConnectorClient } from '../DeFiConnectorClient'\nimport { DeFiWeb3ConnectorArguments } from './DeFiWeb3Connector'\nimport { InstallExtensionQRCodeModal } from '../InstallExtensionModal'\nimport { DeFiCosmosProvider } from './DeFiCosmosProvider'\nimport { DefaultSessionStorage } from '../SessionStorage'\n\nexport interface DeFiConnectorArguments {\n  name: string\n  supprtedChainTypes: DeFiConnectorChainType[]\n  bridge?: string\n  eth?: DeFiWeb3ConnectorArguments\n  cosmos?: DeFiCosmosConnectorArguments\n}\n\nexport interface DeFiCosmosConnectorArguments {\n  supportedChainIds: string[]\n}\n\nexport interface DeFiConnectorProviderGenerateArguments {\n  chainId: string\n  chainType: string\n  config: DeFiConnectorArguments\n  connectorClient: DeFiConnectorClient\n}\n\nexport type DeFiConnectorEventCallback = (param?: DeFiConnectorUpdate, error?: Error) => void\nexport type DeFiConnectorEventUnsubscribe = () => void\n\nexport enum DeFiConnectorUpdateEvent {\n  Update = 'DeFiConnectorUpdate',\n  Error = 'DeFiConnectorError',\n  Deactivate = 'DeFiConnectorDeactivate',\n}\n\ninterface EventEmitter {\n  event: DeFiConnectorUpdateEvent\n  callback: DeFiConnectorEventCallback\n}\n\nexport type DeFiConnectorChainType = 'eth' | 'cosmos'\nexport interface DeFiConnectorUpdate {\n  chainType?: DeFiConnectorChainType\n  chainId?: string\n  account?: string\n  provider?: DeFiConnectorProvider\n}\n\n/**\n * the type value is like = 'eth' | 'cro' | 'tcro'\n */\nexport interface DeFiAddressTuple {\n  type: string\n  address: string\n}\n\nexport type DeFiConnectorProvider = DeFiCosmosProvider | Web3Provider\n\nconst GLOBAL_DEFILINK_BRIDGE_URL = 'https://wallet-connect.crypto.com/api/v1/ncwconnect/relay/ws'\n\nconst formaChainType = (value: any): DeFiConnectorChainType => {\n  if (value === 'eth' || value === 'cosmos') {\n    return value\n  }\n  return 'eth'\n}\n\nexport class DeFiConnector extends AbstractConnector {\n  config: DeFiConnectorArguments\n  eventEmitters: EventEmitter[] = []\n  connectorClient?: DeFiConnectorClient\n\n  private _provider?: DeFiConnectorProvider\n\n  constructor(config: DeFiConnectorArguments) {\n    super()\n    this.config = config\n  }\n\n  chainId = ''\n  chainType: DeFiConnectorChainType = 'eth'\n  accounts: string[] = []\n\n  async getProvider(): Promise<any> {\n    return this.provider\n  }\n  async getChainId(): Promise<string | number> {\n    return this.chainId\n  }\n  async getAccount(): Promise<string | null> {\n    return this.accounts[0]\n  }\n\n  get _supportedChainIds(): string[] {\n    const ethChainIds = this.config.eth?.supportedChainIds.map((item) => item.toString()) ?? []\n    const cosmosChainIds = this.config.cosmos?.supportedChainIds ?? []\n    return ethChainIds.concat(cosmosChainIds)\n  }\n\n  async generateClient(): Promise<DeFiConnectorClient> {\n    let connectorClient: DeFiConnectorClient\n\n    async function checkIsReady(times = 0) {\n      return new Promise((resolve) => {\n        function check() {\n          if (times > 0 && typeof window.deficonnectClientGenerator !== 'function') {\n            setTimeout(async () => {\n              --times\n              check()\n            }, 100)\n            return\n          }\n          resolve(true)\n        }\n        check()\n      })\n    }\n\n    await checkIsReady(10)\n\n    if (typeof window.deficonnectClientGenerator === 'function') {\n      connectorClient = await window.deficonnectClientGenerator(this.config)\n      if (typeof connectorClient.clearSessionStorage == 'undefined') {\n        connectorClient.clearSessionStorage = DeFiConnectorClient.prototype.clearSessionStorage\n      }\n    } else {\n      const wcConfig: IWalletConnectOptions = {\n        bridge: addUrlParams(this.config.bridge ?? GLOBAL_DEFILINK_BRIDGE_URL, {\n          role: 'dapp',\n          dapp_name: this.config.name,\n        }),\n        qrcodeModal: InstallExtensionQRCodeModal,\n      }\n      const sessionStorage = new DefaultSessionStorage({ supportedChainIds: this._supportedChainIds })\n      connectorClient = new DeFiConnectorClient({\n        connectorOpts: wcConfig,\n        sessionStorage,\n      })\n    }\n    connectorClient.connector.on('disconnect', () => {\n      this.emitDeactivate()\n    })\n    connectorClient.connector.on('session_update', async (error: Error | null, payload: any | null) => {\n      if (error) {\n        this.emitError(error)\n        return\n      }\n      if (!payload?.params[0]) {\n        return\n      }\n      const { params: [{ chainId, chainType, accounts }] = [] } = payload\n      if (!chainId || !chainType || !accounts) {\n        return\n      }\n      this.chainId = chainId\n      this.chainType = chainType\n      this.accounts = accounts\n      this.provider = await this.generateProvider({\n        chainId,\n        chainType,\n        connectorClient,\n        config: this.config,\n      })\n      await this.provider?.enable()\n      this.emitUpdate({\n        account: accounts[0],\n        chainType,\n        chainId,\n        provider: this.provider,\n      })\n    })\n    return connectorClient\n  }\n\n  async generateProvider(params: DeFiConnectorProviderGenerateArguments): Promise<DeFiConnectorProvider> {\n    const { chainId, chainType, connectorClient } = params\n    if (typeof window.deficonnectProviderGenerator === 'function') {\n      return await window.deficonnectProviderGenerator({ chainId, chainType, config: this.config, connectorClient })\n    } else {\n      if (chainType === 'eth') {\n        return new Web3Provider({\n          ...this.config.eth,\n          connector: connectorClient.connector,\n        })\n      }\n      if (chainType === 'cosmos') {\n        return new DeFiCosmosProvider({\n          supportedChainIds: this.config.cosmos?.supportedChainIds ?? [],\n          client: connectorClient,\n        })\n      }\n    }\n    throw new Error('must provider eth or cosmos config')\n  }\n\n  async activate(): Promise<DeFiConnectorUpdate> {\n    try {\n      let connectorClient = this.connectorClient\n      if (!connectorClient) {\n        connectorClient = await this.generateClient()\n      }\n      if (this.config.supprtedChainTypes.length == 0) {\n        throw new Error('must provider supprtedNetworks')\n      }\n      const expectChainType = this.config.supprtedChainTypes[0]\n      let expectChainId = '1'\n      if (expectChainType === 'eth') {\n        if (this.config.eth == undefined) {\n          throw new Error('must provider eth config')\n        }\n        expectChainId = `${this.config.eth.supportedChainIds[0] ?? 1}`\n      }\n      if (expectChainType === 'cosmos') {\n        if (this.config.cosmos == undefined) {\n          throw new Error('must provider cosmos config')\n        }\n        expectChainId = `${this.config.cosmos.supportedChainIds[0] ?? 1}`\n      }\n      const { chainId, chainType, accounts } = await connectorClient.connector.connect({\n        chainId: expectChainId,\n        chainType: expectChainType,\n      })\n      this.chainId = chainId\n      this.chainType = formaChainType(chainType)\n      this.accounts = accounts\n      this.provider = await this.generateProvider({\n        chainId,\n        chainType,\n        connectorClient,\n        config: this.config,\n      })\n      await this.provider?.enable()\n      this.connectorClient = connectorClient\n      return {\n        account: accounts[0],\n        chainType: formaChainType(chainType),\n        chainId,\n        provider: this.provider,\n      }\n    } catch (error) {\n      console.error('DeFiConnector activate error:', error)\n      throw error\n    }\n  }\n\n  getAddressList(addressTypes: string[]): DeFiAddressTuple[] {\n    const connectorClient = this.connectorClient\n    if (!connectorClient) {\n      throw new Error('you has not active this connector')\n    }\n    return addressTypes.map((type) => {\n      return {\n        type,\n        address: connectorClient.connector.session.wallets[0].addresses[type].address,\n      }\n    })\n  }\n  public async close(): Promise<void> {\n    // called by dapp when user click the disconnect function\n\n    // avoid the dApp never being able to connect to the extension again\n    this.connectorClient?.clearSessionStorage()\n    try {\n      await this.provider?.close()\n    } finally {\n      await this.connectorClient?.connector.killSession()\n    }\n  }\n\n  async deactivate(): Promise<void> {\n    // called by dapp when chainId notsupport or something error\n\n    // avoid the dApp never being able to connect to the extension again\n    this.connectorClient?.clearSessionStorage()\n\n    if (typeof this.provider?.stop == 'function') {\n      this.provider?.stop()\n    }\n    await this.connectorClient?.connector.killSession()\n    this.emitDeactivate()\n  }\n\n  get provider(): DeFiConnectorProvider | undefined {\n    return this._provider\n  }\n  set provider(value: DeFiConnectorProvider | undefined) {\n    this._provider = value\n  }\n\n  onEvent(event: DeFiConnectorUpdateEvent, callback: DeFiConnectorEventCallback): DeFiConnectorEventUnsubscribe {\n    const eventEmitter = { event, callback }\n    this.eventEmitters.push(eventEmitter)\n    return () => {\n      this.eventEmitters = this.eventEmitters.filter((item) => item !== eventEmitter)\n    }\n  }\n\n  protected emitUpdate(update: DeFiConnectorUpdate): void {\n    this.eventEmitters.forEach((emitter) => {\n      if (emitter.event === DeFiConnectorUpdateEvent.Update) {\n        emitter.callback(update, undefined)\n      }\n    })\n  }\n\n  protected emitError(error: Error): void {\n    this.eventEmitters.forEach((emitter) => {\n      if (emitter.event === DeFiConnectorUpdateEvent.Error) {\n        emitter.callback(undefined, error)\n      }\n    })\n  }\n\n  protected emitDeactivate(): void {\n    this.eventEmitters.forEach((emitter) => {\n      if (emitter.event === DeFiConnectorUpdateEvent.Deactivate) {\n        emitter.callback(undefined, undefined)\n      }\n    })\n    this.connectorClient = undefined\n  }\n}\n","import { ConnectorUpdate } from '@web3-react/types'\nimport { AbstractConnector } from '@web3-react/abstract-connector'\nimport { IRPCMap } from '@deficonnect/types'\nimport { getClientMeta } from '@deficonnect/utils'\nimport { DeFiConnector, DeFiConnectorUpdateEvent } from './DeFiConnector'\nimport { InjectedConnector } from '@web3-react/injected-connector'\n\nexport const URI_AVAILABLE = 'URI_AVAILABLE'\n\nexport interface DeFiWeb3ConnectorArguments {\n  supportedChainIds: number[]\n  rpc: IRPCMap\n  pollingInterval?: number\n  bridge?: string\n}\n\nexport class UserRejectedRequestError extends Error {\n  public constructor() {\n    super()\n    this.name = this.constructor.name\n    this.message = 'The user rejected the request.'\n  }\n}\n\nfunction getSupportedChains({ supportedChainIds, rpc }: DeFiWeb3ConnectorArguments): number[] | undefined {\n  if (supportedChainIds) {\n    return supportedChainIds\n  }\n  return rpc ? Object.keys(rpc).map((k) => Number(k)) : undefined\n}\n\nfunction parseToETHChainId(chainId: string | undefined): number {\n  try {\n    const parsed = parseInt(chainId ?? '0')\n    if (isNaN(parsed)) {\n      return 0\n    } else {\n      return parsed\n    }\n  } catch (error) {\n    return 0\n  }\n}\n\nexport class DeFiWeb3Connector extends AbstractConnector {\n  defiConnector: DeFiConnector\n  private _injectConnect?: InjectedConnector\n\n  constructor(config: DeFiWeb3ConnectorArguments) {\n    super({ supportedChainIds: getSupportedChains(config) })\n    const clientMeta = getClientMeta() || undefined\n\n    this.defiConnector = new DeFiConnector({\n      name: clientMeta?.name ?? '',\n      supprtedChainTypes: ['eth'],\n      bridge: config.bridge,\n      eth: config,\n    })\n    this.defiConnector.onEvent(DeFiConnectorUpdateEvent.Update, (params) => {\n      if (!params) {\n        return\n      }\n      const { chainId, provider, account } = params\n      this.emitUpdate({ chainId: parseToETHChainId(chainId), provider, account })\n    })\n    this.defiConnector.onEvent(DeFiConnectorUpdateEvent.Deactivate, () => {\n      this.emitDeactivate()\n    })\n\n    if (navigator?.userAgent?.includes('DeFiWallet') && !!window.ethereum) {\n      this._injectConnect = new InjectedConnector({ supportedChainIds: config.supportedChainIds })\n    }\n  }\n\n  public async activate(): Promise<ConnectorUpdate> {\n    if (this._injectConnect) {\n      return await this._injectConnect.activate()\n    }\n    const { chainId, provider, account } = await this.defiConnector.activate()\n    return { chainId: parseToETHChainId(chainId), provider, account }\n  }\n\n  public async getProvider(): Promise<any> {\n    if (this._injectConnect) {\n      return await this._injectConnect.getProvider()\n    }\n    return this.defiConnector.provider\n  }\n\n  public async getChainId(): Promise<number | string> {\n    if (this._injectConnect) {\n      return await this._injectConnect.getChainId()\n    }\n    return parseToETHChainId(this.defiConnector.chainId)\n  }\n\n  public async getAccount(): Promise<null | string> {\n    if (this._injectConnect) {\n      return await this._injectConnect.getAccount()\n    }\n    const provider = await this.getProvider()\n    return provider.send('eth_accounts').then((accounts: string[]): string => accounts[0])\n  }\n\n  public close(): Promise<void> {\n    return this.defiConnector.close()\n  }\n\n  public deactivate(): void {\n    if (this._injectConnect) {\n      return this._injectConnect.deactivate()\n    }\n    this.defiConnector.deactivate()\n  }\n}\n"],"names":["ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","args","Function","prototype","call","ownKeys","Object","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","Number","isNaN","value","EventEmitter","init","this","_events","undefined","_eventsCount","_maxListeners","ConnectorEvent","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","type","prepend","m","events","existing","create","newListener","emit","unshift","push","length","warned","w","Error","String","name","emitter","count","console","warn","onceWrapper","fired","removeListener","wrapFn","arguments","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","arr","ret","Array","i","unwrapListeners","arrayClone","listenerCount","n","copy","eventTargetAgnosticAddListener","flags","on","once","addEventListener","wrapListener","arg","removeEventListener","defineProperty","enumerable","get","set","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","err","message","context","handler","len","listeners","addListener","prependListener","prependOnceListener","off","list","position","originalListener","shift","index","pop","spliceOne","removeAllListeners","key","keys","rawListeners","eventNames","Promise","resolve","reject","errorListener","resolver","slice","addErrorHandlerIfEventEmitter","AbstractConnector","_EventEmitter","subClass","superClass","_temp","_this","supportedChainIds","constructor","__proto__","_proto","emitUpdate","update","process","env","NODE_ENV","log","Update","emitError","emitDeactivate","Deactivate","removeAllUrlParams","url","split","addUrlParams","params","splitUrl","queryString","appendToQueryString","getQueryString","formatUriAddUrlParams","uri","result","parseWalletConnectUri","bridge","encodeURIComponent","decodeURIComponent","protocol","handshakeTopic","version","replaceUriProtocol","formatToCWEURI","formatToWCURI","limitWords","txt","str","substr","NetworkMonitor","_eventEmitters","window","trigger","event","callback","eventEmitters","filter","eventEmitter","forEach","WS","global","WebSocket","require","SocketTransport","opts","_queue","_subscriptions","_protocol","_version","_url","_netMonitor","_socket","_nextSocket","subscriptions","netMonitor","_socketCreate","readyState","connecting","connected","closing","closed","open","close","_socketClose","send","topic","silent","_socketSend","payload","subscribe","_a","_b","startsWith","replace","isBrowser","host","getLocation","detectEnv","getWebSocketUrl","onmessage","_socketReceive","onopen","_socketOpen","onerror","_socketError","onclose","setTimeout","_queueSubscriptions","_pushQueue","socketMessage","JSON","stringify","_setToQueue","async","parse","data","e","DeFiConnectorClient","connector","transport","sessionStorage","connectorOpts","exists","session","getSession","Connector","cryptoLib","clientId","clearSessionStorage","removeSession","_sessionStorage","SvgTags","NeedUnderlineOfAttrName","EVENT_HANDLERS","onClick","createElement","tagName","props","childNodes","el","includes","tag","document","createElementNS","setAttribute","makeSVG","prop","toLowerCase","styles","style","childNode","appendChild","createTextNode","getFromWindow","res","getFromWindowOrThrow","exports","doc","loc","window_getters_1","getDocumentOrThrow","getLocationOrThrow","getWindowMetadataOfAny","metaTags","getElementsByTagName","attributes","map","getAttribute","attr","content","title","getName","description","origin","icons","links","link","rel","indexOf","href","absoluteHref","path","pathname","join","getIcons","BrowserInfo","os","NodeInfo","platform","SearchBotDeviceInfo","bot","BotInfo","ReactNativeInfo","SEARCHBOT_OS_REGEX","userAgentRules","operatingSystemRules","detectOS","navigator","product","ua","matchedRule","reduce","matched","browser","uaMatch","exec","matchUserAgent","match","versionParts","s","il","r","k","a","j","jl","__spreadArrays","output","ii","createVersionParts","searchBotMatch","parseUserAgent","userAgent","isIOS","maxTouchPoints","getLocalStorage","windowGetters.getLocalStorage","saveMobileLinkInfo","focusUri","raw","local","setItem","setLocal","assign","DeFiLinkIconLight","CurtomCreateElement","width","height","viewBox","fill","xmlns","fillRule","clipRule","d","id","maskUnits","x","y","mask","mixBlendMode","x1","y1","x2","y2","gradientUnits","stopColor","offset","stopOpacity","filterUnits","colorInterpolationFilters","floodOpacity","in","values","stdDeviation","in2","ConnectStepCameraIcon","Icon","FeatureGlobeIcon","stroke","strokeLinecap","strokeLinejoin","strokeWidth","overlay","background","display","zIndex","left","top","overflow","justifyContent","alignItems","userSelect","container","flexDirection","padding","borderRadius","maxWidth","containerLeft","marginRight","flexShrink","minWidth","header","headerLogo","headerText","color","margin","headerTextDivide","backgroundColor","fontWeight","fontSize","marginTop","marginBottom","feature","featureIcon","featureText","marginLeft","installButton","border","alignSelf","cursor","containerRight","rightQRcode","flexGrow","rightTitle","stretchContainer","flex","rightStep","dot","desc","camera","terms","text","BannerStyles","logoIcon","textContainer","lineHeight","button","iOSRegistryEntry","shortName","logo","universalLink","deepLink","openDeeplinkOrInstall","installURL","isBlur","hidden","location","InstallExtensionQRCodeModal","cb","CWEURI","singleLinkHref","entry","encodedUri","endsWith","formatIOSMobile","isAndroid","lowercaseURI","body","popup","QRCode","toDataURL","_err","InstallExtensionModal","qrUrl","closeModal","parentElement","removeChild","onclick","dispatchEvent","Event","stopPropagation","LogoIcon","FeatureLinkIcon","FeatureLockIcon","src","alt","DownloadAppBanner","onDownloadClick","wasm","WebAssembly","Instance","Module","Uint8Array","Long","low","high","unsigned","isLong","obj","INT_CACHE","UINT_CACHE","fromInt","cachedObj","cache","fromBits","fromNumber","UZERO","ZERO","TWO_PWR_64_DBL","MAX_UNSIGNED_VALUE","TWO_PWR_63_DBL","MIN_VALUE","MAX_VALUE","neg","TWO_PWR_32_DBL","lowBits","highBits","pow_dbl","Math","pow","fromString","radix","p","substring","radixToPower","size","min","parseInt","power","mul","add","fromValue","val","TWO_PWR_16_DBL","TWO_PWR_24","ONE","UONE","NEG_ONE","LongPrototype","toInt","toNumber","toString","isZero","isNegative","eq","radixLong","div","rem1","sub","rem","remDiv","digits","getHighBits","getHighBitsUnsigned","getLowBits","getLowBitsUnsigned","getNumBitsAbs","bit","eqz","isPositive","isOdd","isEven","equals","other","notEquals","neq","ne","lessThan","comp","lt","lessThanOrEqual","lte","le","greaterThan","gt","greaterThanOrEqual","gte","ge","compare","thisNeg","otherNeg","negate","not","addend","c48","c32","c16","c00","subtract","subtrahend","multiply","multiplier","get_high","a32","a16","a00","b32","b16","b00","divide","divisor","approx","div_u","div_s","toUnsigned","shru","shr","shl","max","floor","log2","ceil","LN2","delta","approxRes","approxRem","modulo","rem_u","rem_s","mod","and","or","xor","shiftLeft","numBits","shiftRight","shiftRightUnsigned","shr_u","toSigned","toBytes","toBytesLE","toBytesBE","hi","lo","fromBytes","bytes","fromBytesLE","fromBytesBE","transformProtoToJSON","object","item","typeUrl","ProtobufType","defaultRegistryTypes","find","_defaultRegistryTypes","isTsProtoGeneratedType","queryPrototypeFromUrl","toJSON","decode","fromBase64","isDeFiCosmosProvider","DeFiCosmosProvider","config","client","sendTransaction","chainId","chainType","sendJSONRequest","method","account","forcePushNotification","request","stop","killSession","accounts","currentAccountInfo","entries","wallets","addresses","address","signer","pubkey","accountData","algo","getAccounts","signDirect","signerAddress","signDoc","signResult","_this2","txBody","TxBody","bodyBytes","authInfo","AuthInfo","authInfoBytes","accountNumber","decodeToSignRequestJSON","tx","TxRaw","signature","toBase64","signatures","signed","pub_key","pubkeyType","secp256k1","connect","DefaultSessionStorage","getLocal","eth","setSession","removeLocal","DeFiConnectorUpdateEvent","formaChainType","DeFiConnector","super","connectorClient","_provider","provider","_supportedChainIds","ethChainIds","_this$config$eth","cosmosChainIds","cosmos","_this$config$cosmos","times","check","deficonnectClientGenerator","checkIsReady","wcConfig","role","dapp_name","qrcodeModal","generateProvider","_this$provider","enable","deficonnectProviderGenerator","Web3Provider","_this$config$cosmos2","generateClient","supprtedChainTypes","expectChainType","expectChainId","_this$provider2","getAddressList","addressTypes","_this$provider3","_this$connectorClient2","_this$provider4","_this$connectorClient4","onEvent","URI_AVAILABLE","UserRejectedRequestError","getSupportedChains","rpc","parseToETHChainId","parsed","DeFiWeb3Connector","defiConnector","_injectConnect","clientMeta","getClientMeta","ethereum","InjectedConnector","activate","getProvider","getChainId","getAccount","then","deactivate"],"mappings":"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"}