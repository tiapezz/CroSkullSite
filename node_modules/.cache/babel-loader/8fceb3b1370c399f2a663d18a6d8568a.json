{"ast":null,"code":"import _objectSpread from \"F:\\\\Mattia\\\\Visual studio\\\\AppCroskull\\\\croskull-nft-marketplace\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\n\nvar _this = this,\n    _jsxFileName = \"F:\\\\Mattia\\\\Visual studio\\\\AppCroskull\\\\croskull-nft-marketplace\\\\src\\\\components\\\\Story\\\\Story.jsx\";\n\nimport { ethers } from 'ethers';\nimport React, { useEffect, useState } from \"react\";\nimport { getSkullsData, toTavern, toMission, sendNotification, getStakingData, approveStories, refreshSkullsStories } from \"../../redux/data/dataActions\";\nimport store from \"../../redux/store\";\nimport { useDispatch } from \"react-redux\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faDungeon, faRunning, faCoins, faSkullCrossbones, faSpinner, faRedoAlt } from '@fortawesome/free-solid-svg-icons';\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\nimport ReactQuill from \"react-quill\";\nimport IpfsHttpClient from \"ipfs-http-client\";\nimport hexagon from \"./hexagon.svg\";\nimport inventoryIcon from \"./inventory.svg\";\nimport eggImage from './egg.png';\nimport bluePotionImage from './bluePotionImage.png';\nimport redPotionImage from './redPotionImage.png';\nimport \"react-quill/dist/quill.snow.css\";\nimport './Story.css';\nvar ipfsUri480 = \"https://croskull.mypinata.cloud/ipfs/QmWu9bKunKbv8Kkq8wEWGpCaW47oMBbH6ep4ZWBzAxHtgj/\";\nvar ipfsUri128 = \"https://croskull.mypinata.cloud/ipfs/QmZn1HvYE1o1J8LhNpxFTj5k8LQb2bWT49YvbrhB3r19Xx/\";\n\nvar Story = function Story() {\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sk-flex sk-row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }\n  }, \"asdsadsadsa\"), display ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"story-modal\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }, editorStory.display ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sk-box container\",\n    style: {\n      left: \"\".concat(storyState.x, \"px\"),\n      top: \"\".concat(storyState.y, \"px\")\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"image\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(LazyLoadImage, {\n    src: \"\".concat(ipfsUri480).concat(tokenId, \".webp\"),\n    className: \"selected div-skull\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    for: \"birthDate\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, \"Birth date\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"birthDate\",\n    type: \"date\",\n    name: \"birthDate\",\n    onChange: handleFieldChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    for: \"deathDate\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, \"Death date\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"deathDate\",\n    type: \"date\",\n    name: \"deathDate\",\n    onChange: handleFieldChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    for: \"faction\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, \"Faction\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"faction\",\n    id: \"faction\",\n    onChange: handleFieldChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"none\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 19\n    }\n  }, \"None\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"lowlights\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 19\n    }\n  }, \"Lowlight\\u2019s\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"shadowrats\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 19\n    }\n  }, \"ShadowRats\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"acquafall\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 19\n    }\n  }, \"Acquafall\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"solarcry\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 19\n    }\n  }, \"Solarcry\")), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"twitter\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, \"Twitter Handle ( with @ )\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"twitter\",\n    type: \"text\",\n    name: \"twitter\",\n    onChange: handleFieldChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"metadata\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"close-icon\",\n    onClick: function onClick() {\n      setEditorStory(_objectSpread({}, editorStory, {\n        display: false\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, \"Back to Skull\"), /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      fontSize: '18px'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, \"Edit your Skull Details\"), /*#__PURE__*/React.createElement(\"label\", {\n    for: \"name\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, \"Skull Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"name\",\n    type: \"text\",\n    name: \"name\",\n    onChange: handleFieldChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    for: \"hobby\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, \"Hobbies/Motto\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"hobby\",\n    type: \"text\",\n    name: \"hobby\",\n    onChange: handleFieldChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    for: \"description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, \"Skull's Story\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      overflowY: 'scroll'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ReactQuill, {\n    className: \"description-editor\",\n    modules: modules,\n    formats: formats,\n    value: editorStory.description,\n    onChange: handleFieldChange,\n    placeholder: \"Write something awesome...\",\n    name: \"description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pay-action\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, storyAllowance > 0 ? /*#__PURE__*/React.createElement(\"button\", {\n    className: \"skull-button save-grave\",\n    onClick: function onClick() {\n      return saveSkullStory();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 23\n    }\n  }, \"Update using (10) Grave\") : /*#__PURE__*/React.createElement(\"button\", {\n    className: \"skull-button save-grave\",\n    onClick: function onClick() {\n      return dispatch(approveStories());\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 23\n    }\n  }, \"Approve Story\")))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sk-box container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"image\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(LazyLoadImage, {\n    src: \"\".concat(ipfsUri480).concat(tokenId, \".webp\"),\n    className: \"card div-skull\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 19\n    }\n  }, \"Birth Date: \", birthDate > 0 ? new Date(birthDate * 1000).toISOString().slice(0, 10) : ''), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 19\n    }\n  }, \"Death Date: \", deathDate > 0 ? new Date(deathDate * 1000).toISOString().slice(0, 10) : ''), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 19\n    }\n  }, \"Faction: \", faction), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 19\n    }\n  }, \"Twitter: \", twitter !== '' ? /*#__PURE__*/React.createElement(\"a\", {\n    href: twitter ? \"https://twitter.com/\".concat(twitter.replace('@', '')) : '',\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }, twitter) : ''), storyState.ownerOf && ethers.utils.getAddress(storyState.ownerOf) === ethers.utils.getAddress(accountAddress) ? /*#__PURE__*/React.createElement(\"button\", {\n    className: \"skull-button edit-button\",\n    onClick: function onClick() {\n      setEditorStory(_objectSpread({}, editorStory, {\n        display: true\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 23\n    }\n  }, \"Edit Story\") : /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 23\n    }\n  }, \"Owner: \", storyState.ownerOf ? \"\".concat(storyState.ownerOf.substr(0, 5), \"...\").concat(storyState.ownerOf.substr(38, 41)) : '')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"metadata\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"close-icon\",\n    onClick: function onClick() {\n      setStoryState(_objectSpread({}, storyState, {\n        display: false\n      }));\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 17\n    }\n  }, \"Close\"), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 17\n    }\n  }, name), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 17\n    }\n  }, \"Hobby: \", hobby), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"description\",\n    dangerouslySetInnerHTML: {\n      __html: description\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 17\n    }\n  })))) : '');\n};\n\nexport default Story;","map":{"version":3,"sources":["F:/Mattia/Visual studio/AppCroskull/croskull-nft-marketplace/src/components/Story/Story.jsx"],"names":["ethers","React","useEffect","useState","getSkullsData","toTavern","toMission","sendNotification","getStakingData","approveStories","refreshSkullsStories","store","useDispatch","FontAwesomeIcon","faDungeon","faRunning","faCoins","faSkullCrossbones","faSpinner","faRedoAlt","LazyLoadImage","ReactQuill","IpfsHttpClient","eggImage","bluePotionImage","redPotionImage","ipfsUri480","ipfsUri128","Story","display","editorStory","left","storyState","x","top","y","tokenId","handleFieldChange","setEditorStory","fontSize","overflowY","modules","formats","description","storyAllowance","saveSkullStory","dispatch","birthDate","Date","toISOString","slice","deathDate","faction","twitter","replace","ownerOf","utils","getAddress","accountAddress","substr","setStoryState","name","hobby","__html"],"mappings":";;;;;AAAA,SACEA,MADF,QAEO,QAFP;AAGA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,aAAT,EAAwBC,QAAxB,EAAkCC,SAAlC,EAA6CC,gBAA7C,EAA+DC,cAA/D,EAA+EC,cAA/E,EAA+FC,oBAA/F,QAA2H,8BAA3H;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,SAASC,SAAT,EAAoBC,SAApB,EAA+BC,OAA/B,EAAwCC,iBAAxC,EAA2DC,SAA3D,EAAsEC,SAAtE,QAAwF,mCAAxF;AACA,SAASC,aAAT,QAA8B,iCAA9B;AACA,OAAOC,UAAP,MAAuB,aAAvB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;;;AAGA,OAAOC,QAAP,MAAqB,WAArB;AACA,OAAOC,eAAP,MAA4B,uBAA5B;AACA,OAAOC,cAAP,MAA2B,sBAA3B;AACA,OAAO,iCAAP;AACA,OAAO,aAAP;AAEA,IAAMC,UAAU,GAAG,sFAAnB;AACA,IAAMC,UAAU,GAAG,sFAAnB;;AACA,IAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM;AAElB,sBACE,uDACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAIIC,OAAO,gBACP;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACMC,WAAW,CAACD,OAAZ,gBACA;AACE,IAAA,SAAS,EAAC,kBADZ;AAEE,IAAA,KAAK,EAAE;AAAEE,MAAAA,IAAI,YAAKC,UAAU,CAACC,CAAhB,OAAN;AAA6BC,MAAAA,GAAG,YAAKF,UAAU,CAACG,CAAhB;AAAhC,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIA;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,aAAD;AACE,IAAA,GAAG,YAAKT,UAAL,SAAkBU,OAAlB,UADL;AAEE,IAAA,SAAS,EAAC,oBAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAKE;AAAO,IAAA,GAAG,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBALF,eAME;AACE,IAAA,EAAE,EAAC,WADL;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,IAAI,EAAC,WAHP;AAIE,IAAA,QAAQ,EAAEC,iBAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,eAYE;AAAO,IAAA,GAAG,EAAC,WAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAZF,eAaE;AACE,IAAA,EAAE,EAAC,WADL;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,IAAI,EAAC,WAHP;AAIE,IAAA,QAAQ,EAAEA,iBAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbF,eAmBE;AAAO,IAAA,GAAG,EAAC,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAnBF,eAoBE;AACE,IAAA,IAAI,EAAC,SADP;AAEE,IAAA,EAAE,EAAC,SAFL;AAGE,IAAA,QAAQ,EAAEA,iBAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKE;AAAQ,IAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALF,eAME;AAAQ,IAAA,KAAK,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBANF,eAOE;AAAQ,IAAA,KAAK,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAPF,eAQE;AAAQ,IAAA,KAAK,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBARF,eASE;AAAQ,IAAA,KAAK,EAAC,UAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBATF,CApBF,eA+BE;AAAO,IAAA,OAAO,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCA/BF,eAgCE;AACE,IAAA,EAAE,EAAC,SADL;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,IAAI,EAAC,SAHP;AAIE,IAAA,QAAQ,EAAEA,iBAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhCF,CAJA,eA2CA;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAC,YADZ;AAEE,IAAA,OAAO,EAAG,mBAAM;AACdC,MAAAA,cAAc,mBACTR,WADS;AAEZD,QAAAA,OAAO,EAAE;AAFG,SAAd;AAID,KAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,eAYE;AAAI,IAAA,KAAK,EAAE;AAAEU,MAAAA,QAAQ,EAAE;AAAZ,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAZF,eAaE;AAAO,IAAA,GAAG,EAAC,MAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAbF,eAcE;AACE,IAAA,EAAE,EAAC,MADL;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,IAAI,EAAC,MAHP;AAIE,IAAA,QAAQ,EAAEF,iBAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdF,eAoBE;AAAO,IAAA,GAAG,EAAC,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBApBF,eAqBE;AACE,IAAA,EAAE,EAAC,OADL;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,IAAI,EAAC,OAHP;AAIE,IAAA,QAAQ,EAAEA,iBAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IArBF,eA2BE;AAAO,IAAA,GAAG,EAAC,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBA3BF,eA4BE;AACE,IAAA,KAAK,EAAE;AAAEG,MAAAA,SAAS,EAAE;AAAb,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAGE,oBAAC,UAAD;AACE,IAAA,SAAS,EAAC,oBADZ;AAEE,IAAA,OAAO,EAAEC,OAFX;AAGE,IAAA,OAAO,EAAEC,OAHX;AAIE,IAAA,KAAK,EAAEZ,WAAW,CAACa,WAJrB;AAKE,IAAA,QAAQ,EAAEN,iBALZ;AAME,IAAA,WAAW,EAAE,4BANf;AAOE,IAAA,IAAI,EAAC,aAPP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CA5BF,eAyCE;AACE,IAAA,SAAS,EAAC,YADZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIIO,cAAc,GAAG,CAAjB,gBACE;AACE,IAAA,SAAS,EAAC,yBADZ;AAEE,IAAA,OAAO,EAAG;AAAA,aAAMC,cAAc,EAApB;AAAA,KAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADF,gBAQE;AACE,IAAA,SAAS,EAAC,yBADZ;AAEE,IAAA,OAAO,EAAG;AAAA,aAAMC,QAAQ,CAAErC,cAAc,EAAhB,CAAd;AAAA,KAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAZN,CAzCF,CA3CA,CADA,gBA6GA;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,aAAD;AACE,IAAA,GAAG,YAAKiB,UAAL,SAAkBU,OAAlB,UADL;AAEE,IAAA,SAAS,EAAC,gBAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAqBW,SAAS,GAAG,CAAZ,GAAiB,IAAIC,IAAJ,CAASD,SAAS,GAAG,IAArB,EAA2BE,WAA3B,GAAyCC,KAAzC,CAA+C,CAA/C,EAAkD,EAAlD,CAAjB,GAAyE,EAA9F,CALF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAqBC,SAAS,GAAG,CAAZ,GAAgB,IAAIH,IAAJ,CAASG,SAAS,GAAG,IAArB,EAA2BF,WAA3B,GAAyCC,KAAzC,CAA+C,CAA/C,EAAkD,EAAlD,CAAhB,GAAwE,EAA7F,CANF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAiBE,OAAjB,CAPF,eAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAiBC,OAAO,KAAK,EAAZ,gBACf;AAAG,IAAA,IAAI,EAAGA,OAAO,iCAA0BA,OAAO,CAACC,OAAR,CAAgB,GAAhB,EAAqB,EAArB,CAA1B,IAAuD,EAAxE;AAA4E,IAAA,MAAM,EAAC,QAAnF;AAA4F,IAAA,GAAG,EAAC,qBAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAuHD,OAAvH,CADe,GAEZ,EAFL,CARF,EAYIrB,UAAU,CAACuB,OAAX,IAAsBvD,MAAM,CAACwD,KAAP,CAAaC,UAAb,CAAwBzB,UAAU,CAACuB,OAAnC,MAAgDvD,MAAM,CAACwD,KAAP,CAAaC,UAAb,CAAwBC,cAAxB,CAAtE,gBACE;AACE,IAAA,SAAS,EAAC,0BADZ;AAEE,IAAA,OAAO,EAAG,mBAAM;AACdpB,MAAAA,cAAc,mBACTR,WADS;AAEZD,QAAAA,OAAO,EAAE;AAFG,SAAd;AAID,KAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,gBAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBACWG,UAAU,CAACuB,OAAX,aAAwBvB,UAAU,CAACuB,OAAX,CAAmBI,MAAnB,CAA0B,CAA1B,EAA6B,CAA7B,CAAxB,gBAA6D3B,UAAU,CAACuB,OAAX,CAAmBI,MAAnB,CAA0B,EAA1B,EAA8B,EAA9B,CAA7D,IAAmG,EAD9G,CAzBN,CADF,eAiCA;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACI,IAAA,SAAS,EAAC,YADd;AAEI,IAAA,OAAO,EAAG,mBAAM;AACdC,MAAAA,aAAa,mBACR5B,UADQ;AAEXH,QAAAA,OAAO,EAAE;AAFE,SAAb;AAID,KAPL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMgC,IAAN,CAZF,eAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAeC,KAAf,CAbF,eAcE;AACE,IAAA,SAAS,EAAC,aADZ;AAEE,IAAA,uBAAuB,EAAE;AAAEC,MAAAA,MAAM,EAAEpB;AAAV,KAF3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdF,CAjCA,CA9GN,CADO,GAwKJ,EA5KP,CADF;AA+KE,CAjLJ;;AAqLA,eAAef,KAAf","sourcesContent":["import {\r\n  ethers\r\n} from 'ethers';\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { getSkullsData, toTavern, toMission, sendNotification, getStakingData, approveStories, refreshSkullsStories } from \"../../redux/data/dataActions\";\r\nimport store from \"../../redux/store\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faDungeon, faRunning, faCoins, faSkullCrossbones, faSpinner, faRedoAlt  } from '@fortawesome/free-solid-svg-icons';\r\nimport { LazyLoadImage } from \"react-lazy-load-image-component\";\r\nimport ReactQuill from \"react-quill\";\r\nimport IpfsHttpClient from \"ipfs-http-client\";\r\nimport hexagon from './hexagon.svg';\r\nimport inventoryIcon from './inventory.svg';\r\nimport eggImage from './egg.png';\r\nimport bluePotionImage from './bluePotionImage.png';\r\nimport redPotionImage from './redPotionImage.png';\r\nimport \"react-quill/dist/quill.snow.css\";\r\nimport './Story.css';\r\n\r\nconst ipfsUri480 = \"https://croskull.mypinata.cloud/ipfs/QmWu9bKunKbv8Kkq8wEWGpCaW47oMBbH6ep4ZWBzAxHtgj/\";\r\nconst ipfsUri128 = \"https://croskull.mypinata.cloud/ipfs/QmZn1HvYE1o1J8LhNpxFTj5k8LQb2bWT49YvbrhB3r19Xx/\";\r\nconst Story = () => {\r\n\r\n  return (\r\n    <>\r\n      <div className=\"sk-flex sk-row\">\r\n        asdsadsadsa\r\n      </div>\r\n      { display ? (\r\n        <div className=\"story-modal\">\r\n            { editorStory.display ? (\r\n              <div \r\n                className=\"sk-box container\" \r\n                style={{ left: `${storyState.x}px`, top: `${storyState.y}px` }}\r\n              >\r\n              <div className=\"image\">\r\n                <LazyLoadImage \r\n                  src={`${ipfsUri480}${tokenId}.webp`}\r\n                  className='selected div-skull'\r\n                />\r\n                <label for=\"birthDate\">Birth date</label>\r\n                <input\r\n                  id=\"birthDate\"\r\n                  type=\"date\"\r\n                  name=\"birthDate\"\r\n                  onChange={handleFieldChange}\r\n                />\r\n                <label for=\"deathDate\">Death date</label>\r\n                <input\r\n                  id=\"deathDate\"\r\n                  type=\"date\"\r\n                  name=\"deathDate\"\r\n                  onChange={handleFieldChange}\r\n                />\r\n                <label for=\"faction\">Faction</label>\r\n                <select\r\n                  name=\"faction\"\r\n                  id=\"faction\"\r\n                  onChange={handleFieldChange}\r\n                >\r\n                  <option value=\"none\">None</option>\r\n                  <option value=\"lowlights\">Lowlight’s</option>\r\n                  <option value=\"shadowrats\">ShadowRats</option>\r\n                  <option value=\"acquafall\">Acquafall</option>\r\n                  <option value=\"solarcry\">Solarcry</option>\r\n                </select>\r\n                <label htmlFor=\"twitter\">Twitter Handle ( with @ )</label>\r\n                <input\r\n                  id=\"twitter\"\r\n                  type=\"text\"\r\n                  name=\"twitter\"\r\n                  onChange={handleFieldChange}\r\n                />\r\n              </div>\r\n              <div className=\"metadata\">\r\n                <div\r\n                  className=\"close-icon\"\r\n                  onClick={ () => {\r\n                    setEditorStory({\r\n                      ...editorStory,\r\n                      display: false\r\n                    })\r\n                  }}\r\n                >\r\n                  Back to Skull\r\n                </div>\r\n                <h2 style={{ fontSize: '18px' }}>Edit your Skull Details</h2>\r\n                <label for=\"name\">Skull Name</label>\r\n                <input\r\n                  id=\"name\"\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  onChange={handleFieldChange}\r\n                />\r\n                <label for=\"hobby\">Hobbies/Motto</label>\r\n                <input\r\n                  id=\"hobby\"\r\n                  type=\"text\"\r\n                  name=\"hobby\"\r\n                  onChange={handleFieldChange}\r\n                />\r\n                <label for=\"description\">Skull's Story</label>\r\n                <div\r\n                  style={{ overflowY: 'scroll'}}\r\n                >\r\n                  <ReactQuill\r\n                    className=\"description-editor\"\r\n                    modules={modules}\r\n                    formats={formats}\r\n                    value={editorStory.description}\r\n                    onChange={handleFieldChange}\r\n                    placeholder={\"Write something awesome...\"}\r\n                    name=\"description\"\r\n                  />\r\n                </div>\r\n                <div\r\n                  className=\"pay-action\"\r\n                >\r\n                  {\r\n                    storyAllowance > 0 ? (\r\n                      <button\r\n                        className=\"skull-button save-grave\"\r\n                        onClick={ () => saveSkullStory() }\r\n                      >\r\n                        Update using (10) Grave\r\n                      </button>\r\n                    ) : (\r\n                      <button\r\n                        className=\"skull-button save-grave\"\r\n                        onClick={ () => dispatch( approveStories() ) }\r\n                      >\r\n                        Approve Story\r\n                      </button>\r\n                    )\r\n                  }\r\n                </div>\r\n              </div>\r\n            </div>\r\n            ) : (\r\n              <div className=\"sk-box container\">\r\n                <div className=\"image\">\r\n                  <LazyLoadImage \r\n                    src={`${ipfsUri480}${tokenId}.webp`}\r\n                    className='card div-skull'\r\n                  />\r\n                  <span>Birth Date: {  birthDate > 0 ?  new Date(birthDate * 1000).toISOString().slice(0, 10) : '' }</span>\r\n                  <span>Death Date: {  deathDate > 0 ? new Date(deathDate * 1000).toISOString().slice(0, 10) : '' }</span>\r\n                  <span>Faction: { faction }</span>\r\n                  <span>Twitter: { twitter !== '' ? (\r\n                    <a href={ twitter ? `https://twitter.com/${twitter.replace('@', '')}` : ''} target=\"_blank\" rel=\"noopener noreferrer\">{twitter}</a>\r\n                  ) : ('') }</span>\r\n                  {\r\n                    storyState.ownerOf && ethers.utils.getAddress(storyState.ownerOf) === ethers.utils.getAddress(accountAddress) ? (\r\n                      <button \r\n                        className=\"skull-button edit-button\"\r\n                        onClick={ () => {\r\n                          setEditorStory( {\r\n                            ...editorStory,\r\n                            display: true\r\n                          })\r\n                        }}\r\n                      >\r\n                        Edit Story\r\n                      </button> \r\n                    ) : (\r\n                      <span>\r\n                        Owner: { storyState.ownerOf ? `${storyState.ownerOf.substr(0, 5)}...${storyState.ownerOf.substr(38, 41)}` : '' }\r\n                      </span>\r\n                    )\r\n                  }\r\n                  \r\n                </div>\r\n              <div className=\"metadata\">\r\n                <div\r\n                    className=\"close-icon\"\r\n                    onClick={ () => {\r\n                      setStoryState({\r\n                        ...storyState,\r\n                        display: false\r\n                      })\r\n                    }}\r\n                  >\r\n                  Close\r\n                </div>\r\n                <h2>{ name }</h2>\r\n                <span>Hobby: { hobby }</span>\r\n                <div \r\n                  className=\"description\"\r\n                  dangerouslySetInnerHTML={{ __html: description }\r\n                }\r\n                >\r\n                </div>\r\n              </div>\r\n            </div>\r\n            ) }\r\n        </div>\r\n      ) : ('')}\r\n  </>\r\n  )}\r\n\r\n\r\n\r\nexport default Story;\r\n"]},"metadata":{},"sourceType":"module"}