{"ast":null,"code":"import _slicedToArray from \"F:\\\\Mattia\\\\Visual studio\\\\AppCroskull\\\\croskull-nft-marketplace\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"F:\\\\Mattia\\\\Visual studio\\\\AppCroskull\\\\croskull-nft-marketplace\\\\src\\\\components\\\\Raffle\\\\Raffle.jsx\";\n\nimport React, { useEffect, useState } from \"react\";\nimport \"react-quill/dist/quill.snow.css\";\nimport coins from \"./coins.png\";\nimport './Raffle.css';\nimport Grave from \"../Navbar/grave.png\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faHourglassHalf, faQuestionCircle } from '@fortawesome/free-solid-svg-icons';\nimport MetricContainer from \"../MetricContainer/MetricContainer\";\nimport Soul from \"../Navbar/soul.png\";\nimport Rune from \"../Navbar/grave-burn.png\";\nimport Coin from \"./coins.png\";\nvar ipfsUri480 = \"https://croskull.mypinata.cloud/ipfs/QmWu9bKunKbv8Kkq8wEWGpCaW47oMBbH6ep4ZWBzAxHtgj/\";\nvar ipfsUri128 = \"https://croskull.mypinata.cloud/ipfs/QmZn1HvYE1o1J8LhNpxFTj5k8LQb2bWT49YvbrhB3r19Xx/\";\n\nvar Raffle = function Raffle(_ref) {\n  var accountAddress = _ref.accountAddress;\n  var raf1 = {\n    type: \"Crazy-Raffle\",\n    title: \"First Raffle\",\n    nWinners: 2,\n    nPart: 276,\n    cost: 5,\n    win: 1000,\n    coin: 'Soul',\n    start: new Date(2022, 1, 12),\n    finish: new Date(2022, 1, 25),\n    partecipants: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],\n    winners: [1, 3],\n    text: 'Join now this amazing raffle in partnership with MM.Finance.'\n  };\n  var raf2 = {\n    type: \"Normal-Raffle\",\n    title: \"Second Raffle\",\n    nWinners: 5,\n    nPart: 1000,\n    cost: 5,\n    win: 2000,\n    coin: 'Grave',\n    start: new Date(2022, 2, 12),\n    finish: new Date(2022, 2, 25),\n    partecipants: [],\n    winners: [],\n    text: 'Join now this amazing raffle in partnership with MM.Finance.'\n  };\n  var raf3 = {\n    type: \"Normal-Raffle\",\n    title: \"Thrid Raffle\",\n    nWinners: 5,\n    nPart: 10000,\n    cost: 10,\n    win: 20000,\n    coin: 'Rude',\n    start: new Date(2022, 3, 1),\n    finish: new Date(2022, 3, 13),\n    partecipants: [],\n    winners: [],\n    text: 'Join now this amazing raffle in partnership with MM.Finance.'\n  };\n\n  var _useState = useState({\n    winners: [],\n    prize: 1\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      modalState = _useState2[0],\n      setModalState = _useState2[1];\n\n  var openModal = function openModal(raf) {\n    setModalState({\n      winners: raf.winners,\n      prize: raf.win / raf.nWinners\n    });\n    var modal = document.getElementById(\"modal-winners\");\n    modal.style.display = \"block\";\n  };\n\n  var closeModal = function closeModal() {\n    var modal = document.getElementById(\"modal-winners\");\n    modal.style.display = \"none\";\n  };\n\n  var rafs = [raf1, raf2, raf3, raf2, raf1, raf2, raf1, raf2, raf1, raf2, raf1, raf2];\n  var DAY_IN_SEC = 60 * 60 * 24 * 1000;\n  var HUNDRED_DAYS_IN_SEC = 100 * DAY_IN_SEC; //100 * DAY_IN_SEC;\n\n  var formatDate = function formatDate(timestamp) {\n    console.log(timestamp);\n    var tsHours = timestamp / 60 / 60 / 1000;\n    var days = parseInt(timestamp / DAY_IN_SEC);\n    var hoursDiff = tsHours - days * 24;\n    var hours = parseInt(hoursDiff);\n    var tsMinutes = hoursDiff * 60;\n    var minutes = parseInt(tsMinutes - hours * 60);\n    return {\n      days: days,\n      hours: hours,\n      minutes: minutes\n    };\n  };\n\n  var crazyDesc = 'A Crazy Raffle, every time someone join the time is reduced by 5%';\n  var normalDesc = 'A Normal raffle join to get a chance to win!';\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal\",\n    id: \"modal-winners\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-w-content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sk-box\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    class: \"close-btn\",\n    onClick: function onClick() {\n      closeModal();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, \"\\xD7\"), modalState.winners.map(function (winner) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 19\n      }\n    }, winner, \" wins \", modalState.prize, \" coins;\");\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sk-container sk-row\",\n    style: {\n      overflow: 'hidden'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sk-box sk-column sk-raffle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }, \"Raffle Time!\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }, \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut eget urna ex. Etiam eleifend interdum lobortis. Morbi laoreet purus sed felis semper posuere.\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sk-raffle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }, rafs.map(function (raf) {\n    var raffleDuration = raf.finish - new Date();\n    var raffleStart = raf.start - new Date();\n    var raffleDurationDate = formatDate(raffleDuration);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sk-raffle-item sk-flex\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"raffle-box-1 wd-66\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: Coins,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 23\n      }\n    }, raf.type, \" \", /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faQuestionCircle,\n      title: raf.type.includes('Normal') ? normalDesc : crazyDesc,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 38\n      }\n    }), \" | | N-Winners: \", raf.nWinners, \" | N-Partecipants: \", raf.nPart), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 23\n      }\n    }, raf.title), /*#__PURE__*/React.createElement(\"hr\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 23\n      }\n    }, raf.text, \" \", raf.win, \" \", /*#__PURE__*/React.createElement(\"img\", {\n      src: raf.coin.includes(\"Grave\") ? Grave : raf.coin.includes(\"Soul\") ? Soul : Rune,\n      className: \"skull-icon\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 46\n      }\n    }), \" will be airdropped!\"))), raffleDuration > 0 ? raffleStart < 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"raffle-box-2 wd-33\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 29\n      }\n    }, \"Cost: 5\", /*#__PURE__*/React.createElement(\"img\", {\n      src: Grave,\n      className: \"skull-icon\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 39\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 29\n      }\n    }, \"Ending in: \", raffleDurationDate.days, \"D \", raffleDurationDate.hours, \"H \", raffleDurationDate.minutes, \"M \", /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      icon: faHourglassHalf,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 128\n      }\n    })), raf.partecipants.includes(accountAddress) ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"skull-button joined-button\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 33\n      }\n    }, \"Alredy joined\") : /*#__PURE__*/React.createElement(\"button\", {\n      className: \"partecipate-button skull-button \",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 33\n      }\n    }, \"Partecipate\")) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"raffle-box-2 wd-33\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 29\n      }\n    }, \"Start: \", raf.start.toLocaleDateString(\"en-US\")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 29\n      }\n    }, \"End: \", raf.finish.toLocaleDateString(\"en-US\")), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"skull-button soon-button\",\n      disabled: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 29\n      }\n    }, \"Soon!\")) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"raffle-box-2 wd-33\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 25\n      }\n    }, \"Started: \", raf.start.toLocaleDateString(\"en-US\")), /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 25\n      }\n    }, \"Ended: \", raf.finish.toLocaleDateString(\"en-US\")), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"skull-button winners-button\",\n      onClick: function onClick() {\n        openModal(raf);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 25\n      }\n    }, \"View Winners\")));\n  })))));\n};\n\nexport default Raffle;","map":{"version":3,"sources":["F:/Mattia/Visual studio/AppCroskull/croskull-nft-marketplace/src/components/Raffle/Raffle.jsx"],"names":["React","useEffect","useState","coins","Grave","FontAwesomeIcon","faHourglassHalf","faQuestionCircle","MetricContainer","Soul","Rune","Coin","ipfsUri480","ipfsUri128","Raffle","accountAddress","raf1","type","title","nWinners","nPart","cost","win","coin","start","Date","finish","partecipants","winners","text","raf2","raf3","prize","modalState","setModalState","openModal","raf","modal","document","getElementById","style","display","closeModal","rafs","DAY_IN_SEC","HUNDRED_DAYS_IN_SEC","formatDate","timestamp","console","log","tsHours","days","parseInt","hoursDiff","hours","tsMinutes","minutes","crazyDesc","normalDesc","map","winner","overflow","raffleDuration","raffleStart","raffleDurationDate","Coins","includes","toLocaleDateString"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nimport \"react-quill/dist/quill.snow.css\";\r\nimport coins from \"./coins.png\";\r\nimport './Raffle.css';\r\nimport Grave from \"../Navbar/grave.png\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faHourglassHalf, faQuestionCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport MetricContainer from \"../MetricContainer/MetricContainer\";\r\nimport Soul from \"../Navbar/soul.png\";\r\nimport Rune from \"../Navbar/grave-burn.png\";\r\nimport Coin from \"./coins.png\";\r\nconst ipfsUri480 = \"https://croskull.mypinata.cloud/ipfs/QmWu9bKunKbv8Kkq8wEWGpCaW47oMBbH6ep4ZWBzAxHtgj/\";\r\nconst ipfsUri128 = \"https://croskull.mypinata.cloud/ipfs/QmZn1HvYE1o1J8LhNpxFTj5k8LQb2bWT49YvbrhB3r19Xx/\";\r\n\r\nconst Raffle = ({ accountAddress }) => {\r\n  const raf1 = {\r\n    type: \"Crazy-Raffle\",\r\n    title: \"First Raffle\",\r\n    nWinners: 2,\r\n    nPart: 276,\r\n    cost: 5,\r\n    win: 1000,\r\n    coin: 'Soul',\r\n    start: new Date(2022, 1, 12),\r\n    finish: new Date(2022, 1, 25),\r\n    partecipants: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],\r\n    winners: [1, 3],\r\n    text: 'Join now this amazing raffle in partnership with MM.Finance.',\r\n  }\r\n\r\n  const raf2 = {\r\n    type: \"Normal-Raffle\",\r\n    title: \"Second Raffle\",\r\n    nWinners: 5,\r\n    nPart: 1000,\r\n    cost: 5,\r\n    win: 2000,\r\n    coin: 'Grave',\r\n    start: new Date(2022, 2, 12),\r\n    finish: new Date(2022, 2, 25),\r\n    partecipants: [],\r\n    winners: [],\r\n    text: 'Join now this amazing raffle in partnership with MM.Finance.',\r\n  }\r\n\r\n  const raf3 = {\r\n    type: \"Normal-Raffle\",\r\n    title: \"Thrid Raffle\",\r\n    nWinners: 5,\r\n    nPart: 10000,\r\n    cost: 10,\r\n    win: 20000,\r\n    coin: 'Rude',\r\n    start: new Date(2022, 3, 1),\r\n    finish: new Date(2022, 3, 13),\r\n    partecipants: [],\r\n    winners: [],\r\n    text: 'Join now this amazing raffle in partnership with MM.Finance.',\r\n  }\r\n\r\n  const [modalState, setModalState] = useState({\r\n    winners: [],\r\n    prize: 1,\r\n  });\r\n\r\n\r\n  const openModal = (raf) => {\r\n    setModalState({\r\n      winners: raf.winners,\r\n      prize: raf.win / raf.nWinners\r\n    })\r\n    let modal = document.getElementById(\"modal-winners\");\r\n    modal.style.display = \"block\";\r\n\r\n  }\r\n  const closeModal = () => {\r\n    let modal = document.getElementById(\"modal-winners\");\r\n    modal.style.display = \"none\";\r\n  }\r\n  const rafs = [raf1, raf2, raf3, raf2, raf1, raf2, raf1, raf2, raf1, raf2, raf1, raf2];\r\n\r\n  const DAY_IN_SEC = 60 * 60 * 24 * 1000;\r\n  const HUNDRED_DAYS_IN_SEC = 100 * DAY_IN_SEC//100 * DAY_IN_SEC;\r\n  const formatDate = (timestamp) => {\r\n    console.log(timestamp);\r\n    let tsHours = timestamp / 60 / 60 / 1000\r\n    let days = parseInt(timestamp / DAY_IN_SEC)\r\n    let hoursDiff = tsHours - (days * 24)\r\n    let hours = parseInt(hoursDiff)\r\n    let tsMinutes = hoursDiff * 60\r\n    let minutes = parseInt(tsMinutes - (hours * 60))\r\n    return {\r\n      days,\r\n      hours,\r\n      minutes\r\n    }\r\n  }\r\n\r\n  let crazyDesc = 'A Crazy Raffle, every time someone join the time is reduced by 5%';\r\n  let normalDesc = 'A Normal raffle join to get a chance to win!';\r\n\r\n\r\n\r\n  return (\r\n\r\n    <>\r\n      <div className=\"modal\" id=\"modal-winners\">\r\n        <div className=\"modal-w-content\">\r\n          <div className=\"sk-box\">\r\n            <span class=\"close-btn\" onClick={() => { closeModal() }}>&times;</span>\r\n            {\r\n              modalState.winners.map(winner => {\r\n                return(\r\n                  <div>\r\n                    {winner} wins {modalState.prize} coins;\r\n                    </div>\r\n                )\r\n              })\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"sk-container sk-row\" style={{ overflow: 'hidden' }}>\r\n        <div className=\"sk-box sk-column sk-raffle\">\r\n          <h3>Raffle Time!</h3>\r\n          <p>\r\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut eget urna ex. Etiam eleifend interdum lobortis. Morbi laoreet purus sed felis semper posuere.\r\n          </p>\r\n          <div className=\"sk-raffle\">\r\n            {(rafs.map(raf => {\r\n              let raffleDuration = raf.finish - new Date();\r\n              let raffleStart = raf.start - new Date();\r\n              let raffleDurationDate = formatDate(raffleDuration);\r\n              return (\r\n                <div className=\"sk-raffle-item sk-flex\">\r\n                  <div className=\"raffle-box-1 wd-66\">\r\n                  <img src={Coins} />\r\n                    <div >\r\n                      <h5>{raf.type} <FontAwesomeIcon icon={faQuestionCircle} title={raf.type.includes('Normal') ? normalDesc : crazyDesc} /> |\r\n                        | N-Winners: {raf.nWinners} | N-Partecipants: {raf.nPart}</h5>\r\n                      <h3>{raf.title}</h3>\r\n                      <hr></hr>\r\n                      <p>\r\n                        {raf.text} {raf.win} <img src={\r\n                          raf.coin.includes(\"Grave\") ? Grave :\r\n                            raf.coin.includes(\"Soul\") ? Soul :\r\n                              Rune} className=\"skull-icon\" /> will be airdropped!\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  {\r\n                    raffleDuration > 0 ?\r\n                      (\r\n                        raffleStart < 0 ?\r\n                          <div className=\"raffle-box-2 wd-33\">\r\n                            <p>Cost: 5<img src={Grave} className=\"skull-icon\" /></p>\r\n                            <p>Ending in: {raffleDurationDate.days}D {raffleDurationDate.hours}H {raffleDurationDate.minutes}M <FontAwesomeIcon icon={faHourglassHalf} /></p>\r\n                            {\r\n                              raf.partecipants.includes(accountAddress) ?\r\n                                <button className=\"skull-button joined-button\">Alredy joined</button>\r\n                                :\r\n                                <button className=\"partecipate-button skull-button \" >Partecipate</button>\r\n                            }\r\n                          </div>\r\n                          :\r\n                          <div className=\"raffle-box-2 wd-33\" >\r\n                            <p>Start: {raf.start.toLocaleDateString(\"en-US\")}</p>\r\n                            <p>End: {raf.finish.toLocaleDateString(\"en-US\")}</p>\r\n                            <button className=\"skull-button soon-button\" disabled>Soon!</button>\r\n                          </div>\r\n                      )\r\n                      :\r\n                      <div className=\"raffle-box-2 wd-33\">\r\n                        <p>Started: {raf.start.toLocaleDateString(\"en-US\")}</p>\r\n                        <p>Ended: {raf.finish.toLocaleDateString(\"en-US\")}</p>\r\n\r\n                        <button className=\"skull-button winners-button\" onClick={() => { openModal(raf) }}>View Winners</button>\r\n                      </div>\r\n                  }\r\n                </div>\r\n              )\r\n            }))}\r\n          </div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nexport default Raffle;\r\n"]},"metadata":{},"sourceType":"module"}