{"ast":null,"code":"import _regeneratorRuntime from \"F:\\\\Mattia\\\\Visual studio\\\\AppCroskull\\\\croskull-nft-marketplace\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"F:\\\\Mattia\\\\Visual studio\\\\AppCroskull\\\\croskull-nft-marketplace\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"F:\\\\Mattia\\\\Visual studio\\\\AppCroskull\\\\croskull-nft-marketplace\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"F:\\\\Mattia\\\\Visual studio\\\\AppCroskull\\\\croskull-nft-marketplace\\\\src\\\\components\\\\Navbar\\\\Navbar.jsx\";\n\nimport React, { useState } from \"react\";\nimport store from \"../../redux/store\";\nimport cryptoIcon from \"./crypto-com.svg\";\nimport { connect, disconnect } from \"../../redux/blockchain/blockchainActions\";\nimport { DeFiWeb3Connector } from 'deficonnect';\nimport WalletConnectProvider from '@walletconnect/web3-provider';\nimport Web3Modal from 'web3modal';\nimport Logo from \"./logo-white.png\";\nimport Grave from \"./grave.png\";\nimport GraveBurn from \"./grave-burn.png\";\nimport Skull from \"./skull.png\";\nimport GraveMined from \"./grave-mined.png\";\nimport GraveAvailable from \"./grave-available.png\";\nimport SkullAdventure from './skull-adventure.png';\nimport { Link } from \"react-router-dom\";\nimport menuIcon from \"./menu-icon.svg\";\nimport Soul from \"./soul.png\";\nimport { useDispatch } from \"react-redux\";\nimport './navbar.css';\n\nvar Navbar = function Navbar() {\n  var dispatch = useDispatch();\n\n  var _store$getState = store.getState(),\n      blockchain = _store$getState.blockchain,\n      data = _store$getState.data;\n\n  var rewardPlusMalus = data.rewardPlusMalus,\n      soulsBalance = data.soulsBalance,\n      userGraveBalance = data.userGraveBalance,\n      croSkulls = data.croSkulls,\n      rewards = data.rewards,\n      croSkullsStaked = data.croSkullsStaked,\n      daysLastWithdraw = data.daysLastWithdraw;\n  var accountAddress = blockchain.accountAddress,\n      formatEther = blockchain.formatEther,\n      contractDetected = blockchain.contractDetected;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isHovered = _useState2[0],\n      setIsHovered = _useState2[1];\n\n  var malusPercent = (800 - 25 * daysLastWithdraw) / 10;\n  /*\r\n    useEffect( () => {\r\n      if(  window.ethereum._state.accounts[0] && ! loading && ! contractDetected ){\r\n        dispatch( connect() )\r\n      }\r\n    }, [window.ethereum.selectedAddress])\r\n  */\n\n  var toggleProvidersModal = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return web3Modal._toggleModal();\n\n            case 2:\n              web3ModalConnection();\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function toggleProvidersModal() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var web3ModalConnection = function web3ModalConnection() {\n    web3Modal.on(\"connect\", /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_provider) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                dispatch(connect(_provider));\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  };\n\n  var handleButton = function handleButton() {\n    if (isHovered) {\n      if (contractDetected) {\n        dispatch(disconnect());\n      } else {\n        toggleProvidersModal();\n      }\n    }\n  };\n\n  var malusAmount = rewards > 0 ? formatEther(rewards, true) - formatEther(rewardPlusMalus, true) : 0;\n  return /*#__PURE__*/React.createElement(\"nav\", {\n    className: \"navbar navbar-expand-sm header\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: \"crLogo\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: Logo,\n    alt: \"CroSkull Logo\",\n    className: \"site-logo\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"navbar-toggler\",\n    \"data-toggle\": \"collapse\",\n    \"data-target\": \"#navbarNav\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"navbar-toggler-icon\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: menuIcon,\n    className: \"toggler-icon\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sk-flex sk-row balances\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main-balance\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"skull-icon\",\n    src: Skull,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }), \"\".concat(croSkulls.length ? croSkulls.length : 0), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sk-tooltip\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, \"Free skulls\")), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"skull-icon\",\n    src: Grave,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }), \"\".concat(formatEther(userGraveBalance, true)), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sk-tooltip\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, \"Owned Grave\")), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"skull-icon\",\n    src: Soul,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }), \"\".concat(soulsBalance), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sk-tooltip\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, \"Owned Soul\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"balances-offcanvas\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"skull-button view-more\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, \"More\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-v season\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  }, \"Season\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"skull-icon\",\n    src: SkullAdventure,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 17\n    }\n  }), \"\".concat(croSkullsStaked.length ? croSkullsStaked.length : 0), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sk-tooltip\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, \"Skulls in adventure\")), /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"skull-icon\",\n    src: GraveMined,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }), \"\".concat(formatEther(rewards, true)), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sk-tooltip\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }, \"Generated Grave\")), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"positive\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"skull-icon\",\n    src: GraveAvailable,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 17\n    }\n  }), \"\".concat(formatEther(rewardPlusMalus, true)), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sk-tooltip\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }, \"Withdrawable Grave\")), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"negative\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"skull-icon\",\n    src: GraveBurn,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }), \"\".concat(malusAmount, \" -(\").concat(malusPercent, \"%)\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sk-tooltip\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }\n  }, \"Burned Grave\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"navbarNav\",\n    className: \"collapse navMenu navbar-collapse\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    style: {\n      fontSize: \"0.8rem\",\n      letterSpacing: \"0.2rem\"\n    },\n    className: \"navbar-nav ml-auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: \"nav-link\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, \"Home\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/marketplace\",\n    className: \"nav-link\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }, \"Marketplace\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/tavern\",\n    className: \"nav-link\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }\n  }, \"Tavern\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/adventure\",\n    className: \"nav-link\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }\n  }, \"Adventure\")), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"nav-item merchant-menu\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/merchant\",\n    className: \"nav-link\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }\n  }, \"Merchant\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex-v\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"account-button\",\n    onMouseEnter: function onMouseEnter() {\n      return setIsHovered(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setIsHovered(false);\n    },\n    onClick: function onClick() {\n      handleButton();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }\n  }, !contractDetected ? \"Connect\" : isHovered ? \"Disconnect\" : \"\".concat(accountAddress.substr(0, 5), \"...\").concat(accountAddress.substr(39, 41)))));\n};\n\nvar providerOptions = {\n  injected: {\n    display: {\n      logo: \"https://github.com/MetaMask/brand-resources/raw/master/SVG/metamask-fox.svg\",\n      name: \"MetaMask\",\n      description: \"Connect with MetaMask in your browser\"\n    },\n    package: null\n  },\n  \"custom-defiwallet\": {\n    display: {\n      logo: cryptoIcon,\n      name: \"Crypto.com DeFi Wallet\",\n      description: \"Connect with the CDC DeFi Wallet\"\n    },\n    options: {},\n    package: WalletConnectProvider,\n    connector: function () {\n      var _connector = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(ProviderPackage, options) {\n        var connector, provider;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                connector = new DeFiWeb3Connector({\n                  supportedChainIds: [25],\n                  //rpc: {25: 'https://gateway.nebkas.ro'},\n                  rpc: {\n                    25: 'https://evm.cronos.org'\n                  },\n                  pollingInterval: 15000,\n                  metadata: {\n                    icons: ['https://ebisusbay.com/vector%20-%20face.svg'],\n                    description: \"Cronos NFT Marketplace\"\n                  }\n                });\n                _context3.next = 3;\n                return connector.activate();\n\n              case 3:\n                _context3.next = 5;\n                return connector.getProvider();\n\n              case 5:\n                provider = _context3.sent;\n                return _context3.abrupt(\"return\", provider);\n\n              case 7:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function connector(_x2, _x3) {\n        return _connector.apply(this, arguments);\n      }\n\n      return connector;\n    }()\n  }\n};\nvar web3Modal = new Web3Modal({\n  cacheProvider: false,\n  // optional\n  providerOptions: providerOptions // required\n\n});\nexport default Navbar;","map":{"version":3,"sources":["F:/Mattia/Visual studio/AppCroskull/croskull-nft-marketplace/src/components/Navbar/Navbar.jsx"],"names":["React","useState","store","connect","disconnect","DeFiWeb3Connector","WalletConnectProvider","Web3Modal","Logo","Grave","GraveBurn","Skull","GraveMined","GraveAvailable","SkullAdventure","Link","Soul","useDispatch","Navbar","dispatch","getState","blockchain","data","rewardPlusMalus","soulsBalance","userGraveBalance","croSkulls","rewards","croSkullsStaked","daysLastWithdraw","accountAddress","formatEther","contractDetected","isHovered","setIsHovered","malusPercent","toggleProvidersModal","web3Modal","_toggleModal","web3ModalConnection","on","_provider","handleButton","malusAmount","menuIcon","length","fontSize","letterSpacing","substr","providerOptions","injected","display","logo","name","description","package","cryptoIcon","options","connector","ProviderPackage","supportedChainIds","rpc","pollingInterval","metadata","icons","activate","getProvider","provider","cacheProvider"],"mappings":"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","sourcesContent":["import React , { useState } from \"react\";\r\nimport store from \"../../redux/store\";\r\nimport cryptoIcon from \"./crypto-com.svg\";\r\nimport { connect, disconnect } from \"../../redux/blockchain/blockchainActions\";\r\nimport {DeFiWeb3Connector } from 'deficonnect';\r\nimport WalletConnectProvider from '@walletconnect/web3-provider';\r\nimport Web3Modal from 'web3modal';\r\nimport Logo from \"./logo-white.png\";\r\nimport Grave from \"./grave.png\";\r\nimport GraveBurn from \"./grave-burn.png\";\r\nimport Skull from \"./skull.png\";\r\nimport GraveMined from \"./grave-mined.png\";\r\nimport GraveAvailable from \"./grave-available.png\";\r\nimport SkullAdventure from './skull-adventure.png';\r\nimport { Link } from \"react-router-dom\";\r\nimport menuIcon from \"./menu-icon.svg\";\r\nimport Soul from \"./soul.png\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport './navbar.css';\r\n\r\nconst Navbar = () => {\r\n  const dispatch = useDispatch();\r\n  let { blockchain, data } = store.getState();\r\n  let { rewardPlusMalus, soulsBalance, userGraveBalance, croSkulls, rewards, croSkullsStaked, daysLastWithdraw } = data\r\n  let { accountAddress, formatEther, contractDetected } = blockchain\r\n  const [isHovered, setIsHovered] = useState(false)\r\n  let malusPercent = ( 800 - ( 25 * daysLastWithdraw ) ) / 10\r\n\r\n  /*\r\n    useEffect( () => {\r\n      if(  window.ethereum._state.accounts[0] && ! loading && ! contractDetected ){\r\n        dispatch( connect() )\r\n      }\r\n    }, [window.ethereum.selectedAddress])\r\n*/\r\n  \r\n\r\n  const toggleProvidersModal = async () => {\r\n    await web3Modal._toggleModal();\r\n    web3ModalConnection()\r\n  }\r\n\r\n  const web3ModalConnection = () => {\r\n    web3Modal.on(\"connect\", async (_provider) => {\r\n      dispatch(connect( _provider ))\r\n    })\r\n  }\r\n\r\n  const handleButton = () => {\r\n    if( isHovered ){\r\n      if( contractDetected ){\r\n        dispatch(disconnect())\r\n      }else{\r\n        toggleProvidersModal()\r\n      }\r\n    }\r\n  }\r\n\r\n  let malusAmount = rewards > 0 ? formatEther( rewards , true) - formatEther( rewardPlusMalus, true) : 0\r\n  return (\r\n    <nav className=\"navbar navbar-expand-sm header\">\r\n      <Link to=\"/\" className=\"crLogo\">\r\n        <img src={Logo} alt=\"CroSkull Logo\" className=\"site-logo\"/>\r\n      </Link>\r\n      <button\r\n        className=\"navbar-toggler\"\r\n        data-toggle=\"collapse\"\r\n        data-target=\"#navbarNav\"\r\n      >\r\n        <span className=\"navbar-toggler-icon\">\r\n          <img \r\n            src={menuIcon}\r\n            className=\"toggler-icon\"\r\n             />\r\n        </span>\r\n      </button>\r\n      <div \r\n        className=\"sk-flex sk-row balances\"\r\n      >\r\n        <div className=\"main-balance\">\r\n          <span>\r\n            <img \r\n              className=\"skull-icon\"\r\n              src={Skull}\r\n            />\r\n            { `${croSkulls.length ? croSkulls.length : 0}` }\r\n            <span className=\"sk-tooltip\">Free skulls</span>\r\n          </span>\r\n          <span>\r\n            <img \r\n              className=\"skull-icon\"\r\n              src={Grave}\r\n            />\r\n            { `${formatEther(userGraveBalance, true)}` }\r\n            <span className=\"sk-tooltip\">Owned Grave</span>\r\n          </span>\r\n          <span>\r\n            <img \r\n              className=\"skull-icon\"\r\n              src={Soul}\r\n            />\r\n            { `${ soulsBalance }` }\r\n            <span className=\"sk-tooltip\">Owned Soul</span>\r\n          </span>\r\n        </div>\r\n        <div className=\"balances-offcanvas\">\r\n          <button\r\n            className=\"skull-button view-more\"\r\n          >\r\n            More\r\n          </button>\r\n          <div className={`flex-v season`}>\r\n              <span>Season</span>\r\n              <span>\r\n                <img \r\n                  className=\"skull-icon\"\r\n                  src={SkullAdventure}\r\n                />\r\n                { `${ croSkullsStaked.length ? croSkullsStaked.length : 0}` }\r\n                <span className=\"sk-tooltip\">Skulls in adventure</span>\r\n              </span>\r\n              <span>\r\n                <img \r\n                  className=\"skull-icon\"\r\n                  src={GraveMined}\r\n                />\r\n                { `${formatEther(rewards, true)}` }\r\n                <span className=\"sk-tooltip\">Generated Grave</span>\r\n              </span>\r\n              <span\r\n                className=\"positive\"\r\n              >\r\n                <img \r\n                  className=\"skull-icon\"\r\n                  src={GraveAvailable}\r\n                />\r\n                { `${formatEther(rewardPlusMalus, true)}` }\r\n                <span className=\"sk-tooltip\">Withdrawable Grave</span>\r\n              </span>\r\n              <span className=\"negative\">\r\n                <img \r\n                  className=\"skull-icon\"\r\n                  src={GraveBurn}\r\n                />\r\n                { `${ malusAmount } -(${malusPercent}%)` }\r\n                <span className=\"sk-tooltip\">Burned Grave</span>\r\n              </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div \r\n        id=\"navbarNav\" \r\n        className={`collapse navMenu navbar-collapse`}\r\n      >\r\n        <ul\r\n          style={{ fontSize: \"0.8rem\", letterSpacing: \"0.2rem\" }}\r\n          className=\"navbar-nav ml-auto\"\r\n        >\r\n          <li className=\"nav-item\">\r\n            <Link to=\"/\" className=\"nav-link\">\r\n              Home\r\n            </Link>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <Link to=\"/marketplace\" className=\"nav-link\">\r\n              Marketplace\r\n            </Link>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <Link to=\"/tavern\" className=\"nav-link\">\r\n              Tavern\r\n            </Link>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <Link to=\"/adventure\" className=\"nav-link\">\r\n              Adventure\r\n            </Link>\r\n          </li>\r\n          <li className=\"nav-item merchant-menu\">\r\n            <Link to=\"/merchant\" className=\"nav-link\">\r\n              Merchant\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <div \r\n        className=\"flex-v\"\r\n      >\r\n        <button\r\n          className=\"account-button\"\r\n          onMouseEnter={() => setIsHovered(true)}\r\n          onMouseLeave={() => setIsHovered(false)}\r\n          onClick={\r\n            () => {\r\n              handleButton()\r\n            }\r\n          }\r\n        >\r\n          { ! contractDetected ?\r\n            `Connect` :\r\n            isHovered ? `Disconnect` : `${accountAddress.substr(0, 5)}...${accountAddress.substr(39, 41)}` }\r\n        </button>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nconst providerOptions = {\r\n  injected: {\r\n      display: {\r\n          logo: \"https://github.com/MetaMask/brand-resources/raw/master/SVG/metamask-fox.svg\",\r\n          name: \"MetaMask\",\r\n          description: \"Connect with MetaMask in your browser\"\r\n      },\r\n      package: null\r\n  },\r\n  \"custom-defiwallet\": {\r\n      display: {\r\n          logo: cryptoIcon,\r\n          name: \"Crypto.com DeFi Wallet\",\r\n          description: \"Connect with the CDC DeFi Wallet\"\r\n      },\r\n      options: {},\r\n      package: WalletConnectProvider,\r\n      connector: async (ProviderPackage, options) =>  {\r\n          const connector = new DeFiWeb3Connector({\r\n              supportedChainIds: [25],\r\n              //rpc: {25: 'https://gateway.nebkas.ro'},\r\n              rpc: {25: 'https://evm.cronos.org'},\r\n              pollingInterval: 15000,\r\n              metadata: {\r\n                  icons: ['https://ebisusbay.com/vector%20-%20face.svg'],\r\n                  description: \"Cronos NFT Marketplace\"\r\n              }\r\n          });\r\n\r\n          await connector.activate();\r\n          let provider = await connector.getProvider();\r\n          return provider;\r\n      }\r\n  }\r\n}\r\n\r\nconst web3Modal = new Web3Modal({\r\n  cacheProvider: false, // optional\r\n  providerOptions // required\r\n});\r\n\r\nexport default Navbar;\r\n"]},"metadata":{},"sourceType":"module"}